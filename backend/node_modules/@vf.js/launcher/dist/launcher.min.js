/*!
 * launcher.min.js 
 *  Compiled Mon Nov 15 2021 06:45:20 GMT+0000 (Coordinated Universal Time) 
 *  Engine website: https://vf-doc.yunkc.cn/ 
 *  Version: 2.0.12
 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var o in i)("object"==typeof exports?exports:e)[o]=i[o]}}(window,(function(){return function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t),i.d(t,"vfOptions",(function(){return p})),i.d(t,"deleteVF",(function(){return y})),i.d(t,"createVF",(function(){return v}));var o,n=function(){function e(e){this._readyState="app_init",this.onError=function(e){},this.onMessage=function(e){},this.onDispose=function(){},this.option=e;var t=this.createApp();this.app=t.app,this.stage=t.uiStage,t.uiStage.on("message",this.onMessage,this),this.readyState="app_init"}return Object.defineProperty(e.prototype,"readyState",{get:function(){return this._readyState},set:function(e){this._readyState=e,this.stage.emit("message",{code:"app_init",level:"info",data:e})},enumerable:!1,configurable:!0}),e.prototype.createApp=function(){var e=this.option,t=this.app=new vf.Application({backgroundColor:parseInt(e.bgcolor||"0",16),transparent:"transparent"===e.wmode,antialias:!0,resolution:e.resolution,forceCanvas:e.forceCanvas,powerPreference:"low-power"});e.container.appendChild(this.app.view);var i=vf.gui.Utils,o=i.getBoundingClientRect(e.container),n=i.formatRelative(e.width,o.width),r=i.formatRelative(e.height,o.height),a=new vf.gui.Stage(n,r,t);i.calculateUpdatePlayerSize(e.container,t,a,n,r,e.scaleMode);var s=e.frameRate||30;return t.ticker.maxFPS=s,vf.Ticker.system.maxFPS=s,vf.Ticker.shared.stop(),vf.Ticker.shared.maxFPS=s,vf.gui.TickerShared.maxFPS=s,vf.gui.Utils.debug=e.debug||!1,{app:t,uiStage:a}},Object.defineProperty(e.prototype,"Main",{get:function(){return this._main},enumerable:!1,configurable:!0}),e.prototype.play=function(e,t){var i=this;e&&t&&vf.utils.readFileSync(e,{moduleName:t}).then((function(e){i._main=new e(i),i.readyState="app_ready"}))},e.prototype.message=function(e){this.stage.emit("onMessage",e)},e.prototype.dispose=function(){"app_disabled"!==this.readyState&&(this.readyState="app_disabled",this._main&&this._main.releaseAll&&this._main.releaseAll(),this._main=void 0,this.onDispose())},e.prototype.destroy=function(){vf.AudioEngine.Ins().dispose(),this.dispose(),this.stage.offAll(),this.stage.releaseAll(),this.app.destroy(!0,{children:!0,texture:!0,baseTexture:!0}),this.option=null,this.app=null,this.stage=null,this.onDispose()},e.prototype.on=function(e,t,i){this.stage.on(e,t,i)},e.prototype.off=function(e,t,i){this.stage.off(e,t,i)},e}();function r(e){for(var t=window.location.search.substring(1).split("&"),i=0;i<t.length;i++){var o=t[i].split("=");if(o[0]===e)return o[1]}}!function(e){e.errorOther="vf_launcher_error",e.ok="vf_launcher_loader_ok",e.error="vf_launcher_loader_error",e.outime="vf_launcher_loader_outtime",e.argumentsError="vf_launcher_argumentsError",e.optionInfo="vf_launcher_optionInfo",e.engineJsonOk="vf_launcher_engineJsonOk",e.engineLibOk="vf_launcher_engineLibOk",e.createPlayer="vf_launcher_createPlayer",e.createApp="vf_launcher_createApp"}(o||(o={}));var a=[],s=-1===location.host.indexOf("127.0.0.1"),l="vf-runtime-log",d="cn-beijing.log.aliyuncs.com",h="runtime";function c(e,t){localStorage.getItem("localUUID")||localStorage.setItem("localUUID",("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-"+Date.now()).replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})));var i=p.platform,o=new URLSearchParams;o.append("eventId",e),o.append("product","launcher"),o.append("localUUID",localStorage.getItem("localUUID")),o.append("userid",String(i.userid)),o.append("roomId",String(i.roomid)),o.append("roleType",String(i.role)),o.append("from",String(i.from));try{o.append("content",JSON.stringify(t||{}))}catch(t){console.warn("VF-LOG:","序列化失败 eventId:"+e)}o.append("message",t.message||"");try{var n=new XMLHttpRequest;n.responseType="json",n.open("GET","https://"+l+"."+d+"/logstores/"+h+"/track?APIVersion=0.6.0&"+o.toString()),n.send()}catch(e){console.error(e)}}function g(e){var t={code:e.code,level:e.level,data:e.data,message:e.message,time:Date.now()};if(p.debug&&console.log("VF-LOG:",e),s){for(;a.length>0;)c(t.code,a.shift());c(t.code,t),localStorage.removeItem("log_localLog")}else{a.push(t);try{localStorage.setItem("log_localLog",JSON.stringify(a))}catch(t){console.warn("VF-LOG:","序列化失败 code:"+e.code)}}}var I,p,u=function(){function e(e,t,i,o){void 0===o&&(o="text"),this.cdns=[],this.resetCount=1,this.xhr=new XMLHttpRequest,this.xhrType="",this.url="",this._curUrl="",this.outtimeId=-1,this.cdns=e,this.url=t,this.xhrType=o,this.callBack=i,this.bindonload=this.onload.bind(this),this.bindonreadystatechange=this.onreadystatechange.bind(this),this.bindononerror=this.onerror.bind(this),this.bindonouttime=this.onouttime.bind(this)}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curUrl",{get:function(){return this._curUrl},enumerable:!1,configurable:!0}),e.prototype.load=function(){var e=this,t=this,i=t.xhr,o=t.url,n=t.cdns,r=t.resetCount,a=t.xhrType;r>this.cdns.length?this._callBack(0):(this._curUrl=n[0]+o,i.timeout=5e3,i.responseType=a,i.addEventListener("load",this.bindonload),i.addEventListener("readystatechange",this.bindonreadystatechange),i.addEventListener("error",this.bindononerror),i.addEventListener("timeout",this.bindonouttime),i.open("GET",this._curUrl,!0),i.send(),this.outtimeId=window.setTimeout((function(){e.onouttime()}),5e3))},e.prototype.clear=function(){var e=this.xhr,t=this.outtimeId;clearTimeout(t),e.removeEventListener("load",this.bindonload),e.removeEventListener("readystatechange",this.bindonreadystatechange),e.removeEventListener("error",this.bindononerror),e.removeEventListener("timeout",this.bindonouttime),e.abort()},e.prototype.reset=function(){this.resetCount++,this.clear(),this.xhr=new XMLHttpRequest},e.prototype.onload=function(){var e=this.xhr,t=this._curUrl;if(!(4===e.readyState&&e.status>=400))return g({code:o.ok,message:"ok "+t+" #"+e.status+" # "+e.readyState,level:"info"}),this._callBack(1),null},e.prototype.onreadystatechange=function(e){var t=this.xhr,i=this._curUrl;void 0!==e&&void 0!==e.currentTarget&&(2===t.readyState||4===t.readyState)&&t.status>=400&&(g({code:o.error,message:"网络异常 "+i+" #"+t.status+" # "+t.readyState,level:"error"}),this.reset(),this.load())},e.prototype.onerror=function(){var e=this.xhr,t=this._curUrl;g({code:o.error,message:"跨域或异常 "+t+" #"+e.status+" # "+e.readyState,level:"error"}),this._callBack(0)},e.prototype.onouttime=function(){var e=this.xhr,t=this._curUrl;g({code:o.outime,message:"加载超时 "+t+" #"+e.status+" # "+e.readyState,level:"error"}),this.reset(),this.load()},e.prototype._callBack=function(e,t){var i=this.xhr,o=this.callBack;this._data=t||i.response,this.clear(),this.callBack=void 0,o(this,e,this._data)},e.prototype.dispose=function(){this._data=void 0,this.callBack=void 0,this.clear()},e}(),m=function(){function e(e){this._isShow=!1,this.position="rightBottom",this._parent=e,this._image="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyAgZGlzcGxheTogYmxvY2s7IHNoYXBlLXJlbmRlcmluZzogYXV0bzsiIHdpZHRoPSI0MXB4IiBoZWlnaHQ9IjQxcHgiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+CjxnIHRyYW5zZm9ybT0icm90YXRlKDAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuOTE2NjY2NjY2NjY2NjY2NnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMzAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuODMzMzMzMzMzMzMzMzMzNHMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoNjAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuNzVzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDkwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDYiIHk9IjI5IiByeD0iNCIgcnk9IjMiIHdpZHRoPSI4IiBoZWlnaHQ9IjYiICA+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjY2NjY2NjY2NjY2NjY2NjZzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDEyMCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ2IiB5PSIyOSIgcng9IjQiIHJ5PSIzIiB3aWR0aD0iOCIgaGVpZ2h0PSI2IiAgPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC41ODMzMzMzMzMzMzMzMzM0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuNXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTgwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDYiIHk9IjI5IiByeD0iNCIgcnk9IjMiIHdpZHRoPSI4IiBoZWlnaHQ9IjYiICA+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjQxNjY2NjY2NjY2NjY2NjdzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDIxMCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ2IiB5PSIyOSIgcng9IjQiIHJ5PSIzIiB3aWR0aD0iOCIgaGVpZ2h0PSI2IiAgPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC4zMzMzMzMzMzMzMzMzMzMzcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgyNDAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuMjVzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDI3MCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ2IiB5PSIyOSIgcng9IjQiIHJ5PSIzIiB3aWR0aD0iOCIgaGVpZ2h0PSI2IiAgPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC4xNjY2NjY2NjY2NjY2NjY2NnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMzAwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDYiIHk9IjI5IiByeD0iNCIgcnk9IjMiIHdpZHRoPSI4IiBoZWlnaHQ9IjYiICA+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjA4MzMzMzMzMzMzMzMzMzMzcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgzMzAgNTAgNTApIj4KICA8cmVjdCB4PSI0NiIgeT0iMjkiIHJ4PSI0IiByeT0iMyIgd2lkdGg9IjgiIGhlaWdodD0iNiIgID4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiBrZXlUaW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iMHMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg=="}return Object.defineProperty(e.prototype,"image",{get:function(){return this._image},set:function(e){this._loadingImg&&(this._loadingImg.src=e),this._image=e},enumerable:!1,configurable:!0}),e.prototype.show=function(){if(this._parent){var e=this._parent;if(!this._isShow&&this._image){this._isShow=!0;var t=this._loadingImg=new Image;t.name="vf-loading",t.id=Date.now().toString(),t.style.position="absolute",t.src=this._image;var i=this.getInnerBound(e),o=this.position;t.onload=function(){var n=i.w-t.width,r=i.h-t.height;switch(o){case"leftTop":n=0,r=0;break;case"rightTop":n=i.w-t.width,r=0;break;case"leftBottom":n=0,r=i.h-t.height;break;case"rightBottom":n=i.w-t.width,r=i.h-t.height;break;default:n=i.w-t.width>>1,r=i.h-t.height>>1}Array.isArray(o)&&(n=o[0],r=o[1]),t.style.left=n+"px",t.style.top=r+"px",e.appendChild(t)}}}},e.prototype.hide=function(){var e=this._loadingImg;e&&e.parentNode&&(e.onload=null,e.parentNode.removeChild(e),e.remove()),this._isShow=!1},e.prototype.dispose=function(){this._loadingImg=void 0,this._parent=void 0,this._image=void 0},e.prototype.getInnerBound=function(e){for(var t=e,i=e.clientWidth,o=e.clientHeight,n=0;n<5;n++){if(0!==t.clientWidth||!t.parentElement){i=t.clientWidth,o=t.clientHeight;break}t=t.parentElement}return{w:i,h:o}},e}(),f=function(){function e(e,t){if(this._libs=[],this._loadCount=0,this.localDebug=new Map,this.buildVersion="2.0.12",this.buildInfo="11/15/2021, 6:45:20 AM",void 0===t){var i="VFLauncher constructor Expected 2-3 arguments";throw g({code:o.argumentsError,message:i,level:"error"}),new Error(i)}e.scaleMode||(e.scaleMode="showAll"),e.vfvars||(e.vfvars={}),void 0===e.usePlayer&&(e.usePlayer=!0),void 0===e.version&&(e.version=this.buildVersion);var n=this._loading=new m(e.container);e.loading&&(e.loading.position&&(n.position=e.loading.position),e.loading.image&&(n.image=e.loading.image)),this.localDebug.set("vfJson",r("proxyJson")||e.debugEengineJson),this.localDebug.set("vf",r("proxyVF")||e.debugVFPath),this.localDebug.set("vf.gui",r("proxyGUI")||e.debugGuiPath),this.localDebug.set("vf.player",r("proxyPlayer")||e.debugPlayerPath),this._ops=e,this._completeCall=t,this.loadEngineJson()}return e.prototype.loadEngineJson=function(){this._loading.show();var e="vf/v"+this._ops.version+".json",t=["//vf-cdn.yunkc.cn/","//vf-cdn.yunkc.cn/"];void 0!==this.localDebug.get("vfJson")&&(e="",t=[""+this.localDebug.get("vfJson")]),new u(t,e,this.onEngineJsonLoad.bind(this),"json").load()},e.prototype.onEngineJsonLoad=function(e,t,i){var n=this;if(e.dispose(),t&&i){var r=["//vf-cdn.yunkc.cn/","//vf-cdn.yunkc.cn/"],a=this._ops,s=this._libs;if(g({code:o.engineJsonOk,message:"v"+a.version+"引擎配置加载完成",data:navigator.userAgent,level:"info"}),a.debug&&s.push(new u(r,"tools/vconsole.min.js",this.onLoadJs.bind(this))),a.showFPS&&s.push(new u(r,"tools/stats.min.js",this.onLoadJs.bind(this))),-1===function(e,t){for(var i=e.split("."),o=t.split("."),n=Math.min(i.length,o.length),r=0,a=0;r<n&&0==(a=parseInt(i[r])-parseInt(o[r]));)r++;return a>0?1:0===a?0:-1}(a.version,i[0].version||"0.0.0")){var l="版本不兼容，请升级launcher版本，当前版本"+this.buildVersion;throw g({code:o.argumentsError,message:l,data:i[0],level:"error"}),new Error(l)}i.shift(),i.forEach((function(e){n.localDebug.get(e.packageName)?s.push(new u([""+n.localDebug.get(e.packageName)],"",n.onLoadJs.bind(n))):s.push(new u(r,"vf/engine/"+e.path,n.onLoadJs.bind(n)))})),s.forEach((function(e){e.load()}))}else g({code:o.argumentsError,message:"引擎版本异常",data:t,level:"error"}),alert(e.curUrl+" 引擎版本异常")},e.prototype.onLoadJs=function(e,t,i){t&&i?(this._loadCount++,this._loadCount===this._libs.length&&(g({code:o.engineLibOk,message:"引擎库加载完成",data:t,level:"info"}),this.createEngine())):(g({code:o.argumentsError,message:"引擎库版本异常！",data:t,level:"error"}),alert(e.curUrl+" 引擎库版本异常！"))},e.prototype.createEngine=function(){var e=this;if(this._libs.forEach((function(t){var i=document.createElement("script");i.title=e._ops.version,i.setAttribute("name","vf-script"),i.setAttribute("crossorigin","anonymous"),i.text=t.data,document.body.appendChild(i)})),this._completeCall){this.showDebug(),vf.utils.skipHello(),this._player&&this._player.dispose(),this._ops.usePlayer?(g({code:o.createPlayer,message:"创建播放器项目",level:"info"}),this._player=new window.vf.player.Player(this._ops)):(g({code:o.createApp,message:"创建独立项目",level:"info"}),this._player=new n(this._ops)),vf.utils.versionPrint(this._ops.version);var t=this._player;t&&t.on&&(t.on("showLoading",this.showLoading,this),t.on("hideLoading",this.hideLoading,this),t.on("inputLog",this.inputLog,this)),this._completeCall(this._player)}this._libs.forEach((function(e){e.dispose()}))},e.prototype.showLoading=function(){this._loading.show()},e.prototype.hideLoading=function(){this._loading.hide()},e.prototype.inputLog=function(e){g(e)},e.prototype.showDebug=function(){var e=vf.utils.getSystemInfo().device.type;if(this._ops.debug&&("mobile"===e||"tablet"===e)){var t=new window.VConsole;this._ops.showConsole&&t.show()}if(this._ops.showFPS){var i=new window.Stats;i.showPanel(0),document.body.appendChild(i.dom);var o=function(){i.begin(),i.end(),requestAnimationFrame(o)};requestAnimationFrame(o)}},e.prototype.dispose=function(){var e=this._player,t=this._loading;e&&(e.off&&(e.off("showLoading",this._loading.show,this),e.off("hideLoading",this._loading.hide,this),e.off("inputLog",g,this)),e.dispose(),t.dispose()),this._libs.forEach((function(e){e.dispose()})),this._libs.length=0,this._completeCall=void 0,this._ops=void 0},e}();function y(){try{document.getElementsByName("vf-script").forEach((function(e){e.onload=null,e.onerror=null,e.remove()})),I&&(I.dispose(),I=void 0),a.length=0}catch(e){g({code:o.argumentsError,message:"string"==typeof e?e:JSON.parse(e),level:"error"})}}function v(e,t){p=e,void 0===e.platform&&(e.platform={userid:-1,roomid:"-1",role:1,from:"mySefl"}),y(),g({code:o.optionInfo,message:"配置信息",data:JSON.stringify(e),level:"info"}),I=new f(e,t)}}])}));
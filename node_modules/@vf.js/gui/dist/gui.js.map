{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/UI.ts","webpack:///./src/core/Background.ts","webpack:///./src/core/ContainerBase.ts","webpack:///./src/core/DisplayLayoutAbstract.ts","webpack:///./src/core/DisplayLayoutKeys.ts","webpack:///./src/core/DisplayLayoutValidator.ts","webpack:///./src/core/DisplayObject.ts","webpack:///./src/core/DisplayObjectAbstract.ts","webpack:///./src/core/Filter.ts","webpack:///./src/core/Mask.ts","webpack:///./src/core/Scheduler.ts","webpack:///./src/core/Stage.ts","webpack:///./src/core/Ticker.ts","webpack:///./src/core/plugs/HitArea.ts","webpack:///./src/core/plugs/LineGradient.ts","webpack:///./src/core/plugs/UIBaseDrag.ts","webpack:///./src/core/plugs/UIClick.ts","webpack:///./src/display/Alert.ts","webpack:///./src/display/Arrow.ts","webpack:///./src/display/Audio.ts","webpack:///./src/display/AutoContainer.ts","webpack:///./src/display/Button.ts","webpack:///./src/display/CheckBox.ts","webpack:///./src/display/Circle.ts","webpack:///./src/display/ConnectLine.ts","webpack:///./src/display/Container.ts","webpack:///./src/display/Ellipse.ts","webpack:///./src/display/FollowLine.ts","webpack:///./src/display/Graphics.ts","webpack:///./src/display/Image.ts","webpack:///./src/display/Isosceles.ts","webpack:///./src/display/Label.ts","webpack:///./src/display/PathGraphics.ts","webpack:///./src/display/Polygon.ts","webpack:///./src/display/Rect.ts","webpack:///./src/display/ScrollBar.ts","webpack:///./src/display/ScrollingContainer.ts","webpack:///./src/display/Slider.ts","webpack:///./src/display/SpriteAnimated.ts","webpack:///./src/display/Star.ts","webpack:///./src/display/TextInput.ts","webpack:///./src/display/Tracing.ts","webpack:///./src/display/Video.ts","webpack:///./src/display/VideoBtn.ts","webpack:///./src/display/animation/Animation.ts","webpack:///./src/display/animation/AnimationJitter.ts","webpack:///./src/display/animation/AnimationPath.ts","webpack:///./src/display/animation/PathTimeline.ts","webpack:///./src/display/animation/Timeline.ts","webpack:///./src/display/private/AnimationBase.ts","webpack:///./src/display/private/GifSprite.ts","webpack:///./src/display/private/GraphBase.ts","webpack:///./src/display/private/GraphicsCore.ts","webpack:///./src/display/private/HtmlInput.ts","webpack:///./src/display/private/InputBase.ts","webpack:///./src/display/private/selectedBounds.ts","webpack:///./src/enum/FollowLineEnum.ts","webpack:///./src/enum/Index.ts","webpack:///./src/event/ComponentEvent.ts","webpack:///./src/event/Index.ts","webpack:///./src/event/InteractionEvent.ts","webpack:///./src/event/TouchMouseEvent.ts","webpack:///./src/event/TweenEvent.ts","webpack:///./src/interaction/AudioGroupController.ts","webpack:///./src/interaction/ClickEvent.ts","webpack:///./src/interaction/DragDropController.ts","webpack:///./src/interaction/DragEvent.ts","webpack:///./src/interaction/GroupController.ts","webpack:///./src/interaction/Index.ts","webpack:///./src/interaction/InputController.ts","webpack:///./src/interaction/MouseScrollEvent.ts","webpack:///./src/interaction/SyncManager.ts","webpack:///./src/interaction/VideoGroupController.ts","webpack:///./src/layout/CSSBasicLayout.ts","webpack:///./src/layout/CSSGridLayout.ts","webpack:///./src/layout/CSSLayout.ts","webpack:///./src/layout/CSSSSystem.ts","webpack:///./src/layout/CSSStyle.ts","webpack:///./src/tween/Easing.ts","webpack:///./src/tween/TimeLine.ts","webpack:///./src/tween/Tween.ts","webpack:///./src/tween/private/Interpolation.ts","webpack:///./src/tween/private/constants.ts","webpack:///./src/tween/private/core.ts","webpack:///./src/tween/private/index.ts","webpack:///./src/utils/GifFrames.ts","webpack:///./src/utils/GifReader.ts","webpack:///./src/utils/GifSequence.ts","webpack:///./src/utils/GraphicsUtils.ts","webpack:///./src/utils/ObjectPool.ts","webpack:///./src/utils/Utils.ts","webpack:///./src/utils/cacheDestroy.ts","webpack:///./src/utils/calculateUpdatePlayerSize.ts","webpack:///./src/utils/setInteractiveElement.ts","webpack:///./src/vf-gui.ts"],"names":[],"mappings":"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","file":"gui.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/vf-gui.ts\");\n","/** 工具类 */\nimport * as Utils from \"./utils/Utils\";\n/** UI舞台，最顶级的层 展示所有UI组件 */\nimport { Stage } from \"./core/Stage\";\n/** UI基础显示对象，一般不会直接使用，只作为类型推断 */\nimport { DisplayObject } from \"./core/DisplayObject\";\n/** 心跳，需要在初始化完成后，启动心跳更新 */\nimport { TickerShared } from \"./core/Ticker\";\n/** 滤镜的基础类 */\nimport { Filter } from './core/Filter';\n/**\n * 基础容器\n * \n * 设置checkGroup后，进行分组。 分组后，可理解为复选框。\n * \n * @example let container = new vf.gui.Container();\n * \n */\nimport { Container } from \"./display/Container\";\n/**\n * 滚动容器\n * \n * @example let scrollingContainer = new vf.gui.ScrollingContainer();\n * \n */\nimport { ScrollingContainer } from \"./display/ScrollingContainer\";\n/**\n * 图片\n * \n * @example let image = new vf.gui.Image();\n * \n * \n */\nimport { Image } from \"./display/Image\";\n/**\n * 序列图动画\n * \n * 支持使用texturepacker导出以及处理轴点\n * \n * @example let spriteAnimated = new vf.gui.SpriteAnimated();\n * \n */\nimport { SpriteAnimated } from \"./display/SpriteAnimated\";\n/**\n * 文本\n * \n * 中文换行特殊处理 xxxx.style.breakWords = true;\n * \n * 文本没有宽高，自适应\n * \n * @example let label = new vf.gui.Label();\n * \n * \n */\nimport { Label } from \"./display/Label\";\n/**\n * 文本输入\n * \n * @example let textInput = new vf.gui.TextInput(true|false);//单行或多行\n * \n * \n */\nimport { TextInput } from \"./display/TextInput\";\n/**\n * 滑动条/进度条\n * \n * @example let slider = new vf.gui.Slider();\n * \n */\nimport { Slider } from \"./display/Slider\";\n/**\n * 按钮\n * \n * @example let button = new vf.gui.Button();\n * \n */\nimport { Button } from \"./display/Button\";\n\n/**\n * 单选\\复选框\n * \n * 设置checkGroup后，进行分组。 分组后，可理解为复选框。\n * \n * @example let checkBox = new vf.gui.CheckBox();\n * \n * \n */\nimport { CheckBox } from \"./display/CheckBox\";\n/**\n * 绘制矩形或圆角矩形\n * \n * @example let rect = new vf.gui.Rect();\n * \n * \n */\nimport { Rect } from \"./display/Rect\";\n/**\n * 绘制矩形或圆角矩形\n * \n * @example let rect = new vf.gui.Circle();\n * \n * \n */\nimport { Circle } from \"./display/Circle\";\n/**\n * 星型绘制\n * \n */\nimport { Star } from \"./display/Star\";\n/**\n * 多边形绘制\n * \n */\nimport { Polygon } from \"./display/Polygon\";\n/**\n * 箭头绘制\n * \n */\nimport { Arrow } from \"./display/Arrow\";\n/**\n * 椭圆绘制\n * \n */\nimport { Ellipse } from \"./display/Ellipse\";\n/**\n * 等腰绘制\n * \n */\nimport { Isosceles } from \"./display/Isosceles\";\n/**\n * 矢量绘制\n * \n * @example let graphics = new vf.gui.Graphics();\n * \n * \n */\nimport { Graphics } from \"./display/Graphics\";\n/**\n * 跟随划线（鼠标或触摸按下时）\n * \n * @example let graphics = new vf.gui.FollowLine();\n * \n * \n */\nimport { FollowLine } from \"./display/FollowLine\";\n\nimport { Video } from \"./display/Video\";\n/**\n * 连线组件\n * \n * \n * @example let connectLine = new vf.gui.ConnectLine();\n * \n * \n */\nimport { ConnectLine } from \"./display/ConnectLine\";\n/**\n * 临摹组件\n *\n * @example let Tracing = new vf.gui.Tracing();\n *\n */\nimport { Tracing } from \"./display/Tracing\";\n/**\n * 滚动组件\n *\n * @example let scrollBar = new vf.gui.ScrollBar();\n *\n *\n */\nimport { ScrollBar } from \"./display/ScrollBar\"\n/**\n * 完整的缓动曲线列表\n * \n * @example vf.gui.Easing.Linear.None;\n * \n * \n */\nimport { Easing } from \"./tween/Easing\";\n/**\n * 缓动动画\n * \n * @example let tween = new vf.gui.Tween(myObject).to({width:'300px'}, 2000).start()\n * \n * \n */\nimport { Tween } from \"./tween/Tween\";\n/**\n * 动画时间轴\n */\n// import { TimeLineNew } from \"./tween/TimeLine\";\n/**\n * 振动动画\n */\nimport { AnimationJitter } from \"./display/animation/AnimationJitter\";\nimport { Animation } from \"./display/animation/Animation\";\nimport { NumberFrame } from \"./display/animation/Timeline\";\n/**\n * 基于帧的时间轴控制类\n * \n * @example let timeline = new vf.gui.Timeline();\n * \n * \n */\nimport { TimeLine } from \"./tween/TimeLine\";\n/**\n * 音频\n * \n * \n * \n * 估计是能播放  没毛病\n * \n * @example let audio = new vf.gui.Audio(“地址或者是arrbuffer”);\n * \n * \n */\nimport { Audio } from \"./display/Audio\";\n/**\n * 事件绑定类，非继承于inputbase的组件是没有任何交互事件，需单独绑定\n */\nimport * as Interaction from \"./interaction/Index\";\n/**\n * 事件名\n */\nimport * as Event from \"./event/Index\";\n\n/**\n * 枚举\n */\nimport * as Enum from './enum/Index';\n\nimport { Scheduler } from './core/Scheduler';\n\nimport { SyncManager } from './interaction/SyncManager';\n\n/**\n *  路线绘制\n */\nimport { PathGraphics } from \"./display/PathGraphics\";\n\nimport { Alert } from \"./display/Alert\";\n\n/**\n * 自动容器\n */\nimport { AutoContainer } from \"./display/AutoContainer\";\n\n\n(window as any).PIXI = vf;\n\nexport declare type Application = vf.Application;\n\n/** 请不要在编写UI组件内部使用本类 */\nexport {\n    Audio,\n    Filter,\n    Utils,\n    Stage,\n    Container,\n    AutoContainer,\n    ScrollingContainer,\n    Slider,\n    Label,\n    TextInput,\n    Button,\n    Video,\n    CheckBox,\n    Rect,\n    Circle,\n    Star,\n    Arrow,\n    Ellipse,\n    Isosceles,\n    Graphics,\n    FollowLine,\n    Tracing,\n    ConnectLine,\n    ScrollBar,\n    Polygon,\n    Interaction,\n    DisplayObject,\n    TickerShared,\n    Tween,\n    TimeLine,\n    Easing,\n    Image,\n    SpriteAnimated,\n    Event,\n    Enum,\n    Scheduler,\n    NumberFrame,\n    PathGraphics,\n    AnimationJitter,\n    Animation,\n    SyncManager,\n    Alert,\n};","import { getTexture, rgbToNumber } from \"../utils/Utils\";\nimport { DisplayLayoutAbstract } from \"./DisplayLayoutAbstract\";\nimport { updateTextureFill } from \"./plugs/LineGradient\";\n\nexport class Background {\n\n    constructor(parent: any) {\n        this.parent = parent;\n    }\n\n    private canvas?: HTMLCanvasElement;\n    private context?: CanvasRenderingContext2D;\n    private texture?: vf.Texture;\n\n    private parent: any;\n    private _container?: vf.Container;\n\n    private _oldSrc: string | undefined;\n    private _oldRepeat = \"\";\n\n    private _rect?: vf.Graphics;\n    private _image?: vf.Sprite | vf.TilingSprite;\n    private _mask?: vf.Graphics;\n    private _invalidateFlag = false;\n\n    public isInit = false;\n\n    private _type: 0 | 1 | 2 = 0;\n    public get type(): 0 | 1 | 2 {\n        return this._type;\n    }\n    public set type(value: 0 | 1 | 2) {\n        this._type = value;\n        if (this._container === undefined) {\n            this._container = new vf.Container();\n            this._container.name = 'background';\n            (this.parent as DisplayLayoutAbstract).container.addChildAt(this._container, 0);\n            this._mask = new vf.Graphics();\n            this.isInit = true;\n        }\n    }\n\n    private _color: number | undefined = undefined;\n    public get color(): number | undefined {\n        return this._color;\n    }\n    public set color(value: number | undefined) {\n\n        this._color = value || undefined;\n        if (value === 0) {\n            this._color = 0;\n        }\n        this._invalidateFlag = true;\n    }\n\n    private _alpha = 1;\n    public get alpha(): number {\n        return this._alpha;\n    }\n    public set alpha(value: number) {\n        this._alpha = value;\n        if (this._container) {\n            this._container.alpha = value;\n        } else {\n            this._invalidateFlag = true;\n            this.parent.invalidateDisplayList();\n        }\n    }\n\n\n    private _radius = 0;\n    public get radius() {\n        return this._radius;\n    }\n    public set radius(value) {\n        this._radius = value;\n        this._invalidateFlag = true;\n    }\n\n    private _src: string | undefined;\n    public get src(): string | undefined {\n        return this._src;\n    }\n    public set src(value: string | undefined) {\n        this._src = value || undefined;\n        this._invalidateFlag = true;\n    }\n\n    private _positionX = 0;\n    public get positionX() {\n        return this._positionX;\n    }\n    public set positionX(value) {\n        this._positionX = value;\n        this._invalidateFlag = true;\n    }\n\n    private _positionY = 0;\n    public get positionY() {\n        return this._positionY;\n    }\n\n    public set positionY(value) {\n        this._positionY = value;\n        this._invalidateFlag = true;\n    }\n\n    private _size: number[] | undefined;\n    public get size(): number[] | undefined {\n        return this._size;\n    }\n    public set size(value: number[] | undefined) {\n        this._size = value;\n        this._invalidateFlag = true;\n    }\n\n    private _repeat: \"no-repeat\" | \"repeat\" = \"no-repeat\";\n    public get repeat(): \"no-repeat\" | \"repeat\" {\n        return this._repeat;\n    }\n    public set repeat(value: \"no-repeat\" | \"repeat\") {\n        this._repeat = value;\n        this._invalidateFlag = true;\n    }\n\n\n    private _fillAlpha = 1;\n    public get fillColor() {\n        return this._color;\n    }\n    public set fillColor(value) {\n\n        if (Array.isArray(value)) {\n            if (Array.isArray(value[0])) {\n                if (this.canvas === undefined) {\n                    this.canvas = document.createElement(\"canvas\");\n                    this.context = this.canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n                    this.texture = vf.Texture.from(this.canvas);\n                }\n                this._color = value;\n                this._invalidateFlag = true;\n                return; // 多颜色渐变，不走color\n            }\n            this._fillAlpha = value[3] || 1;\n            this.color = rgbToNumber(value[0], value[1], value[2]);\n            return;\n        } else {\n            this.color = value || undefined;\n        }\n    }\n\n    private _fillGradientStops: number[] = [];\n    public get fillGradientStops() {\n        return this._fillGradientStops;\n    }\n\n    public set fillGradientStops(value) {\n        this._fillGradientStops = value;\n        this._invalidateFlag = true;\n    }\n\n\n    private _fillGradientType: 0 | 1 = 1;\n    public get fillGradientType() {\n        return this._fillGradientType;\n    }\n\n    public set fillGradientType(value) {\n        this._fillGradientType = value;\n        this._invalidateFlag = true;\n    }\n\n\n\n    private lastW?: number;\n    private lastH?: number\n    public update(w: number, h: number) {\n\n        if (this.lastW !== w || this.lastH !== h) {\n            this._invalidateFlag = true;\n            this.lastW = w;\n            this.lastH = h;\n        }\n        if (!this._invalidateFlag) {\n            return;\n        }\n        this._invalidateFlag = false;\n\n        if (this._container === undefined) {\n            return;\n        }\n        const _container = this._container;\n        _container.alpha = this._alpha;\n        if (this.type === 1) {\n            if (this._image) {\n                this.removeImage(this._image, _container);\n            }\n            const { _color, _radius, _rect } = this;\n            if (_color === undefined && _rect && _rect.parent) {\n                _container.removeChild(_rect);\n                return;\n            }\n            if (this._rect === undefined) {\n                this._rect = new vf.Graphics();\n            }\n            if (_color) {\n                this.drawRect(this._rect, _color, w, h, _radius, this._fillAlpha);\n                if (!this._rect.parent) {\n                    _container.addChild(this._rect);\n                }\n            }\n        } else if (this.type === 2) {\n            if (this._mask === undefined) {\n                return;\n            }\n            if (this._rect && this._rect.parent) {\n                _container.removeChild(this._rect);\n            }\n            const { _repeat, _src, _size, _mask } = this;\n            if ((this._oldRepeat != _repeat) || (this._oldSrc != _src)) {\n                this._oldRepeat = _repeat;\n                if (this._image) {\n                    this._image.destroy();\n                }\n                switch (_repeat) {\n                    case \"no-repeat\":\n                        this._image = new vf.Sprite(getTexture(_src));\n                        break;\n                    case \"repeat\":\n                        this._image = new vf.TilingSprite(getTexture(_src));\n                        break;\n                }\n                if (this._image) {\n                    this._image.mask = _mask;\n                }\n\n            }\n            const image = this._image;\n            if (image) {\n                if (_src === undefined) {\n                    this.removeImage(image, _container);\n                    return;\n                }\n                if (image instanceof vf.TilingSprite) {\n                    image.tilePosition.set(this._positionX, this._positionY);\n                } else {\n                    image.position.set(this._positionX, this._positionY);\n                }\n                this.drawRect(_mask, 0x000000, w, h, this._radius)\n                if (_size !== undefined) {\n                    image.width = _size[0];\n                    image.height = _size[1];\n                } else {\n                    if (image.texture.width > 1) {\n                        image.width = image.texture.width;\n                        image.height = image.texture.height;\n                    }\n                }\n                if (!_mask.parent) {\n                    _container.addChild(_mask);\n                }\n                if (!image.parent) {\n                    _container.addChild(image);\n                }\n            }\n        }\n    }\n\n    private drawRect(bg: vf.Graphics, _color: number | number[] | number[][] | undefined, w: number, h: number, _radius: number, _alpha = 1) {\n        bg.clear();\n        if (typeof _color === 'number') {\n            bg.beginFill(_color, _alpha);\n        } else {\n            updateTextureFill(bg, {\n                canvas: this.canvas,\n                context: this.context,\n                texture: this.texture,\n                width: w,\n                height: h,\n                anchorX: 0,\n                anchorY: 0,\n                style: {\n                    fillColor: _color as number[],\n                    fillGradientStops: this._fillGradientStops,\n                    fillGradientType: this.fillGradientType\n                }\n            });\n        }\n\n        bg.drawRoundedRect(0, 0, w, h, _radius);\n        bg.endFill();\n    }\n    private removeImage(image: vf.Sprite | vf.TilingSprite, _container: vf.Container) {\n        if (this._mask && this._mask.parent) {\n            _container.removeChild(this._mask);\n        }\n        if (image.parent) {\n            _container.removeChild(image);\n        }\n\n    }\n\n    public release() {\n\n        if (this._mask && this._mask.parent) {\n            this._mask.destroy();\n        }\n        if (this._image) {\n            this._image.destroy();\n            this._image = undefined;\n        }\n        if (this._rect) {\n            this._rect.destroy();\n            this._rect = undefined;\n        }\n\n        if (this.canvas) {\n            this.canvas.height = this.canvas.width = 0;\n            this.context = undefined;\n            this.canvas = undefined;\n        }\n\n        if (this._container) {\n            this._container.destroy();\n            if (this._container.parent) {\n                this._container.parent.removeChild(this._container);\n            }\n            this._container = undefined;\n        }\n        this._invalidateFlag = false;\n        this._type = 0;\n        this.parent = undefined;\n    }\n\n}","/** 容器扩展类，后续便于做延时渲染 */\nexport class ContainerBase extends vf.Container{\n    public constructor(){\n        super();\n    }\n\n    public isEmitRender = false;\n\n    public render(renderer: vf.Renderer): void{\n        if(this.isEmitRender){\n            this.emit(\"renderChange\",renderer);\n        }\n        super.render(renderer);\n    }\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as UIKeys from \"./DisplayLayoutKeys\";\nimport validatorShared from \"./DisplayLayoutValidator\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { formatRelative } from \"../utils/Utils\";\nimport { DisplayObjectAbstract } from \"./DisplayObjectAbstract\";\n\nexport const $tempLocalBounds = new vf.Rectangle();\n/**\n * UI 布局的基础属性类\n */\nexport class DisplayLayoutAbstract extends DisplayObjectAbstract {\n\n    public constructor() {\n        super();\n        this.initializeUIValues();\n    }\n\n    public isContainer = false;\n\n    /**\n     * @private\n     */\n    public $values: any = {};\n    /**\n     * @private\n     * 定义的所有变量请不要添加任何初始值，必须统一在此处初始化。\n     */\n    protected initializeUIValues(): void {\n        this.$values = {\n            [UIKeys.invalidatePropertiesFlag]: true,\n            [UIKeys.invalidateSizeFlag]: true,\n            [UIKeys.invalidateDisplayListFlag]: true,\n            [UIKeys.includeInLayout]: true,\n            [UIKeys.left]: NaN,\n            [UIKeys.right]: NaN,\n            [UIKeys.top]: NaN,\n            [UIKeys.bottom]: NaN,\n            [UIKeys.horizontalCenter]: NaN,\n            [UIKeys.verticalCenter]: NaN,\n            [UIKeys.percentWidth]: NaN,\n            [UIKeys.percentHeight]: NaN,\n            [UIKeys.width]: NaN,\n            [UIKeys.height]: NaN,\n            [UIKeys.explicitWidth]: NaN,\n            [UIKeys.explicitHeight]: NaN,\n            [UIKeys.minWidth]: 0,\n            [UIKeys.maxWidth]: 100000,\n            [UIKeys.minHeight]: 0,\n            [UIKeys.maxHeight]: 100000,\n            [UIKeys.measuredWidth]: 0,\n            [UIKeys.measuredHeight]: 0,\n            [UIKeys.oldPreferWidth]: NaN,\n            [UIKeys.oldPreferHeight]: NaN,\n            // [UIKeys.scaleX]: 1,\n            // [UIKeys.scaleY]: 1,\n        };\n    }\n\n    /**\n     * @private\n     * 检查属性失效标记并应用\n     */\n    protected checkInvalidateFlag(): void {\n        const values = this.$values;\n        if (values[UIKeys.invalidatePropertiesFlag]) {\n            validatorShared.invalidateProperties(this);\n        }\n        if (values[UIKeys.invalidateSizeFlag]) {\n            validatorShared.invalidateSize(this);\n        }\n        if (values[UIKeys.invalidateDisplayListFlag]) {\n            validatorShared.invalidateDisplayList(this);\n        }\n        this.validateSize();\n    }\n\n    /**\n     * @private\n     * 验证组件的属性\n     */\n    public validateProperties(): void {\n        const values = this.$values;\n        if (values[UIKeys.invalidatePropertiesFlag]) {\n            this.commitProperties();\n            values[UIKeys.invalidatePropertiesFlag] = false;\n        }\n    }\n\n    /**\n     * @private\n     * 验证组件的尺寸\n     */\n    public validateSize(recursive?: boolean): void {\n        if (this.parent === undefined) {\n            return;\n        }\n\n        if (recursive) {\n            const children = this.uiChildren;\n            if (children) {\n                const length = children.length;\n                for (let i = 0; i < length; i++) {\n                    const child = children[i] as DisplayLayoutAbstract;\n                    child.validateSize(true);\n                }\n            }\n        }\n        const values = this.$values;\n        if (values[UIKeys.invalidateSizeFlag]) {\n            const changed = this.measureSizes();\n            if (changed) {\n                this.invalidateDisplayList();\n                this.invalidateParentLayout();\n            }\n\n            values[UIKeys.invalidateSizeFlag] = false;\n        }\n    }\n    /**\n     * @private\n     * 验证子项的位置和大小，并绘制其他可视内容\n     */\n    public validateDisplayList(): void {\n        if (this.parent == undefined) {\n            return;\n        }\n        const values = this.$values;\n\n        if (values[UIKeys.invalidateDisplayListFlag]) {\n            this.updateSize();\n            this.updateDisplayList(this.width, this.height);\n            this.updateBackground(this.width, this.height); // 需要计算完成布局后，设置\n            this.updateMask(this.width, this.height);\n            values[UIKeys.invalidateDisplayListFlag] = false;\n        }\n    }\n    /**\n     * @private\n     * 提交属性，子类在调用完invalidateProperties()方法后，应覆盖此方法以应用属性\n     */\n    protected commitProperties(): void {\n        //\n    }\n\n    /**\n     * 测量显示对象宽高，如果子类没有重写，默认是this.container.width..\n     */\n    protected measure(): void {\n        const values = this.$values;\n        values[UIKeys.measuredWidth] = this.container.width;\n        values[UIKeys.measuredHeight] = this.container.height;\n    }\n    /**\n     * @private\n     * 测量组件尺寸，返回尺寸是否发生变化\n     */\n    protected measureSizes(): boolean {\n        let changed = false;\n        const values = this.$values;\n        if (!values[UIKeys.invalidateSizeFlag]){\n            return changed;\n        }\n\n        const parent = this.parent;\n        const parentWidth = parent ? parent.width : 1;\n        const parentHeight = parent ? parent.height : 1;\n        const maxWidth = formatRelative(values[UIKeys.maxWidth], parentWidth);\n        const maxHeight = formatRelative(values[UIKeys.maxHeight], parentHeight);\n        const minWidth = formatRelative(values[UIKeys.minWidth], parentWidth);\n        const minHeight = formatRelative(values[UIKeys.minHeight], parentHeight);\n\n        //显示设置宽高，会忽略最大与最小值  \n        if (isNaN(values[UIKeys.explicitWidth]) || isNaN(values[UIKeys.explicitHeight])) {\n            if (isNaN(values[UIKeys.percentWidth]) && isNaN(values[UIKeys.percentHeight])) {\n                this.measure();\n            }\n            if (!isNaN(values[UIKeys.percentWidth])) {\n                values[UIKeys.measuredWidth] = Math.ceil(values[UIKeys.percentWidth] * parentWidth);\n            }\n            if (!isNaN(values[UIKeys.percentHeight])) {\n                values[UIKeys.measuredHeight] = Math.ceil(values[UIKeys.percentHeight] * parentHeight);\n            }\n\n            if (values[UIKeys.measuredWidth] < minWidth) {\n                values[UIKeys.measuredWidth] = minWidth;\n            }\n            if (values[UIKeys.measuredWidth] > maxWidth) {\n                values[UIKeys.measuredWidth] = maxWidth;\n            }\n            if (values[UIKeys.measuredHeight] < minHeight) {\n                values[UIKeys.measuredHeight] = minHeight;\n            }\n            if (values[UIKeys.measuredHeight] > maxHeight) {\n                values[UIKeys.measuredHeight] = maxHeight;\n            }\n        } else {\n            if (values[UIKeys.explicitWidth] < minWidth) {\n                values[UIKeys.explicitWidth] = minWidth;\n            }\n            if (values[UIKeys.explicitWidth] > maxWidth) {\n                values[UIKeys.explicitWidth] = maxWidth;\n            }\n            if (values[UIKeys.explicitHeight] < minHeight) {\n                values[UIKeys.explicitHeight] = minHeight;\n            }\n            if (values[UIKeys.explicitHeight] > maxHeight) {\n                values[UIKeys.explicitHeight] = maxHeight\n            }\n        }\n        const preferredW = this.getPreferredUWidth();\n        const preferredH = this.getPreferredUHeight();\n\n        if (preferredW !== values[UIKeys.oldPreferWidth] ||\n            preferredH !== values[UIKeys.oldPreferHeight]) {\n            values[UIKeys.oldPreferWidth] = preferredW;\n            values[UIKeys.oldPreferHeight] = preferredH;\n            values[UIKeys.width] = preferredW;\n            values[UIKeys.height] = preferredH;\n            changed = true;\n        }\n\n        return changed;\n    }\n\n    /**\n     * @private\n     *\n     * @returns\n     */\n    protected getPreferredUWidth(): number {\n        const values = this.$values;\n        if (isNaN(values[UIKeys.explicitWidth])) {\n            return values[UIKeys.measuredWidth];\n        }\n        return values[UIKeys.explicitWidth];\n    }\n\n    /**\n     * @private\n     */\n    protected getPreferredUHeight(): number {\n        const values = this.$values;\n        if (isNaN(values[UIKeys.explicitHeight])) {\n            return values[UIKeys.measuredHeight];\n        }\n        return values[UIKeys.explicitHeight];\n    }\n    /**\n     * @private\n     * 获取组件的首选尺寸,常用于父级的measure()方法中\n     * 按照：外部显式设置尺寸>测量尺寸 的优先级顺序返回尺寸，\n     */\n    public getPreferredBounds(bounds: vf.Rectangle) {\n        bounds.width = this.getPreferredUWidth();\n        bounds.height = this.getPreferredUHeight();\n        bounds.x = this.container.x;\n        bounds.y = this.container.y;\n        return bounds;\n    }\n\n    /**\n    * @private\n    * 标记提交过需要延迟应用的属性，以便在稍后屏幕更新期间调用该组件的 commitProperties() 方法。\n    *\n    * 例如，要更改文本颜色和大小，如果在更改颜色后立即进行更新，然后在设置大小后再更新大小，就有些浪费。\n    * 同时更改两个属性后再使用新的大小和颜色一次性呈示文本，效率会更高。<p/>\n    *\n    * 通常，子类应覆盖 commitProperties() 方法，而不是覆盖此方法。\n     */\n    public invalidateProperties(): void {\n        const values = this.$values;\n        if (!values[UIKeys.invalidatePropertiesFlag]) {\n            values[UIKeys.invalidatePropertiesFlag] = true;\n            validatorShared.invalidateProperties(this);\n\n        }\n    }\n\n    /**\n    * @private\n    * 标记提交过需要验证组件尺寸，以便在稍后屏幕更新期间调用该组件的 measure(),updatesize() 方法。\n    */\n    public invalidateSize(): void {\n        const values = this.$values;\n        if (!values[UIKeys.invalidateSizeFlag]) {\n            values[UIKeys.invalidateSizeFlag] = true;\n            validatorShared.invalidateSize(this);\n        }\n    }\n    /**\n    * @private\n    * 标记需要验证显示列表，以便在稍后屏幕更新期间调用该组件的 updateDisplayList() 方法。\n    */\n    public invalidateDisplayList(): void {\n        const values = this.$values;\n        if (!values[UIKeys.invalidateDisplayListFlag]) {\n            values[UIKeys.invalidateDisplayListFlag] = true;\n            validatorShared.invalidateDisplayList(this);\n        }\n    }\n    /**\n     * @private\n     * 标记父级容器的尺寸和显示列表为失效\n     */\n    public invalidateParentLayout(): void {\n        const parent = this.parent;\n        if (!parent || !this.$values[UIKeys.includeInLayout]) {\n            return;\n        }\n        if (parent instanceof DisplayLayoutAbstract) {\n            parent.invalidateSize();\n            parent.invalidateDisplayList();\n        }\n    }\n    /**\n     * @private\n     * 设置组件的布局位置\n     */\n    public setPosition(x?: number | undefined, y?: number | undefined): void {\n        this.container.position.set(x, y);\n        this.emit(ComponentEvent.MOVE, this);\n\n    }\n    /**\n     * @private\n     * 设置测量结果。\n     * @param width 测量宽度\n     * @param height 测量高度\n     */\n    public setMeasuredSize(width: number, height: number): void {\n        const values = this.$values;\n        values[UIKeys.measuredWidth] = Math.ceil(+width || 0);\n        values[UIKeys.measuredHeight] = Math.ceil(+height || 0);\n    }\n    /**\n     * @private\n     * 设置组件的宽高。此方法不同于直接设置width,height属性，\n     * 不会影响显式标记尺寸属性\n     */\n    public setActualSize(w: number, h: number, isInvalidate = true): void {\n        let change = false;\n        const values = this.$values;\n\n        if (values[UIKeys.width] !== w) {\n            values[UIKeys.width] = w;\n            change = true;\n        }\n        if (values[UIKeys.height] !== h) {\n            values[UIKeys.height] = h;\n            change = true;\n        }\n\n        if (change && isInvalidate) {\n            this.invalidateDisplayList();\n            this.emit(ComponentEvent.RESIZE, this);\n        }\n    }\n\n    public updateTransform() {\n        this.container.setTransform(this.x, this.y, this.scaleX, this.scaleY, this.rotation * (Math.PI / 180), this.skewX, this.skewY, this.pivotX, this.pivotY);\n    }\n\n    /**\n     * 更新背景\n     */\n    protected updateBackground(unscaledWidth: number, unscaledHeight: number): void {\n        this.$background.update(unscaledWidth,unscaledHeight)\n    }\n\n    /**\n     * 更新遮罩\n     */\n    protected updateMask(unscaledWidth: number, unscaledHeight: number): void {\n        this.$mask.update(unscaledWidth,unscaledHeight)\n    }\n\n    /**\n     * @private\n     * 更新最终的组件宽高\n     */\n    protected updateSize(): void {\n        this.setActualSize(this.getPreferredUWidth(), this.getPreferredUHeight());\n    }\n    /**\n     * 更新显示列表,子类重写，实现布局\n     */\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n        //\n    }\n\n    /**\n     * @private\n     * 立即应用组件及其子项的所有属性\n     */\n    public validateNow(): void {\n        if (this.parent)\n            validatorShared.validateClient(this);\n    }\n\n    /**\n     * @private\n    * 验证并更新此对象的属性和布局，如果需要的话重绘对象。\n    *\n    * 通常只有当脚本执行完毕后，才会处理要求进行大量计算的处理属性。<p/>\n    *\n    * 例如，对 width 属性的设置可能会延迟，因为此设置需要重新计算这些对象的子项或父项的宽度。\n    * 如果脚本多次设置了 width 属性，则延迟处理可防止进行多次处理。此方法允许您手动覆盖此行为。\n     */\n    public validateSizeNow(): void {\n        this.validateSize(true);\n        this.updateSize();\n    }\n    /**\n     * 指定此组件是否包含在父容器的布局中。若为false，则父级容器在测量和布局阶段都忽略此组件。默认值为true。\n     * 注意，visible属性与此属性不同，设置visible为false，父级容器仍会对其布局。\n     */\n    public get includeInLayout(): boolean {\n        return this.$values[UIKeys.includeInLayout];\n    }\n\n    public set includeInLayout(value: boolean) {\n        const values = this.$values;\n        value = !!value;\n        if (values[UIKeys.includeInLayout] === value)\n            return;\n        values[UIKeys.includeInLayout] = true;\n        this.invalidateParentLayout();\n        values[UIKeys.includeInLayout] = value;\n    }\n    /**\n     * @private\n     * 距父级容器离左边距离\n     */\n    public get left(): any {\n        return this.$values[UIKeys.left];\n    }\n\n    public set left(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n\n        const values = this.$values;\n        if (values[UIKeys.left] === value)\n            return;\n        values[UIKeys.left] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * 距父级容器右边距离\n     */\n    public get right(): any {\n        return this.$values[UIKeys.right];\n    }\n\n    public set right(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.right] === value)\n            return;\n        values[UIKeys.right] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * 距父级容器顶部距离\n     */\n    public get top(): any {\n        return this.$values[UIKeys.top];\n    }\n\n    public set top(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.top] === value)\n            return;\n        values[UIKeys.top] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * 距父级容器底部距离\n     */\n    public get bottom(): any {\n        return this.$values[UIKeys.bottom];\n    }\n\n    public set bottom(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.bottom] == value)\n            return;\n        values[UIKeys.bottom] = value;\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * 在父级容器中距水平中心位置的距离\n     */\n    public get horizontalCenter(): any {\n        return this.$values[UIKeys.horizontalCenter];\n    }\n\n    public set horizontalCenter(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.horizontalCenter] === value)\n            return;\n        values[UIKeys.horizontalCenter] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * 在父级容器中距竖直中心位置的距离\n     */\n    public get verticalCenter(): any {\n        return this.$values[UIKeys.verticalCenter];\n    }\n\n    public set verticalCenter(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.verticalCenter] === value)\n            return;\n        values[UIKeys.verticalCenter] = value;\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * 相对父级容器宽度的百分比\n     */\n    public get percentWidth(): number {\n        return this.$values[UIKeys.percentWidth];\n    }\n\n    public set percentWidth(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (values[UIKeys.percentWidth] === value)\n            return;\n        values[UIKeys.percentWidth] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * 相对父级容器高度的百分比\n     */\n    public get percentHeight(): number {\n        return this.$values[UIKeys.percentHeight];\n    }\n\n    public set percentHeight(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (values[UIKeys.percentHeight] === value)\n            return;\n        values[UIKeys.percentHeight] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * 外部显式指定的宽度\n     */\n    public get explicitWidth(): number {\n        return this.$values[UIKeys.explicitWidth];\n    }\n\n    /**\n     * @private\n     * 外部显式指定的高度\n     */\n    public get explicitHeight(): number {\n        return this.$values[UIKeys.explicitHeight];\n    }\n\n    /**\n     * @private\n     * 组件的最小宽度,此属性设置为大于maxWidth的值时无效。同时影响测量和自动布局的尺寸。\n     */\n    public get minWidth(): number {\n        return this.$values[UIKeys.minWidth];\n    }\n\n    public set minWidth(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.minWidth] === value) {\n            return;\n        }\n        values[UIKeys.minWidth] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * 组件的最大高度。同时影响测量和自动布局的尺寸。\n     */\n    public get maxWidth(): number {\n        return this.$values[UIKeys.maxWidth];\n    }\n\n    public set maxWidth(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.maxWidth] === value) {\n            return;\n        }\n        values[UIKeys.maxWidth] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * 组件的最小高度,此属性设置为大于maxHeight的值时无效。同时影响测量和自动布局的尺寸。\n     */\n    public get minHeight(): number {\n        return this.$values[UIKeys.minHeight];\n    }\n\n    public set minHeight(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.minHeight] === value) {\n            return;\n        }\n        values[UIKeys.minHeight] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * 组件的最大高度,同时影响测量和自动布局的尺寸。\n     */\n    public get maxHeight(): number {\n        return this.$values[UIKeys.maxHeight];\n    }\n\n    public set maxHeight(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.maxHeight] === value) {\n            return;\n        }\n        values[UIKeys.maxHeight] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n\n    public allInvalidate() {\n        this.invalidateProperties();\n        this.invalidateSize();\n        this.invalidateDisplayList();\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * 组件宽度设置为undefined将使用组件的measure()方法自动计算尺寸\n     */\n    public get width(): number {\n        const v = this.$values;\n        if(this.getPreferredUWidth() !== v[UIKeys.width]){\n            this.validateSize();\n        }\n        return v[UIKeys.width];\n    }\n\n    /**\n     * @private\n     *\n     * @param value\n     */\n    public set width(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.explicitWidth] === value)\n            return;\n        values[UIKeys.explicitWidth] = value;\n        this.emit(ComponentEvent.WIDTH_CHANGE, value);\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * 组件高度,默认值为NaN,设置为NaN将使用组件的measure()方法自动计算尺寸\n     */\n    public get height(): number {\n        const v = this.$values;\n        if(this.getPreferredUHeight() !== v[UIKeys.height]){\n            this.validateSize();\n        }\n        return v[UIKeys.height];\n    }\n\n    /**\n     * @private\n     *\n     * @param value\n     */\n    public set height(value: number) {\n\n        value = +value;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.explicitHeight] === value)\n            return;\n        values[UIKeys.explicitHeight] = value;\n\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n    public get scaleX() {\n        return this.container.scale.x;\n    }\n\n    public set scaleX(value: number) {\n        // this.invalidateSize();\n        // this.invalidateParentLayout();\n        this.container.scale.x = value;\n    }\n\n    public get scaleY() {\n        return this.container.scale.y;\n    }\n\n    public set scaleY(value: number) {\n        // this.invalidateSize();\n        // this.invalidateParentLayout();\n        this.container.scale.y = value;\n    }\n\n\n    public get x() {\n        return this.container.x;\n    }\n    public set x(value: number) {\n        // this.invalidateDisplayList();\n        // this.invalidateParentLayout();\n        this.container.position.x = value;\n    }\n\n    public get y() {\n        return this.container.y;\n    }\n\n    public set y(value: number) {\n        // this.invalidateDisplayList();\n        // this.invalidateParentLayout();\n        this.container.position.y = value;\n    }\n\n\n    public get skewX() {\n        return this.container.skew.x;\n    }\n    public set skewX(value) {\n        // this.invalidateDisplayList();\n        this.container.skew.x = value;\n    }\n\n    public get skewY() {\n        return this.container.skew.y;\n    }\n    public set skewY(value) {\n        // this.invalidateDisplayList();\n        this.container.skew.y = value;\n    }\n\n    public get pivotX() {\n        return this.container.pivot.x;\n    }\n    public set pivotX(value) {\n        // this.invalidateDisplayList();\n        this.container.pivot.x = value;\n    }\n\n    public get pivotY() {\n        return this.container.pivot.y;\n    }\n    public set pivotY(value) {\n        // this.invalidateDisplayList();\n        this.container.pivot.y = value;\n    }\n\n    public get rotation() {\n        return this.container.angle;\n    }\n    public set rotation(value) {\n        // this.invalidateDisplayList();\n        this.container.angle = value;\n    }\n\n    /**\n     *  =不可用= 设置索引层级，每次父级变化时，会排序 （未实现）\n     */\n    public get zIndex() {\n        return this.container.zIndex;\n    }\n    public set zIndex(value) {\n        // this.invalidateParentLayout();\n        if (this.parent && this.parent.isContainer && !this.parent.container.sortableChildren) {\n            this.parent.container.sortableChildren = true;\n        }\n        this.container.zIndex = value;\n    }\n\n\n}","//states\n/**\n * 兼容处理，不支持的浏览器，使用description\n * @param description \n */\nfunction getSymbol(description: string | number | undefined){\n    return Symbol(description) || description;\n}\n/** 标记属性失效 */\nexport const invalidatePropertiesFlag = getSymbol(\"invalidatePropertiesFlag\");\n/** 标记大小失效 */\nexport const invalidateSizeFlag = getSymbol(\"invalidateSizeFlag\");\n/** 标记显示失效 */\nexport const invalidateDisplayListFlag = getSymbol(\"invalidateDisplayListFlag\");\n/** 是否参与布局 */\nexport const includeInLayout = getSymbol(\"includeInLayout\");\n \n\n//Properties\nexport const width = getSymbol(\"width\");\nexport const height = getSymbol(\"height\");\nexport const explicitWidth = getSymbol(\"explicitWidth\");\nexport const explicitHeight = getSymbol(\"explicitHeight\");\nexport const minWidth = getSymbol(\"minWidth\");\nexport const maxWidth = getSymbol(\"maxWidth\");\nexport const minHeight = getSymbol(\"minHeight\");\nexport const maxHeight = getSymbol(\"maxHeight\");\nexport const percentWidth = getSymbol(\"percentWidth\");\nexport const percentHeight = getSymbol(\"percentHeight\");\n// export const scaleX = getSymbol(\"scaleX\");\n// export const scaleY = getSymbol(\"scaleY\");\nexport const measuredWidth = getSymbol(\"measuredWidth\");\nexport const measuredHeight = getSymbol(\"measuredHeight\");\nexport const oldPreferWidth = getSymbol(\"oldPreferWidth\");\nexport const oldPreferHeight = getSymbol(\"oldPreferHeight\");\n\n//Styles\nexport const left = getSymbol(\"left\");\nexport const right = getSymbol(\"right\");\nexport const top = getSymbol(\"top\");\nexport const bottom = getSymbol(\"bottom\");\nexport const horizontalCenter = getSymbol(\"horizontalCenter\");\nexport const verticalCenter = getSymbol(\"verticalCenter\");\n\n\n\n\n\n","import { DisplayLayoutAbstract } from \"./DisplayLayoutAbstract\";\nimport { TickerShared }  from \"./Ticker\";\n\n/**\n * @private\n * 列表项\n */\nclass DepthBin {\n    public map: { [key: number]: boolean } = {};\n    public items: DisplayLayoutAbstract[] = [];\n    public length = 0;\n\n    public insert(client: DisplayLayoutAbstract): void {\n        const hashCode = client.uuid;\n        if (this.map[hashCode]) {\n            return;\n        }\n        this.map[hashCode] = true;\n        this.length++;\n        this.items.push(client);\n    }\n\n    public pop() {\n        const client = this.items.pop();//使用pop会比shift有更高的性能，避免索引整体重置。\n        if (client) {\n            this.length--;\n            if (this.length === 0) {\n                this.map = {};//清空所有key防止内存泄露\n            }\n            else {\n                this.map[client.uuid] = false;\n            }\n        }\n        return client;\n    }\n\n    public remove(client: DisplayLayoutAbstract): void {\n        const index = this.items.indexOf(client);\n        if (index >= 0) {\n            this.items.splice(index, 1);\n            this.length--;\n            if (this.length === 0) {\n                this.map = {};//清空所有key防止内存泄露\n            }\n            else {\n                this.map[client.uuid] = false;\n            }\n        }\n    }\n}\n/**\n * @private\n * 显示列表嵌套深度排序队列\n */\nclass DepthQueue {\n    /**\n     * 深度队列\n     */\n    private depthBins: { [key: number]: DepthBin } = {};\n\n    /**\n     * 最小深度\n     */\n    private minDepth = 0;\n\n    /**\n     * 最大深度\n     */\n    private maxDepth = -1;\n\n    /** \n     * 移除所有\n     */\n    public removeAll(){\n        const depthBins = this.depthBins;\n        for(const key in depthBins){\n            const item: DepthBin = depthBins[key];\n            item.items = [];\n            item.map = {};\n            item.length = 0;\n        }\n        this.minDepth = 0;\n        this.maxDepth = -1;\n    }\n\n    /**\n     * 插入一个元素\n     */\n    public insert(client: DisplayLayoutAbstract): void {\n        const depth = client.$nestLevel;\n        if (this.maxDepth < this.minDepth) {\n            this.minDepth = this.maxDepth = depth;\n        }\n        else {\n            if (depth < this.minDepth)\n                this.minDepth = depth;\n            if (depth > this.maxDepth)\n                this.maxDepth = depth;\n        }\n\n        let bin = this.depthBins[depth];\n\n        if (!bin) {\n            bin = this.depthBins[depth] = new DepthBin();\n        }\n        bin.insert(client);\n    }\n\n    /**\n     * 从队列尾弹出深度最大的一个对象\n     */\n    public pop(){\n        let client: DisplayLayoutAbstract|undefined;\n\n        const minDepth = this.minDepth;\n        if (minDepth <= this.maxDepth) {\n            let bin = this.depthBins[this.maxDepth];\n            while (!bin || bin.length === 0) {\n                this.maxDepth--;\n                if (this.maxDepth < minDepth)\n                    return undefined;\n                bin = this.depthBins[this.maxDepth];\n            }\n\n            client = bin.pop();\n\n            while (!bin || bin.length == 0) {\n                this.maxDepth--;\n                if (this.maxDepth < minDepth)\n                    break;\n                bin = this.depthBins[this.maxDepth];\n            }\n\n        }\n\n        return client;\n    }\n\n    /**\n     * 从队列首弹出深度最小的一个对象\n     */\n    public shift() {\n        let client: DisplayLayoutAbstract|undefined;\n\n        const maxDepth = this.maxDepth;\n        if (this.minDepth <= maxDepth) {\n            let bin = this.depthBins[this.minDepth];\n            while (!bin || bin.length === 0) {\n                this.minDepth++;\n                if (this.minDepth > maxDepth)\n                    return undefined;\n                bin = this.depthBins[this.minDepth];\n            }\n\n            client = bin.pop();\n\n            while (!bin || bin.length == 0) {\n                this.minDepth++;\n                if (this.minDepth > maxDepth)\n                    break;\n                bin = this.depthBins[this.minDepth];\n            }\n        }\n\n        return client;\n    }\n\n    /**\n     * 移除大于等于指定组件层级的元素中最大的元素\n     */\n    public removeLargestChild(client: DisplayLayoutAbstract) {\n        const hashCode = client.uuid;\n        const nestLevel = client.$nestLevel;\n        let max = this.maxDepth;\n        const min = nestLevel;\n\n        while (min <= max) {\n            const bin = this.depthBins[max];\n            if (bin && bin.length > 0) {\n                if (max === nestLevel) {\n                    if (bin.map[hashCode]) {\n                        bin.remove(client);\n                        return client;\n                    }\n                }else if((client as any)[\"isContainer\"]) {\n\n                    const items = bin.items;\n                    const length = bin.length;\n                    for (let i = 0; i < length; i++) {\n                        const value = items[i] as any;\n                        if ((client as any).contains(value)) {\n                            bin.remove(value);\n                            return value;\n                        }\n                    }\n                }\n                else {\n                    break;\n                }\n                max--;\n            }\n            else {\n                if (max == this.maxDepth) {\n                    this.maxDepth--;\n                }\n                max--;\n                if (max < min)\n                    break;\n            }\n        }\n\n        return undefined;\n    }\n\n    /**\n     * 移除大于等于指定组件层级的元素中最小的元素\n     */\n    public removeSmallestChild(client: DisplayLayoutAbstract) {\n        const nestLevel = client.$nestLevel;\n        let min = nestLevel;\n        const max = this.maxDepth;\n        const hashCode = client.uuid;\n        while (min <= max) {\n            const bin = this.depthBins[min];\n            if (bin && bin.length > 0) {\n                if (min === nestLevel) {\n                    if (bin.map[hashCode]) {\n                        bin.remove(client);\n                        return client;\n                    }\n                }\n                else if ((client as any)[\"isContainer\"]) {\n                    const items = bin.items;\n                    const length = bin.length;\n                    for (let i = 0; i < length; i++) {\n                        const value = items[i] as any;\n                        if ((client as any).contains(value)) {\n                            bin.remove(value);\n                            return value;\n                        }\n                    }\n                }\n                else {\n                    break;\n                }\n\n                min++;\n            }\n            else {\n                if (min == this.minDepth)\n                    this.minDepth++;\n                min++;\n                if (min > max)\n                    break;\n            }\n        }\n\n        return undefined;\n    }\n\n    /**\n     * 队列是否为空\n     */\n    public isEmpty(): boolean {\n        return this.minDepth > this.maxDepth;\n    }\n}\n\n\n\n/**\n * @private\n * 失效验证管理器\n */\nclass UIValidator extends vf.utils.EventEmitter {\n    /**\n     * @private\n     * 创建一个Validator对象\n     */\n    public constructor() {\n        super();\n        \n    }\n\n    /**\n     * @private\n     */\n    private targetLevel = Infinity;\n\n    /**\n     * @private\n     */\n    private invalidatePropertiesFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidateClientPropertiesFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidatePropertiesQueue = new DepthQueue();\n\n    /**\n     * @private\n     * 标记组件属性失效\n     */\n    public invalidateProperties(target: DisplayLayoutAbstract): void {\n        if (!this.invalidatePropertiesFlag) {\n            this.invalidatePropertiesFlag = true;\n            if (!this.listenersAttached)\n                this.attachListeners();\n        }\n        if (this.targetLevel <= target.$nestLevel)\n            this.invalidateClientPropertiesFlag = true;\n        this.invalidatePropertiesQueue.insert(target);\n    }\n\n    /**\n     * @private\n     * 验证失效的属性\n     */\n    private validateProperties(): void {\n        const queue = this.invalidatePropertiesQueue;\n        let target = queue.shift();\n        while (target) {\n            if (target.parent) {\n                target.validateProperties();\n            }\n            target = queue.shift();\n        }\n        if (queue.isEmpty())\n            this.invalidatePropertiesFlag = false;\n    }\n\n    /**\n     * @private\n     */\n    private invalidateSizeFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidateClientSizeFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidateSizeQueue = new DepthQueue();\n\n    /**\n     * @private\n     * 标记需要重新测量尺寸\n     */\n    public invalidateSize(target: DisplayLayoutAbstract): void {\n        if (!this.invalidateSizeFlag) {\n            this.invalidateSizeFlag = true;\n            if (!this.listenersAttached)\n                this.attachListeners();\n        }\n        if (this.targetLevel <= target.$nestLevel)\n            this.invalidateClientSizeFlag = true;\n        this.invalidateSizeQueue.insert(target);\n    }\n\n    /**\n     * @private\n     * 测量尺寸\n     */\n    private validateSize(): void {\n        const queue = this.invalidateSizeQueue;\n        let target = queue.pop();\n        while (target) {\n            if (target.parent) {\n                target.validateSize();\n            }\n            target = queue.pop();\n        }\n        if (queue.isEmpty())\n            this.invalidateSizeFlag = false;\n    }\n\n\n    /**\n     * @private\n     */\n    private invalidateDisplayListFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidateDisplayListQueue = new DepthQueue();\n\n    /**\n     * @private\n     * 标记需要重新布局\n     */\n    public invalidateDisplayList(client: DisplayLayoutAbstract): void {\n        if (!this.invalidateDisplayListFlag) {\n            this.invalidateDisplayListFlag = true;\n            if (!this.listenersAttached)\n                this.attachListeners();\n        }\n        this.invalidateDisplayListQueue.insert(client);\n    }\n\n    /**\n     * @private\n     * 重新布局\n     */\n    private validateDisplayList(): void {\n        const queue = this.invalidateDisplayListQueue;\n        let client = queue.shift();\n        while (client) {\n            if (client.parent) {\n                client.validateDisplayList();\n            }\n            client = queue.shift();\n        }\n        if (queue.isEmpty())\n            this.invalidateDisplayListFlag = false;\n    }\n\n    /**\n     * @private\n     * 是否已经添加了事件监听\n     */\n    private listenersAttached = false;\n\n    /**\n     * @private\n     * 添加事件监听\n     */\n    private attachListeners(): void {\n        TickerShared.addOnce(this.doPhasedInstantiationCallBack,this);\n        this.listenersAttached = true;\n    }\n\n    /**\n     * @private\n     * 执行属性应用\n     */\n    private doPhasedInstantiationCallBack(): void {\n        this.doPhasedInstantiation();\n    }\n\n    /**\n     * @private\n     */\n    private doPhasedInstantiation(): void {\n        if (this.invalidatePropertiesFlag) {\n            this.validateProperties();\n        }\n        if (this.invalidateSizeFlag) {\n            this.validateSize();\n        }\n\n        if (this.invalidateDisplayListFlag) {\n            this.validateDisplayList();\n        }\n\n        if (this.invalidatePropertiesFlag ||\n            this.invalidateSizeFlag ||\n            this.invalidateDisplayListFlag) {\n            this.attachListeners();\n        }\n        else {\n            this.listenersAttached = false;\n        }\n    }\n\n    /**\n     * @private\n     * 使大于等于指定组件层级的元素立即应用属性\n     * @param target 要立即应用属性的组件\n     */\n    public validateClient(target: DisplayLayoutAbstract): void {\n\n        let obj: DisplayLayoutAbstract|undefined;\n        let done = false;\n        const oldTargetLevel = this.targetLevel;\n\n        if (this.targetLevel === Infinity)\n            this.targetLevel = target.$nestLevel;\n\n        const propertiesQueue = this.invalidatePropertiesQueue;\n        const sizeQueue = this.invalidateSizeQueue;\n        const displayListQueue = this.invalidateDisplayListQueue;\n        while (!done) {\n            done = true;\n\n            obj = propertiesQueue.removeSmallestChild(target);\n            while (obj) {\n                if (obj.parent) {\n                    obj.validateProperties();\n                }\n                obj = propertiesQueue.removeSmallestChild(target);\n            }\n\n            if (propertiesQueue.isEmpty()) {\n                this.invalidatePropertiesFlag = false;\n            }\n            this.invalidateClientPropertiesFlag = false;\n\n            obj = sizeQueue.removeLargestChild(target);\n            while (obj) {\n                if (obj.parent) {\n                    obj.validateSize();\n                }\n                if (this.invalidateClientPropertiesFlag) {\n                    obj = (propertiesQueue.removeSmallestChild(target));\n                    if (obj) {\n                        propertiesQueue.insert(obj);\n                        done = false;\n                        break;\n                    }\n                }\n\n                obj = sizeQueue.removeLargestChild(target);\n            }\n\n            if (sizeQueue.isEmpty()) {\n                this.invalidateSizeFlag = false;\n            }\n            this.invalidateClientPropertiesFlag = false;\n            this.invalidateClientSizeFlag = false;\n\n            obj = displayListQueue.removeSmallestChild(target);\n            while (obj) {\n                if (obj.parent) {\n                    obj.validateDisplayList();\n                }\n                if (this.invalidateClientPropertiesFlag) {\n                    obj = propertiesQueue.removeSmallestChild(target);\n                    if (obj) {\n                        propertiesQueue.insert(obj);\n                        done = false;\n                        break;\n                    }\n                }\n\n                if (this.invalidateClientSizeFlag) {\n                    obj = sizeQueue.removeLargestChild(target);\n                    if (obj) {\n                        sizeQueue.insert(obj);\n                        done = false;\n                        break;\n                    }\n                }\n\n                obj = displayListQueue.removeSmallestChild(target);\n            }\n\n\n            if (displayListQueue.isEmpty()) {\n                this.invalidateDisplayListFlag = false;\n            }\n        }\n\n        if (oldTargetLevel === Infinity) {\n            this.targetLevel = Infinity;\n        }\n    }\n\n\n    public removeDepthQueueAll(){\n        this.invalidatePropertiesQueue.removeAll();\n        this.invalidateDisplayListQueue.removeAll();\n        this.invalidateSizeQueue.removeAll();\n        this.doPhasedInstantiation();\n    }\n\n}\n\n\nconst validatorShared = new UIValidator();\n\nexport default validatorShared;","import { GroupController } from \"../interaction/Index\";\nimport { DisplayLayoutAbstract } from \"./DisplayLayoutAbstract\";\nimport { CSSStyle } from \"../layout/CSSStyle\";\nimport { updateDisplayLayout } from \"../layout/CSSLayout\";\nimport { UIBaseDrag } from \"./plugs/UIBaseDrag\";\nimport { deepCopy, toDomRectangle } from \"../utils/Utils\";\nimport { UIClick } from \"./plugs/UIClick\";\nimport { Filter } from \"../UI\";\nimport { HitArea } from \"./plugs/HitArea\";\n\n/**\n * UI的顶级类，基础的UI对象\n *\n * @class\n * @since 1.0.0\n */\nexport class DisplayObject extends DisplayLayoutAbstract implements Lifecycle {\n    /**\n     * 构造函数\n     */\n    public constructor() {\n        super();\n        this.container.name = (this.constructor as any).name;\n    }\n\n    /**\n     * 插件列表\n     */\n    public plugs = new Map<string, Lifecycle>();\n    /**\n     * 拖动限制门槛,小于设置的数不执行拖动,防止点击与滚动\n     */\n    public dragThreshold = 0;\n    /** 拖动时，事件流是否继续传输 */\n    public dragStopPropagation = true;\n    /** 模糊 */\n    private blurFilter?: vf.filters.BlurFilter;\n    /** 子类实现 */\n    public _anchorX = 0;\n    /** 子类实现 */\n    public _anchorY = 0;\n\n    /**\n     * 设置拖动\n     */\n    public get dragOption() {\n        if (this.plugs.has(UIBaseDrag.key)) {\n            return this.plugs.get(UIBaseDrag.key) as UIBaseDrag\n        }\n        return new UIBaseDrag(this);\n    }\n    public set dragOption(value: UIBaseDrag) {\n        const dragOption = this.dragOption;\n        deepCopy(value, dragOption);\n    }\n\n\n    /** 是否开启鼠标或触摸点击，开启后，接收TouchMouseEvent */\n    public get interactabled() {\n        const click = this.plugs.get(UIClick.key) as UIClick;\n        if (click) {\n            return true;\n        }\n        return false;\n    }\n\n    public set interactabled(value: boolean) {\n        const click = this.plugs.get(UIClick.key) as UIClick;\n        if (value) {\n            if (!click) {\n                new UIClick(this);\n            }\n        } else {\n            if (click) {\n                click.release();\n            }\n        }\n    }\n\n    /**\n     * 设置拖拽\n     */\n    public get hitArea() {\n        if (this.plugs.has(HitArea.key)) {\n            return this.plugs.get(HitArea.key) as HitArea;\n        }\n        return new HitArea(this);\n    }\n\n    public checkHitArea() {\n        return this.plugs.has(HitArea.key);\n    }\n\n    /** 是否开启鼠标或触摸点击，开启后，接收TouchMouseEvent */\n    public get isClick() {\n        console.error('[VF LOG] isClick 已弃用，请使用 interactabled 替换!');\n        return this.interactabled;\n    }\n\n    public set isClick(value: boolean) {\n        console.error('[VF LOG] isClick 已弃用，请使用 interactabled 替换!');\n        this.interactabled = value;\n    }\n\n    /**\n     * 分组\n     */\n    protected _groupName?: string;\n    public get groupName() {\n        return this._groupName;\n    }\n    public set groupName(value) {\n\n        if (value === undefined) {\n            GroupController.unRegistrerGroup(this);\n        }\n        if (this._groupName == value) {\n            return;\n        }\n        this._groupName = value;\n        GroupController.registrerGroup(this);\n    }\n\n\n    /**\n     * 透明度\n     */\n    public get alpha() {\n        return this.container.alpha;\n    }\n    public set alpha(value) {\n        this.container.alpha = value;\n    }\n\n\n    /** \n     * 色调\n     * @default 0xFFFFFF \n     * */\n    protected _tint = 0xFFFFFF;\n    public get tint(): number {\n        return this._tint;\n    }\n    public set tint(value: number) {\n        if (value === this._blendMode) {\n            return;\n        }\n        if (value === undefined) {\n            this._tint = 0xFFFFFF;\n            return;\n        }\n        this._tint = value;\n        this.container.children.forEach(childrenItem => {\n            if ((childrenItem as any)[\"tint\"]) {\n                (childrenItem as any)[\"tint\"] = value;\n            }\n        });\n    }\n\n    /** \n     * 混合模式 \n     */\n    private _blendMode: vf.BLEND_MODES | undefined;\n    public get blendMode(): vf.BLEND_MODES | undefined {\n        return this._blendMode;\n    }\n    public set blendMode(value: vf.BLEND_MODES | undefined) {\n        if (value === this._blendMode) {\n            return;\n        }\n        this._blendMode = value;\n        this.container.children.forEach(childrenItem => {\n            if (childrenItem instanceof vf.Sprite) {\n                childrenItem.blendMode = value || vf.BLEND_MODES.NORMAL;\n            } else if (childrenItem instanceof vf.Graphics) {\n                childrenItem.blendMode = value || vf.BLEND_MODES.NORMAL;\n            }\n        });\n    }\n\n    private _filterProxy: any = {};\n    private _filterMap = new Map<string, Filter>();\n    private _filterCount = 0;\n    public get filter() {\n        if (this._filterCount !== Filter.list.size) {\n\n            this._filterCount = Filter.list.size;\n            const { _filterProxy, _filterMap } = this;\n\n            if (this.container.filters == null) {\n                this.container.filters = [];\n            }\n            const containerFilters = this.container.filters;\n\n            Filter.list.forEach((cls: any, key: string) => {\n                if (!_filterMap.has(key)) {\n                    const filter = new cls();\n                    _filterMap.set(key, filter);\n\n                    Object.defineProperty(_filterProxy, key, {\n                        get: function () {\n                            const index = containerFilters.indexOf(filter);\n                            if (index === -1) {\n                                containerFilters.push(filter);\n                            }\n                            return filter;\n                        },\n                        set(val) {\n                            if (val == null || val == '') {\n                                const index = containerFilters.indexOf(filter);\n                                if (index >= 0) {\n                                    containerFilters.splice(index, 1);\n                                }\n                                _filterMap.delete(key);\n                            }\n                        }\n                    })\n                }\n            })\n        }\n        return this._filterProxy;\n    }\n\n    /**\n     * 设置Blur XY的模糊强度\n     *\n     * 参数类型为number时，设置 blurX = blurY = value\n     *\n     */\n    public set filterBlur(value: number) {\n        const container = this.container;\n        if (this.blurFilter === undefined) {\n            this.blurFilter = new vf.filters.BlurFilter(8, 1, 1);\n            container.filters = [this.blurFilter];\n        }\n        if((value === undefined || isNaN(value)) && this.blurFilter && container.filters) {\n            container.filters.splice(container.filters.indexOf(this.blurFilter),1); \n            this.blurFilter = undefined;\n        } else{\n            this.blurFilter.blur = value;\n        }\n\n    }\n    public get filterBlur() {\n        return this.blurFilter ? this.blurFilter.blur : 0;\n    }\n\n    /**\n     * 设置灰度\n     *\n     * 参数类型为 number, 接收一个百分比值，然后再将其转换为小数\n     */\n    private grayscaleFilter?: vf.filters.ColorMatrixFilter;\n    private grayscaleFilterValue = NaN;\n    public set filterGrayscale(value: number) {\n        const container = this.container;\n        if (this.grayscaleFilter === undefined) {\n            this.grayscaleFilter = new vf.filters.ColorMatrixFilter();\n            container.filters = [this.grayscaleFilter];\n        }\n        if((value === undefined || isNaN(value)) && this.grayscaleFilter && container.filters) {\n            container.filters.splice(container.filters.indexOf(this.grayscaleFilter),1); \n            this.grayscaleFilter = undefined;\n            this.grayscaleFilterValue = NaN;\n        } else{\n            this.grayscaleFilterValue = value / 100;\n            this.grayscaleFilter.greyscale(this.grayscaleFilterValue, false);\n        }\n    }\n\n    public get filterGrayscale() {\n        return this.grayscaleFilterValue * 100;\n    }\n\n    /**\n     * 私有样式代理\n     * */\n    protected _style?: CSSStyle;\n    /**\n    *  在不同分辨率下保持像素稳定\n    * @default\n    */\n    public pixelPerfect = true;\n    /**\n     * 动态属性，避免其他类注入\n     */\n    public attach: { [key: string]: object | number | string | Function } = {};\n    /**\n     * 获取样式\n     */\n    public get style(): CSSStyle {\n        if (this._style == undefined) {\n            this._style = new CSSStyle(this);\n        }\n        return this._style;\n    }\n\n    public set style(value: CSSStyle) {\n        const style = this.style;\n        deepCopy(value, style);\n        this.invalidateParentLayout();\n    }\n\n    public toDomRectangle() {\n        return toDomRectangle(this);\n      }\n    \n    /**\n     * 更新显示列表,子类重写，实现布局\n     */\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n\n        if (!this.visible || this.alpha <= 0) {  // 隐藏元素后，布局失效\n            return;\n        }\n        if (this._style) {\n            //console.log(\"displayStyle\",unscaledWidth,unscaledHeight,this.left,this.right,this.x,this.y);\n            updateDisplayLayout(this, unscaledWidth, unscaledHeight);\n        } else {\n            //console.log(\"display\",this.x + this.pivotX,this.y + this.pivotY,this.scaleX,this.scaleY,this.rotation*(Math.PI/180),this.skewX,this.skewY,this.pivotX,this.pivotY);\n            this.updateTransform();\n            //虚拟热区\n            if (this.checkHitArea() === true) {\n                this.hitArea.updataHitArea();\n            }\n        }\n    }\n\n    public load() {\n        this.initializeUIValues();\n        super.load();\n    }\n\n    public release() {\n\n        const { container, $mask, $background, _filterMap, plugs } = this;\n\n        container.filters = [];\n\n        _filterMap.clear();\n        if (this._style) {\n            this._style.release();\n            this._style = undefined;\n        }\n\n        $mask && $mask.release();\n        $background && $background.release();\n        (this.$background as any) = undefined;\n        (this.$mask as any) = undefined;\n\n        plugs.forEach(value => {\n            value.release();\n        });\n        plugs.clear();\n        GroupController.unRegistrerID(this);\n        GroupController.unRegistrerGroup(this);\n\n        super.release();\n    }\n\n    public releaseAll() {\n\n        this.offAll();\n        this.release();\n\n        while (this.uiChildren.length > 0) {\n            if (this.uiChildren[0].uiChildren.length > 0) {\n                (this.uiChildren[0].uiChildren[0] as DisplayObject).releaseAll();\n            }\n            (this.uiChildren[0] as DisplayObject).releaseAll();\n        }\n\n        this.uiChildren = [];\n        this.container && this.container.parent && this.container.parent.removeChild(this.container);\n        this.container.removeAllListeners();\n        this.container.removeChildren();\n    }\n}\n","import { ContainerBase } from \"./ContainerBase\";\nimport { Stage } from \"./Stage\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { uid, getStage } from \"../utils/Utils\";\nimport { DisplayObject } from \"./DisplayObject\";\nimport { Background } from \"./Background\";\nimport { Mask } from \"./Mask\";\n\nexport class DisplayObjectAbstract extends vf.utils.EventEmitter implements LifecycleHook, Lifecycle {\n\n    public constructor() {\n        super();\n        this.uuid = uid();\n        this.container = new ContainerBase();\n        this.container.on(\"added\", this.$onAddStage, this);\n        this.container.on(\"removed\", this.$onRemoveStage, this);\n    }\n    /**\n     * 全局唯一ID\n     */\n    public readonly uuid: number;\n\n    public id = '';\n    /**\n     * 自定义组价名\n     */\n    public name = '';\n    /**\n     * @private\n     * 这个对象在显示列表中的嵌套深度，舞台为1，它的子项为2，子项的子项为3，以此类推。当对象不在显示列表中时此属性值为0.\n     */\n    public $nestLevel = 0;\n    /** \n     * 是否初始化 \n     * @default\n     */\n    public initialized = false;\n    /** \n     * 舞台引用\n     */\n    public $stage?: Stage;\n    /** \n     * 父容器 \n     */\n    public parent: DisplayObject | Stage | undefined;\n    /**\n     * 节点列表\n     */\n    public uiChildren: DisplayObjectAbstract[] = [];\n\n    /** 没有功能实现，内部编辑器 */\n    public container: ContainerBase;\n    /**\n     * 背景(内部使用)\n     */\n    public $background = new Background(this);\n    /**\n     * 遮罩(内部使用)，设置遮罩后，组件内部的索引位置可能产生变化\n     */\n    public $mask = new Mask(this);// vf.Graphics | vf.Sprite | DisplayLayoutAbstract;\n\n    /**\n     * 是否开启事件同步\n     */\n    public syncabled = true;\n\n    /**\n     * 是否开启恢复时派发事件\n     */\n    public resumeabled = true;\n\n    /** 添加显示对象，需集成Core */\n    public addChild<T extends DisplayObjectAbstract>(item: T): T {\n        if (this.container.children.length !== this.uiChildren.length) {\n            return this.addChildAt(item, this.container.children.length);\n        } else {\n            return this.addChildAt(item, this.uiChildren.length);\n        }\n\n    }\n\n    /**\n     * 插入显示对象到特定位置\n     * @param item 显示对象\n     * @param index 要插入的索引，最大值为当前显示列表的长度，最小值为0\n     */\n    public addChildAt<T extends DisplayObjectAbstract>(item: T, index: number): T {\n\n        if (item.parent) {\n            item.parent.removeChild(item);\n        }\n\n        item.parent = this as any;\n        item.$nestLevel = this.$nestLevel + 1;\n        this.uiChildren.splice(index, 0, item);\n        if (!item.initialized) {\n            item.initialized = true;\n            item.$onInit();\n        }\n        index = Math.min(index, this.container.children.length);\n        this.emit(ComponentEvent.ADD, this);\n        if (this.$background && this.$background.isInit) {\n            this.container.addChildAt(item.container, Math.min(index + 1, this.container.children.length));\n        } else {\n            this.container.addChildAt(item.container, index);\n        }\n\n        return item;\n    }\n\n    public getChildAt(index: number) {\n        return this.uiChildren[index] || undefined;\n    }\n\n    public getChildByUUID(uuid: number) {\n        const uiChildren = this.uiChildren;\n        const len = uiChildren.length;\n        for (let i = 0; i < len; i++) {\n            if (uiChildren[i].uuid == uuid) {\n                return uiChildren[i];\n            }\n        }\n        return undefined;\n    }\n\n    public _getChildById(id: string) {\n        const uiChildren = this.uiChildren;\n        const len = uiChildren.length;\n        for (let i = 0; i < len; i++) {\n            if (uiChildren[i].id === id) {\n                return uiChildren[i];\n            }\n        }\n        return undefined;\n    }\n\n    public getChildByPath(ids: string[]) {\n        let display: undefined | DisplayObjectAbstract = this as DisplayObjectAbstract;\n        const len = ids.length - 1;\n        for (let i = len; i >= 0; i--) {\n            if (display)\n                display = display._getChildById(ids[i]);\n            else\n                display = undefined;\n        }\n        return display;\n    }\n\n    /**\n     * 移除已添加的UI组件\n     * @param UIObject 要移除的UI组件\n     */\n    public removeChild<T extends DisplayObjectAbstract>(item: T): T {\n        const index = this.uiChildren.indexOf(item);\n        if (index === -1) { // 防止删除多余的\n            return item;\n        }\n        return this.removeChildAt(index);\n    }\n\n    public removeChildAt<T>(index: number): T {\n        index = Math.max(0, index);\n        index = Math.min(this.uiChildren.length, index);\n        const item = this.uiChildren[index];\n        if (item) {\n            item.container.parent.removeChild(item.container);\n            this.uiChildren.splice(index, 1);\n            item.parent = undefined;\n        }\n        return item as any;\n    }\n\n    /**\n     * 移除元素\n     * @param release 是否释放子节点，破坏结构\n     * @param beginIndex 开始\n     * @param endIndex 结束\n     */\n    public removeChildren(release = false, beginIndex?: number | undefined, endIndex?: number | undefined) {\n        const start = beginIndex ? beginIndex : 0;\n        const end = endIndex ? endIndex : this.uiChildren.length;\n        for (let i = end - 1; i >= start; i--) {\n            const disp = this.removeChild(this.uiChildren[i]);\n            if(release){\n                disp.release();\n            }\n        }\n        \n    }\n\n    /**\n     * 是否绘制显示对象，如果false不进行绘制，不过仍然会进行相关的更新计算。\n     * 只影响父级的递归调用。\n     */\n    public set renderable(value: boolean) {\n        this.container.renderable = value;\n    }\n    public get renderable() {\n        return this.container.renderable;\n    }\n\n    private _interactive = true;\n    /**\n     * 对象是否可以接收事件\n     */\n    public set interactive(value: boolean) {\n        this._interactive = value;\n        if (!this._enabled) {\n            return;\n        }\n        this.container.interactive = value;\n    }\n    public get interactive() {\n        return this.container.interactive;\n    }\n\n    private _interactiveChildren = true;\n    /**\n     * 子对象是否可以接收事件，设置false后，会绕过HitTest方法的递归\n     */\n    public set interactiveChildren(value: boolean) {\n        this._interactiveChildren = value;\n        if (!this._enabled) {\n            return;\n        }\n        this.container.interactiveChildren = value;\n    }\n    public get interactiveChildren() {\n        return this.container.interactiveChildren;\n    }\n\n    /**\n     * 子类实现\n     */\n    public validateNow() {\n        //\n    }\n\n    private _enabled = true;\n    public get enabled() {\n        return this._enabled;\n    }\n    public set enabled(value: boolean) {\n        if (this._enabled === value) {\n            return;\n        }\n        this._enabled = value;\n        this.container.interactive = value;\n        this.container.interactiveChildren = value;\n    }\n\n    /**\n     * 是否可见\n     */\n    private _visible = true;\n    public get visible() {\n        return this._visible;\n    }\n    public set visible(value) {\n        if (this._visible === value) {\n            return;\n        }\n        this._visible = value;\n        if (value === true) {\n            this.validateNow();\n        }\n        this.container.visible = value;\n    }\n\n    /** 清除全部事件 */\n    public offAll(event?: string | symbol) {\n        return this.removeAllListeners(event);\n    }\n\n    public get stage(): Stage | undefined {\n        if (this.$stage == undefined) {\n            this.$stage = getStage(this);\n        }\n        return this.$stage;\n    }\n\n    protected checkInvalidateFlag() {\n        //\n    }\n\n    load(): void {\n        this.$onLoad();\n    }\n    release(): void {\n        if (this.parent) {\n            this.parent.removeChild(this);\n        }\n        this.$onRelease();\n        this.$stage = undefined;\n    }\n\n    $onInit() {\n        this.emit(ComponentEvent.CREATION_COMPLETE, this);\n    }\n\n    $onLoad() {\n        //\n    }\n\n    $onRelease() {\n        //\n    }\n\n    $onAddStage() {\n        this.checkInvalidateFlag();\n        this.emit(ComponentEvent.ADDED, this);\n    }\n    $onRemoveStage() {\n        this.checkInvalidateFlag();\n        this.parent = undefined;\n        this.emit(ComponentEvent.REMOVEED, this);\n    }\n\n\n}\n\n\n","export class Filter extends vf.Filter {\n\n    public static isFilter = true;\n    public static defaultFilterVertex = vf.defaultFilterVertex;\n    public static list = new Map<string,boolean>();\n\n    constructor(vertexSrc?: string, fragmentSrc?: string, uniforms?: { [key: string]: any }) {\n        super(vertexSrc, fragmentSrc, uniforms);\n    }\n}","import { MaskSprite } from \"../core/MaskSprite\";\nimport { getTexture, getDisplayObject } from \"../utils/Utils\";\n\nexport class Mask {\n\n    constructor(parent: any) {\n        this.parent = parent;\n    }\n\n    private parent: any;\n    private _image?: string | vf.Graphics | MaskSprite;\n    private _oldImage: any;\n    private _mask: any;\n    private _invalidateFlag = false;\n\n    private _position?: number[];\n    public get position() {\n        return this._position;\n    }\n    public set position(value) {\n        this._position = value;\n        this._invalidateFlag = true;\n    }\n\n    private _size: number[] | undefined;\n    public get size() {\n        return this._size;\n    }\n    public set size(value) {\n        this._size = value;\n        this._invalidateFlag = true;\n    }\n\n    public get image() {\n        return this._image;\n    }\n    public set image(value) {\n        if (value === this._image) {\n            return;\n        }\n        this._image = value;\n        this._invalidateFlag = true;\n    }\n\n    public update(w: number, h: number) {\n\n        if (!this._invalidateFlag) {\n            return;\n        }\n        this._invalidateFlag = false;\n        const target = this.parent;\n        const container = target.container as vf.Container;\n        const image = this._image as any;\n        let maskdisplay: vf.Graphics | vf.Sprite | undefined;\n\n        if (image !== this._oldImage) {\n            this._oldImage = image;\n            if(this._mask && this._mask.parent){\n                this._mask.parent.removeChild(this._mask);\n            }\n\n            if(image === undefined) {\n                container.mask = null as any;\n                return;\n            } \n            this._mask = undefined;\n            if (typeof image === 'string' && image.indexOf('//') !== -1) { // http\n                this._mask = maskdisplay = vf.Sprite.from(image);\n            } else if (typeof image === 'string' && image.indexOf('this') !== -1) { // vf-player gui 'this#xxxx' 组件被添加到舞台\n                maskdisplay = getDisplayObject(this._image);\n            } else if (typeof image === 'string' || typeof image === 'number') { // vf-player id, 组件没有被添加到舞台\n                const guiObject = getDisplayObject(image);\n                if (typeof guiObject === 'string') {\n                    this._mask = maskdisplay = vf.Sprite.from(guiObject);\n                } else {\n                    maskdisplay = this.getGuiObject(guiObject); \n                }\n                \n            } else if (typeof image === 'string' && image.indexOf('.') !== -1) { // file.xxx\n                this._mask = maskdisplay = vf.Sprite.from(image);\n            } else if (image instanceof vf.Graphics || image instanceof vf.Sprite) {\n                this._mask = maskdisplay = image;\n            } else if (image.maskSprite) { // gui组件\n                maskdisplay = this.getGuiObject(image);\n            }\n\n            if (maskdisplay) {\n                container.mask = maskdisplay;\n                if (!maskdisplay.parent) {\n                    container.addChild(maskdisplay);\n                }\n            }\n        }\n\n        const mask = container.mask as vf.Container;\n        if (mask && this._size) {\n            if(this._mask){\n                this._mask.width = this._size[0];\n                this._mask.height = this._size[1];\n            }else{\n                mask.width = this._size[0];\n                mask.height = this._size[1];\n            }\n        }\n\n        if (mask && this._position) {\n            if (this._mask ) {\n                this._mask.x = this._position[0] || 0;\n                this._mask.y = this._position[1] || 0;\n            }else {\n                mask.x = this._position[0] || 0;\n                mask.y = this._position[1] || 0;\n            }\n\n        }\n\n    }\n\n    private getGuiObject(sp: MaskSprite){\n        this._mask = sp;\n        if (!sp.parent) {\n            this.parent.addChild(sp);\n        }\n        sp.validateNow();\n        return sp.maskSprite() as vf.Sprite;\n    }\n\n    public release() {\n        if(this.parent){\n            this.parent.mask = null;\n        }\n        this._mask = undefined;\n        this._oldImage = undefined;\n        this.image = undefined;\n        this.parent = undefined;\n        this._invalidateFlag = false;\n    }\n}","import { TickerShared } from \"./Ticker\";\nimport { EventType } from \"../event/EventType\";\nimport { EventLevel } from \"../event/EventLevel\";\n\n/**\n * Schedule anything\n *\n * @author 8088\n */\n\nexport class Scheduler extends vf.utils.EventEmitter{\n    public get id(): number {\n        return this._id;\n    }\n\n    public static schedulerList: Scheduler[] = [];\n\n    public static stopAll(){\n        for(let i = 0; i < Scheduler.schedulerList.length; ++i){\n            Scheduler.schedulerList[i].stop();\n        }\n        console.log('removeAll', Scheduler.schedulerList)\n        Scheduler.schedulerList = [];\n    }\n\n    public static setEnterFrame(listener: (data?: any) => void): Scheduler {\n        const scheduler: Scheduler = new Scheduler(Infinity, 0);\n        scheduler.addListener(EventType.TICK, listener);\n        Scheduler.schedulerList.push(scheduler);\n        return scheduler;\n    }\n\n    public static setInterval(time: number, listener: (data?: any) => void): Scheduler {\n        const scheduler: Scheduler = new Scheduler(Infinity, time);\n        scheduler.addListener(EventType.TICK, listener);\n        Scheduler.schedulerList.push(scheduler);\n        return scheduler;\n    }\n\n    public static setTimeout(time: number, listener: (data?: any) => void): Scheduler {\n        const scheduler: Scheduler = new Scheduler(time, Infinity);\n        scheduler.addListener(EventType.END, listener, scheduler);\n        Scheduler.schedulerList.push(scheduler);\n        return scheduler;\n    }\n\n\n    public _interval = 0;\n    public _timeout = Infinity;\n    private _id = Math.random();\n    private _running = false;\n    private _pausing = false;\n    private _totalDuration = 0;\n    private _intervalDuration = 0;\n\n    constructor(timeout = Infinity, interval = 0) {\n        super();\n        this._timeout = timeout;\n        this._interval = interval;\n        this.restart();\n    }\n\n    public restart(): void {\n        this._totalDuration = 0;\n        this._intervalDuration = 0;\n        this._pausing = false;\n        if(!this._running){\n            this._running = true;\n            TickerShared.add(this.run, this);\n        }\n    }\n\n    public stop(): void{\n        // this.removeAllListeners();  //去掉这句，因为有可能会stop之后调用restart\n        if(this._running){\n            this._running = false;\n            TickerShared.remove(this.run, this);\n        }\n\n        for(let i = 0; i < Scheduler.schedulerList.length; ++i){\n            if(Scheduler.schedulerList[i] == this){\n                Scheduler.schedulerList.splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    public pause(): void{\n        if (this._running && !this._pausing) {\n            this._pausing = true;\n            TickerShared.remove(this.run, this);\n        }\n    }\n\n    public resume(): void{\n        if(this._pausing){\n            this._pausing = false;\n            TickerShared.add(this.run, this);\n        }\n    }\n\n    private run(deltaTime: number): boolean{\n        this._totalDuration += TickerShared.deltaMS;\n        this._intervalDuration += TickerShared.deltaMS;\n        if(this._intervalDuration >= this._interval){\n            const info = {\n                code: EventType.TICK,\n                level: EventLevel.STATUS,\n                target: this,\n                dt: this._intervalDuration,  //by ziye 返回执行间隔\n                elapsed: this._totalDuration,\n            };\n            this.emit(EventType.TICK, info);\n            this._intervalDuration = 0;\n        }\n        if(this._totalDuration >= this._timeout){\n            const info = {\n                code: EventType.END,\n                level: EventLevel.STATUS,\n                target: this,\n                dt: this._intervalDuration,  //by ziye 返回执行间隔\n                elapsed: this._totalDuration,\n            };\n            this.emit(EventType.END, info);\n            this.stop();\n        }\n        return false;\n    }\n\n}","import * as tween from \"../tween/private/index\";\nimport { TickerShared } from \"./Ticker\";\nimport { DisplayLayoutAbstract } from \"./DisplayLayoutAbstract\";\nimport { DisplayObject } from \"./DisplayObject\";\nimport { releaseAllTimeLine } from \"../tween/private/core\"\nimport validatorShared from \"./DisplayLayoutValidator\";\nimport { SyncManager } from \"../interaction/SyncManager\";\nimport { Scheduler } from \"./Scheduler\";\nimport { ClickEvent, DragEvent } from \"../interaction/Index\";\n\n/**\n * UI的舞台对象，展示所有UI组件\n *\n * @class \n * @param width {Number} 舞台宽度\n * @param height {Number} 舞台高度\n */\nexport class Stage extends DisplayLayoutAbstract {\n\n\n    public constructor(width: number, height: number, app: vf.Application) {\n        super();\n        this.width = width;\n        this.height = height;\n        this.setActualSize(width, height);\n        this.container.name = \"Stage\";\n        this.container.hitArea = new vf.Rectangle(0, 0, width, height);\n        this.container.interactive = true;\n        this.container.interactiveChildren = true;\n        this.$nestLevel = 1;\n        this.app = app;\n        this.initialized = true;\n\n        if (!TickerShared.started) {\n            TickerShared.start();\n        }\n        TickerShared.add(tween.update, this);\n\n        if (!this.container.parent) {\n            this.app.stage.addChildAt(this.container,0);\n        }\n\n    }\n\n    public app: vf.Application;\n    public syncManager: SyncManager | undefined;\n    public resumeStatusFlag = false;  //当前stage是否正在恢复信令\n\n    /**\n     * 是否组织原始数据继续传递\n     */\n    public originalEventPreventDefault = false;\n\n    public get stageWidth() {\n        return this.app.view.width;\n    }\n\n    public get stageHeight() {\n        return this.app.view.height;\n    }\n\n    public get scaleX() {\n        return this.container.scale.x;\n    }\n\n    public set scaleX(value: number) {\n        this.container.scale.x = value;\n    }\n\n    public get scaleY() {\n        return this.container.scale.y;\n    }\n\n    public set scaleY(value: number) {\n        this.container.scale.y = value;\n    }\n\n    public set Scale(value: vf.Point) {\n        this.container.scale.copyFrom(value);\n    }\n\n    // /**\n    //  * 截取图片\n    //  * @param display \n    //  * @param {string} [format] - 图片格式, 如 \"image/jpeg\" or \"image/webp\".\n    //  * @param {number} [quality] - 图片的品质 0 to 1. 默认 is 0.92.\n    //  */\n    // public extractBase64(target?: vf.gui.DisplayObject,format?: string, quality?: number): any {\n\n    // }\n\n    /**\n     * 是否同步交互事件\n     */\n    private _syncInteractiveFlag = false; //TODO:默认false\n    public set syncInteractiveFlag(value: boolean) {\n        this._syncInteractiveFlag = value;\n        if (value) {\n            if (!this.syncManager) {\n                this.syncManager = new SyncManager(this);\n                SyncManager.instance = this.syncManager;\n            }\n            this.syncManager.start();\n        }\n        else {\n            if (this.syncManager) {\n                this.syncManager.stop();\n            }\n        }\n    }\n\n    public get syncInteractiveFlag() {\n        return this._syncInteractiveFlag;\n    }\n\n    public getSystemEvent(): vf.utils.EventEmitter {\n        //\n        return this;\n    }\n\n    public sendToPlayer(e: any): void {\n        //\n    }\n\n    public release() {\n        super.release();\n        Scheduler.stopAll();\n        TickerShared.remove(tween.update, this);\n        releaseAllTimeLine();\n\n\n        this.syncManager && this.syncManager.stop();\n        this.syncManager = undefined;\n        SyncManager.instance = undefined;\n    }\n\n    public releaseAll() {\n        Scheduler.stopAll();\n        TickerShared.remove(tween.update, this);\n        releaseAllTimeLine();\n        this.syncManager && this.syncManager.stop();\n\n        this.syncManager = undefined;\n        SyncManager.instance = undefined;\n\n        for (let i = this.uiChildren.length - 1; i >= 0; i--) {\n            const ui = this.uiChildren[i] as DisplayObject;\n\n            ui.releaseAll();\n        }\n\n        this.uiChildren = [];\n        this.container.removeAllListeners();\n        this.container.removeChildren();\n        validatorShared.removeAllListeners();\n        validatorShared.removeDepthQueueAll();\n\n        this.app = undefined as any;\n    }\n\n\n    public resize(): void {\n        this.container.hitArea = new vf.Rectangle(0, 0, this.width, this.height);\n        //this.updateChildren();\n    }\n\n    /**\n     * 接收来自player的消息\n     * @param msg \n     */\n    public receiveFromPlayer(msg: any) {\n        if (msg.code == 'syncEvent') {\n            let data = msg.data; //{data: eventData, type: 'live/history'}\n            this.syncManager && this.syncManager.receiveEvent(data.data, data.type);\n        }\n    }\n\n    /**\n     * 截图功能\n     */\n    private _virCanvas: any\n    private getVitualCanvas() {\n        if (!this._virCanvas) {\n            this._virCanvas = document.createElement(\"canvas\");\n        }\n        return this._virCanvas\n    }\n    public screenShots(x: number, y: number, width: number, height: number, endWidth = NaN, endHeight = NaN, displayObject?: vf.DisplayObject): vf.Texture {\n        const newCanvas = this.getVitualCanvas();\n\n        const ctx: any = newCanvas.getContext(\"2d\");\n        const canvas = this.app.renderer.extract.canvas(displayObject || this.container);\n        const w = isNaN(endWidth) ? width : endWidth;\n        const h = isNaN(endHeight) ? height : endHeight;\n        ctx.clearRect(0, 0, newCanvas.width, newCanvas.height);\n        newCanvas.width = w;\n        newCanvas.height = h;\n        ctx.drawImage(canvas, x, y, width, height, 0, 0, w, h)\n\n        const dataURL = newCanvas.toDataURL(\"image/png\", 1.0);\n\n        return vf.Texture.from(dataURL);\n\n    }\n}","class Ticker extends vf.Ticker {\n    public constructor(){\n        super();\n        \n    }\n\n    public start(){\n        super.start();\n        this.currentTickerTime = performance.now();\n    }\n\n    public currentTickerTime = performance.now();\n\n    public update(currentTime: number){\n        if (currentTime === void 0) { currentTime = performance.now(); }\n        if(currentTime - (this as any)._lastFrame >= (this as any)._minElapsedMS){\n            this.currentTickerTime += (currentTime - (this as any).lastTime);\n        }\n        super.update(currentTime);\n    }\n\n    /**\n     * 时间穿越， 单位ms\n     * @param duration \n     */\n    public timeTravel(duration: number){\n        // let deltaTime = (this as any)._minElapsedMS;  //帧间隔\n        let deltaTime = 50;  //模拟穿越时，帧间隔使用50能最大化减少误差 by ziye+\n        // deltaTime = parseFloat(deltaTime.toFixed(6));\n        while(duration > 0){\n            duration -= deltaTime;\n            //暂时去掉这句，尽量往后穿越一点，避免Tween跑不完的问题\n            // if(duration < 0){\n            //     deltaTime += duration;\n            // }\n            \n            this.currentTickerTime += deltaTime;\n            if(duration < 0){\n                this.currentTickerTime += duration;  //时间用真实的穿越时间，执行多走一点，保证穿越效果\n            }\n            //分别跑vf.gui.ticker 和vf.ticker\n            for(let i = 0; i < 2; ++i){\n                const _target = (i === 0 ? this : vf.Ticker.shared);\n                const head = (_target as any)._head;\n                let listener = head.next;\n                while (listener)\n                {\n                    _target.deltaMS = deltaTime;\n                    listener = listener.emit(deltaTime * vf.settings.TARGET_FPMS);\n                }\n            }\n        }\n    }\n}\n\nexport const TickerShared = new Ticker();\nTickerShared.autoStart = false;\nTickerShared.maxFPS = 30;\n\n\n","\nimport { debug } from \"../../utils/Utils\";\nimport { DisplayObject } from \"../DisplayObject\";\n\nexport class HitArea implements Lifecycle {\n    private _type: 'rect' | 'ellipse' = \"rect\";\n    private _x = NaN;\n    private _y = NaN;\n    private _width = NaN;\n    private _height = NaN;\n\n    private _sprite: any;\n    private _displayObj: DisplayObject;\n    private _drawShape?: vf.Graphics;\n\n    /**\n     * 构造函数\n     */\n    public constructor(target: DisplayObject) {\n        this._displayObj = target;\n        target.plugs.set(HitArea.key, this);\n    }\n\n    public static key = \"HitArea\";\n\n    public get type() {\n        return this._type;\n    }\n    public set type(value) {\n        if (this._type === value) {\n            return;\n        }\n        this._type = value;\n        this._displayObj.invalidateDisplayList();\n    }\n\n    public get x() {\n        return this._x;\n    }\n    public set x(value) {\n        if (this._x === value) {\n            return;\n        }\n        this._x = value;\n        this._displayObj.invalidateDisplayList();\n    }\n    public get y() {\n        return this._y;\n    }\n    public set y(value) {\n        if (this._y === value) {\n            return;\n        }\n        this._y = value;\n        this._displayObj.invalidateDisplayList();\n    }\n    public get width() {\n        return this._width;\n    }\n    public set width(value) {\n        if (this._width === value) {\n            return;\n        }\n        this._width = value;\n        this._displayObj.invalidateDisplayList();\n    }\n    public get height() {\n        return this._height;\n    }\n    public set height(value) {\n        if (this._height === value) {\n            return;\n        }\n        this._height = value;\n        this._displayObj.invalidateDisplayList();\n    }\n\n    public updataHitArea() {\n        if (this._displayObj && this._displayObj.container) {\n            this._displayObj.container.hitArea = this.getHitArea();\n\n            if (debug) {\n                const { _x, _y, _width, _height } = this;\n                const x = isNaN(_x) ? 0 : _x;\n                const y = isNaN(_y) ? 0 : _y;\n                const width = isNaN(_width) ? this._displayObj.width : _width;\n                const height = isNaN(_height) ? this._displayObj.height : _height;\n                const halfWidth = width >> 1;\n                const halfHeight = height >> 1;\n                !this._drawShape && (this._drawShape = new vf.Graphics());\n                this._drawShape.clear();\n                this._drawShape.lineStyle(1, 0x00ffff, 1);\n                this._drawShape.beginFill(0xff0000, 0.5);\n                switch (this.type) {\n                    case \"rect\":\n                        this._drawShape.drawRect(x, y, width, height);\n                        break;\n                    case \"ellipse\":\n                        this._drawShape.drawEllipse(x + halfWidth, y + halfHeight, halfWidth, halfHeight);\n                        break;\n                }\n                this._drawShape.endFill();\n                !this._drawShape.parent && this._displayObj.container.addChild(this._drawShape);\n            }\n        }\n    }\n\n    private getHitArea() {\n        const { _x, _y, _width, _height } = this;\n\n        const x = isNaN(_x) ? 0 : _x;\n        const y = isNaN(_y) ? 0 : _y;\n        const width = isNaN(_width) ? this._displayObj.width : _width;\n        const height = isNaN(_height) ? this._displayObj.height : _height;\n        const halfWidth = width >> 1;\n        const halfHeight = height >> 1;\n        switch (this.type) {\n            case \"rect\":\n                this._sprite = new vf.Rectangle(x, y, width, height);\n                break;\n            case \"ellipse\":\n                this._sprite = new vf.Ellipse(x + halfWidth, y + halfHeight, halfWidth, halfHeight);\n                break;\n        }\n        return this._sprite;\n    }\n\n\n    load() {\n        //\n    }\n\n    public release() {\n        this._type = \"rect\";\n        this._x = NaN;\n        this._y = NaN;\n        this._width = NaN;\n        this._height = NaN;\n        this._sprite = undefined;\n        this._displayObj = undefined as any;\n\n        if (this._drawShape) {\n            if (this._drawShape.parent) {\n                this._drawShape.parent.removeChild(this._drawShape);\n            }\n            this._drawShape.destroy();\n            this._drawShape = undefined;\n        }\n    }\n}","interface TextureFillParamType{\n    canvas?: HTMLCanvasElement;\n    context?: CanvasRenderingContext2D;\n    texture?: vf.Texture;\n    width: number;\n    height: number;\n    anchorX: number;\n    anchorY: number;\n    style: {\n        fillColor: number[] | number[][];\n        fillGradientStops: number[];\n        fillGradientType: 0 | 1;\n    };\n}\n/**\n * 设置渐变\n * @param type \n * @param stops \n * @param color \n * @returns \n */\nexport function updateTextureFill(_display: vf.Graphics, fillParam: TextureFillParamType) {\n\n    const display = fillParam || {\n        style:{}\n    } as TextureFillParamType;\n\n    // if (fillParam === undefined) {\n    //     const ds = (_display as any) as TextureFillParamType;\n    //     display.canvas = ds.canvas;\n    //     display.context = ds.context;\n    //     display.texture = ds.texture;\n    //     display.width = ds.width;\n    //     display.height = ds.height;\n    //     display.anchorX = ds.anchorX;\n    //     display.anchorY = ds.anchorY;\n    //     display.style.fillColor = ds.style.fillColor;\n    //     display.style.fillGradientStopsr = ds.style.fillGradientStopsr || [];\n    //     display.style.fillGradientType = ds.style.fillGradientType;\n    // }\n\n    if (display.canvas === undefined || display.context === undefined) {\n        return undefined;\n    }\n\n    const fillColor = display.style.fillColor;\n\n    if (fillColor && !Array.isArray(fillColor[0])) {\n        return undefined; // 单色，无需渐变\n    }\n    if (typeof fillColor === 'number') {\n        return undefined; // 写法有错误的为了兼容，单色，无需渐变\n    }\n\n    const fill: string[] = [];\n    const fillGradientStops = display.style.fillGradientStops.slice();\n\n    fillColor.forEach((item: any) => {\n        fill.push(`rgba(${item[0]}, ${item[1]}, ${item[2]}, ${item[3]})`);\n    });\n\n    // const resolution = display.stage?.app.renderer.resolution || 1;\n    const width = Math.ceil(display.width);\n    const height = Math.ceil(display.height);\n    //display.context.scale(2, 2);\n    display.canvas.width = width;\n    display.canvas.height = height;\n    display.context.clearRect(0, 0, width, height);\n\n    // 不设置stops，则平均分布颜色 ，值为0.25, 0.5 and 0.75\n    if (!fillGradientStops.length) {\n        const lengthPlus1 = fill.length + 1;\n\n        for (let i = 1; i < lengthPlus1; ++i) {\n            fillGradientStops.push(i / lengthPlus1);\n        }\n    }\n\n    let gradient: string[] | CanvasGradient;\n\n    if (display.style.fillGradientType === vf.TEXT_GRADIENT.LINEAR_VERTICAL) {\n        gradient = display.context.createLinearGradient(width / 2, 0, width / 2, height);\n\n        for (let i = 0; i < fill.length; i++) {\n            let lineStop = 0;\n\n            if (typeof fillGradientStops[i] === 'number') {\n                lineStop = fillGradientStops[i];\n            }\n            else {\n                lineStop = i / fill.length;\n            }\n\n            lineStop = Math.min(lineStop, 1);\n            gradient.addColorStop(lineStop, fill[i]);\n        }\n    }\n    else {\n        gradient = display.context.createLinearGradient(0, height / 2, width, height / 2);\n\n        const totalIterations = fill.length + 1;\n        let currentIteration = 1;\n\n        for (let i = 0; i < fill.length; i++) {\n            let stop: number;\n\n            if (typeof fillGradientStops[i] === 'number') {\n                stop = fillGradientStops[i];\n            }\n            else {\n                stop = currentIteration / totalIterations;\n            }\n            gradient.addColorStop(Math.min(stop, 1), fill[i]);\n            currentIteration++;\n        }\n    }\n\n    display.context.fillStyle = gradient;\n    display.context.fillRect(0, 0, width, height);\n\n    display.texture?.update();\n    const matrix = new vf.Matrix();\n    matrix.tx = -width * display.anchorX;\n    matrix.ty = -height * display.anchorY;\n    _display.beginTextureFill({ texture: display.texture, matrix });\n    \n    //display.container.addChild(new vf.Sprite(display.texture));\n    return display;\n}\n\n","import { DisplayObject } from \"../DisplayObject\";\nimport { DragEvent, DragDropController, InteractionEvent, ComponentEvent } from \"../../interaction/Index\";\nimport { TouchMouseEventEnum } from \"../../interaction/TouchMouseEventEnum\";\nimport { DisplayObjectAbstract } from \"../DisplayObjectAbstract\";\nimport { Stage } from \"../Stage\";\nimport { getDisplayObject, debug, toLocal, toWorldTransform, toLoacalTransform } from \"../../utils/Utils\";\nimport { SyncManager } from \"../../interaction/SyncManager\";\n\n/**\n *  组件的拖拽操作\n * \n */\nexport class UIBaseDrag implements Lifecycle {\n    /**\n     * 构造函数\n     */\n    public constructor(target: DisplayObject) {\n        this.target = target;\n        target.plugs.set(UIBaseDrag.key, this);\n        target.dragStopPropagation = true;\n    }\n\n    public static key = \"UIBaseDrag\";\n\n    private target: DisplayObject | undefined;\n    public $targetParent: DisplayObject | Stage | undefined;\n    private oldInteractiveChildren = true;\n    /** \n     * 可拖动初始化\n     *  @default\n     */\n    private dragInitialized = false;\n    /** \n     * 可被掉落初始化\n     * @default\n    */\n    private dropInitialized = false;\n    /** \n     * 拖动控制类 \n     */\n    private drag: DragEvent | undefined;\n    /**\n     * 临时属性，为了解决同步时的动作补齐\n     * 0 没有操作\n     * 1 开始拖动\n     * 2 拖动中\n     * 3 拖动结束\n     * 4 拖动到目标\n     */\n    private _dragState: 0 | 1 | 2 | 3 | 4 = 0;\n    /** \n     * 位置 \n     * \n     */\n    private _dragPosition = new vf.Point();\n    /**\n     * 掉落容器的位置\n     */\n    private _dropPosition = new vf.Point();\n    /**\n     * 开始的偏移量\n     */\n    private _startOffset = new vf.Point(0, 0);\n    /** \n     * 是否拖动中\n     * @default\n     */\n    public dragging = false;\n    /** \n     * 当前拖动组件的事件ID，用于处理DragDropController中多组件的选定 \n     */\n    public get dragDropEventId(): number | undefined {\n        if (this.target) {\n            return this.target.attach.dragDropEventId as number;\n        }\n    }\n\n    /**\n     * 是否开启拖动\n     * @default false\n     */\n    public set draggable(value: boolean) {\n        if (value)\n            this.initDraggable();\n        else\n            this.clearDraggable();\n    }\n\n    /**\n     * 是否碰撞检测\n     */\n    public collision = false;\n\n    /**\n     * 是否设置边界\n     * @default false\n     */\n    public dragBoundary = false;\n    /**\n     * 是否启用回弹，\b在移动到非接收方时，回弹到原始位置\n     */\n    public dragBounces = false;\n    /**\n     * 拖拽时的鼠标状态\n     */\n    public dragMoveCursor = 'pointer';\n\n    /**\n     * 限制拖动抽,XY,X抽或Y抽\n     */\n    private _dragRestrictAxis?: \"x\" | \"y\";\n    public get dragRestrictAxis() {\n        return this._dragRestrictAxis;\n    }\n    public set dragRestrictAxis(value) {\n        this._dragRestrictAxis = value;\n        if (this.drag) {\n            this.drag.dragRestrictAxis = this._dragRestrictAxis;\n        }\n    }\n\n    /** \n     * 拖动分组\n     */\n    public get dragGroup(): string {\n        if (this.target) {\n            return this.target.attach.dragGroup as string;\n        }\n        return \"\";\n    }\n    public set dragGroup(value: string) {\n        if (this.target)\n            this.target.attach.dragGroup = value;\n    }\n\n\n    /**\n     * 拖动时，物体临时的存放容器，设置后，请注意事件流\n     */\n    private _dragContainer: DisplayObjectAbstract | undefined;\n    public get dragContainer() {\n        return this._dragContainer;\n    }\n    public set dragContainer(value) {\n        this._dragContainer = getDisplayObject(value, this.target);\n    }\n\n    /**\n     * 是否开启拖动掉落接收\n     */\n    public set droppable(value: boolean | undefined) {\n        if (value)\n            this.initDroppable();\n        else\n            this.clearDroppable();\n    }\n\n    /**\n     * 接收掉落的新容器\n     */\n    private _droppableReparent: DisplayObject | undefined;\n    public get droppableReparent() {\n        return this._droppableReparent;\n    }\n    public set droppableReparent(value) {\n        this._droppableReparent = getDisplayObject(value, this.target);\n    }\n    /**\n     * 接收拖动掉落的分组名\n     */\n    private _dropGroup = '';\n    public set dropGroup(value: string) {\n        this._dropGroup = value;\n        if (this.target) {\n            DragDropController.addDropTarget(value, this.target);\n        }\n    }\n\n    public get dropGroup() {\n        return this._dropGroup;\n    }\n\n    protected clearDraggable() {\n        if (this.dragInitialized) {\n            this.dragInitialized = false;\n            if (this.drag) {\n                this.drag.stopEvent();\n            }\n        }\n\n        if (this.target) {\n            this.target.interactiveChildren = this.oldInteractiveChildren;\n            DragDropController.remove(this.target);\n        }\n        this.dragging = false;\n        this._dragState = 0;\n    }\n\n    private oldWorldTransform = new vf.Matrix();\n    private oldLocalTransform = new vf.Matrix();\n\n    protected initDraggable() {\n        if (this.target == undefined) {\n            return;\n        }\n        if (!this.dragInitialized) {\n\n            this.dragInitialized = true;\n            this._dragPosition.set(0, 0);\n\n            this.drag = new DragEvent(this.target);\n            this.drag.dragRestrictAxis = this._dragRestrictAxis;\n\n            this.drag.onDragPress = (e: InteractionEvent, isPress: boolean) => {\n                if (this.target == undefined) {\n                    return;\n                }\n                const target = this.target;\n                if (target.stage === undefined) {\n                    return;\n                }\n\n                if (isPress) {\n                    target.emit(ComponentEvent.DRAG_DOWN, target, e);\n                } else {\n                    target.emit(ComponentEvent.DRAG_UP, target, e);\n                }\n            }\n\n            this.drag.onDragHover = (e: InteractionEvent, isHover: boolean) => {\n                if (this.target == undefined) {\n                    return;\n                }\n                const target = this.target;\n                target.emit(ComponentEvent.DRAG_HOVER, target, e, isHover);\n                if (isHover) {\n                    target.emit(ComponentEvent.DRAG_MOUSEENTER, target, e);\n                }\n                else {\n                    target.emit(ComponentEvent.DRAG_MOUSELEAVE, target, e);\n                }\n            }\n\n            this.drag.onDragStart = (e: InteractionEvent) => {\n                if (this.target == undefined) {\n                    return;\n                }\n\n                this._dragState = 1;\n                const target = this.target;\n                this.$targetParent = target.parent;\n                this.oldInteractiveChildren = target.interactiveChildren;\n\n                if (this._dragContainer == undefined) {\n                    this._dragContainer = this.target.stage;\n                }\n                const added = DragDropController.add(target, e);\n                if (!this.dragging && added) {\n                    target.emit(ComponentEvent.DRAG_START_BEFORE, target, e);\n                    this.dragging = true;\n                    target.interactive = false;\n                    target.interactiveChildren = false;\n\n                    this.oldWorldTransform = toWorldTransform(target).clone();\n                    this.oldLocalTransform = toLoacalTransform(target).clone();\n\n                    if (this._dragContainer) {\n                        let c: DisplayObjectAbstract | undefined;\n                        if (this._dragContainer instanceof DisplayObjectAbstract) {\n                            c = this._dragContainer;\n                        }\n                        if (c && target.parent) {\n                            c.addChild(target);\n                            \n                            target.scaleX = this.oldWorldTransform.a * (1/c.container.scale.x) / (target.container.transform as any)._cx;// this.oldWorldTransform.a;\n                            target.scaleY = this.oldWorldTransform.d * (1/c.container.scale.y) / (target.container.transform as any)._sy;// this.oldWorldTransform.d ;\n                            \n                            const local = toLocal(new vf.Point(this.oldWorldTransform.tx , this.oldWorldTransform.ty), c);\n                            target.setPosition(local.x + ((target.container.transform.pivot.x * this.oldWorldTransform.a) + (target.container.transform.pivot.y * this.oldWorldTransform.c)), local.y + ((target.container.transform.pivot.x * this.oldWorldTransform.b) + (target.container.transform.pivot.y * this.oldWorldTransform.d)));  //by ziye+\n                            // target.setPosition((local.x + (target.pivotX * target.scaleX) - (target.width * target._anchorX)), (local.y + (target.pivotY * target.scaleY) - (target.height * target._anchorY)));\n                        }\n                    }\n\n                    if (debug) { //debug 模式下，日志信息\n                        const stage = target.stage;\n                        if (stage) {\n                            stage.sendToPlayer({\n                                code: ComponentEvent.DRAG_START,\n                                level: 'info', target: target,\n                                data: [target.parent, target.x, target.y],\n                                action: e.type,\n                                message: 'parent,start,offset pos',\n                            });\n                        }\n                    }\n\n                    this._startOffset.set(target.x, target.y);\n                    target.emit(ComponentEvent.DRAG_START, target, e);\n                }\n            };\n\n\n            this.drag.onDragMove = (e: InteractionEvent, offset: vf.Point) => {\n                if (this.target == undefined) {\n                    return;\n                }\n                const target = this.target;\n\n                if (target.stage && target.stage.app) {\n                    const interaction = (target.stage.app.renderer as vf.Renderer).plugins.interaction;\n                    (interaction as any).cursor = this.dragMoveCursor;\n                }\n                if (this.dragging && target.stage) {\n                    const x = this._startOffset.x + (offset.x / target.stage.scaleX);\n                    const y = this._startOffset.y + (offset.y / target.stage.scaleY);\n                    const dragPosition = this._dragPosition;\n                    if (this.dragRestrictAxis == \"x\") {\n                        dragPosition.set(x, target.y);\n                    } else if (this.dragRestrictAxis == \"y\") {\n                        dragPosition.set(target.x, y);\n                    } else {\n                        this._dragPosition.set(x, y);\n                    }\n                    if (this.dragBoundary && target.parent) {\n                        const {pivotX, pivotY, scaleX, scaleY, _anchorX, _anchorY, width, height, parent} = target;\n                        dragPosition.x = Math.max(pivotX * scaleX + width * _anchorX * scaleX, dragPosition.x);\n                        dragPosition.x = Math.min(dragPosition.x, parent.width - (width - pivotX) * scaleX + width * _anchorX * scaleX);\n                        dragPosition.y = Math.max(pivotY * scaleY + height * _anchorY * scaleY, dragPosition.y);\n                        dragPosition.y = Math.min(dragPosition.y, parent.height - (height - pivotY) * scaleY + height * _anchorY * scaleY);\n                    }\n                    if (debug) {//debug 模式下，日志信息\n                        const stage = target.stage;\n                        if (stage) {\n                            stage.sendToPlayer({\n                                code: ComponentEvent.DRAG_MOVE,\n                                level: 'info',\n                                target: target,\n                                data: [target.parent, dragPosition.x, dragPosition.y],\n                                action: e.type,\n                                message: 'parent,move pos'\n                            });\n                        }\n\n                    }\n                    this._dragState = 2;\n                    target.setPosition(dragPosition.x, dragPosition.y);\n                    target.emit(ComponentEvent.DRAG_MOVE, target, e);\n                }\n\n            };\n\n            this.drag.onDragEnd = (e: InteractionEvent) => {\n                if (this.dragging && this.collision) {\n                    this.checkCollision(e);\n                }\n\n                if (this.dragging) {\n                    this.dragging = false;\n                    //如果没有可被放置掉落的容器，0秒后返回原容器\n                    // TickerShared.addOnce(() => {\n                    if (this.target == undefined) {\n                        return;\n                    }\n                    //dragBounces\n                    const target = this.target;\n                    const parent = this.$targetParent;\n                    target.interactive = true;\n                    target.interactiveChildren = this.oldInteractiveChildren;\n                    const item = DragDropController.getItem(target);\n                    const dragPosition = this._dragPosition;\n                    target.emit(ComponentEvent.DRAG_END_BEFORE, target, e);\n                    if (item && parent) {\n                        if (target.parent !== parent && target.parent) {\n                            parent.container.toLocal(target.container.position, target.container.parent, dragPosition);\n                            parent.addChild(target);\n                            target.x = dragPosition.x;\n                            target.y = dragPosition.y;\n                        }\n                        target.scaleX = this.oldLocalTransform.a  / (target.container.transform as any)._cx;\n                        target.scaleY = this.oldLocalTransform.d  / (target.container.transform as any)._sy;\n\n                        if (this.dragBounces) {\n                            // target.x = this.oldLocalTransform.tx;\n                            // target.y = this.oldLocalTransform.ty;\n\n                            target.setPosition(this.oldLocalTransform.tx + ((target.container.transform.pivot.x * this.oldLocalTransform.a) + (target.container.transform.pivot.y * this.oldLocalTransform.c)), this.oldLocalTransform.ty + ((target.container.transform.pivot.x * this.oldLocalTransform.b) + (target.container.transform.pivot.y * this.oldLocalTransform.d)));  //by ziye+\n                        }\n                    }\n                    if (debug) {//debug 模式下，日志信息\n                        const stage = target.stage;\n                        if (stage) {\n                            stage.sendToPlayer({\n                                code: ComponentEvent.DRAG_END,\n                                level: 'info',\n                                target: target,\n                                data: [target.parent, target.x, target.y],\n                                action: e.type,\n                                message: 'parent,end pos'\n                            });\n                        }\n\n                    }\n                    if (target.stage && target.stage.app) {\n                        target.stage.app.view.style.cursor = target.style.cursor;\n                    }\n                    this._dragState = 3;\n                    e.data.tiltX = dragPosition.x;\n                    e.data.tiltY = dragPosition.y;\n                    target.emit(ComponentEvent.DRAG_END, target, e);\n                    // }, this)\n                }\n\n\n            };\n        }\n    }\n\n    protected checkCollision(e: InteractionEvent) {\n        if (!this.target) return;\n        const dragTarget = this.target;\n        const dropTargets = DragDropController.getDropTargets(this.dragGroup);\n        if (dropTargets.length == 0) return;\n\n        const dragTargetRect = new vf.Rectangle();\n        let offset = 0;\n        if ((dragTarget as any).anchorX !== undefined) {\n            offset = dragTarget.container.width * (dragTarget as any).anchorX - dragTarget.pivotX * dragTarget.scaleX;\n        }\n        dragTargetRect.x = dragTarget.x - offset;\n        if ((dragTarget as any).anchorY !== undefined) {\n            offset = dragTarget.container.height * (dragTarget as any).anchorY - dragTarget.pivotY * dragTarget.scaleY;\n        }\n        dragTargetRect.y = dragTarget.y - offset;\n        dragTargetRect.width = dragTarget.container.width;\n        dragTargetRect.height = dragTarget.container.height;\n\n\n        for (let i = 0; i < dropTargets.length; ++i) {\n            const dropTarget = dropTargets[i];\n            dragTarget.parent && dragTarget.parent.container.toLocal(dropTarget.container.position, dropTarget.container.parent, this._dropPosition);\n            const dropTargetRect = new vf.Rectangle();\n            let offset = 0;\n            if ((dropTarget as any).anchorX !== undefined) {\n                offset = dropTarget.width * dropTarget.scaleX * (dropTarget as any).anchorX - dropTarget.pivotX * dropTarget.scaleX;\n            }\n            dropTargetRect.x = this._dropPosition.x - offset;\n            if ((dropTarget as any).anchorY !== undefined) {\n                offset = dropTarget.height * dropTarget.scaleY * (dropTarget as any).anchorY - dropTarget.pivotY * dropTarget.scaleY;\n            }\n            dropTargetRect.y = this._dropPosition.y - offset;\n            dropTargetRect.width = dropTarget.width * dropTarget.scaleX;\n            dropTargetRect.height = dropTarget.height * dropTarget.scaleY;\n            if (this.checkBump(dragTargetRect, dropTargetRect)) {\n                //碰撞检测通过，掉落\n                dropTarget.dragOption.onDrop(e);\n                break;\n            }\n        }\n    }\n\n    protected checkBump(origin: vf.Rectangle, target: vf.Rectangle): boolean {\n        if (\n            origin.y > target.y + target.height || // 在目标下方\n            origin.y + origin.height < target.y || // 在目标上方\n            origin.x > target.x + target.width || // 在目标右边\n            origin.x + origin.width < target.x // 在目标左边\n        ) {\n            return false\n        } else {\n            console.log('dragAndDrop-----collision----true')\n            return true\n        }\n    }\n\n    protected clearDroppable() {\n        if (this.target == undefined) {\n            return;\n        }\n        const target = this.target;\n        if (this.dropInitialized) {\n            this.dropInitialized = false;\n            target.container.off(TouchMouseEventEnum.mouseup, this.onDrop, this);\n            target.container.off(TouchMouseEventEnum.touchend, this.onDrop, this);\n        }\n\n        DragDropController.removeDropTarget(target); // by ziye+\n    }\n\n    protected initDroppable() {\n        if (this.target == undefined) {\n            return;\n        }\n        const target = this.target;\n        if (!this.dropInitialized) {\n            this.dropInitialized = true;\n            const container = target.container;\n            //self = this;\n            container.interactive = true;\n            container.on(TouchMouseEventEnum.mouseup, this.onDrop, this);\n            container.on(TouchMouseEventEnum.touchend, this.onDrop, this);\n\n        }\n    }\n\n    public onDrop(e: InteractionEvent) {\n        if (this.target == undefined) {\n            return;\n        }\n        if (this.target.stage && this.target.stage.syncInteractiveFlag) {\n            (SyncManager.getInstance(this.target.stage) as SyncManager).collectEvent(e, this.target);\n        }\n\n        const target = this.target;\n        const item = DragDropController.getEventItem(e, this.dropGroup);\n        if (item && item.dragOption.dragging) {\n            item.dragOption.dragging = false;\n            item.interactive = true;\n            const dragPosition = this._dragPosition;\n            const parent = item.dragOption.droppableReparent !== undefined ? item.dragOption.droppableReparent : target;\n            if (parent) {\n                parent.container.toLocal(item.container.position, item.container.parent, dragPosition);\n                item.x = dragPosition.x;\n                item.y = dragPosition.y;\n                // item.scaleX = this.oldLocalTransform.a;\n                // item.scaleY = this.oldLocalTransform.d;\n\n                item.scaleX = this.oldLocalTransform.a  / (item.container.transform as any)._cx;\n                item.scaleY = this.oldLocalTransform.d  / (item.container.transform as any)._sy;\n                // debugger\n                \n                if (parent != item.parent) {\n                    parent.addChild(item);\n                    parent.emit(ComponentEvent.DROP_TARGET, parent, item, e);\n                }\n                item.dragOption.$targetParent = parent;\n            }\n            if (debug) {//debug 模式下，日志信息\n                const stage = target.stage;\n                if (stage) {\n                    stage.sendToPlayer({\n                        code: ComponentEvent.DRAG_TARGET,\n                        level: 'info',\n                        target: item,\n                        data: [target.parent, item.x, item.y],\n                        action: e.type,\n                        message: 'drag target,item pos'\n                    });\n                }\n\n            }\n            if (target.stage && target.stage.app) {\n                const interaction = (target.stage.app.renderer as vf.Renderer).plugins.interaction;\n                (interaction as any).cursor = target.style.cursor;\n            }\n            this._dragState = 4;\n            e.data.tiltX = dragPosition.x;\n            e.data.tiltY = dragPosition.y;\n            item.invalidateParentLayout();\n            item.emit(ComponentEvent.DRAG_TARGET, item, e);\n\n        }\n    }\n\n    /**\n     * 同步数据临时的方法\n     */\n    private executeDrop(e: InteractionEvent, parsentPath: string[]) {\n        if (this.target && this.target.stage && parsentPath) {\n            const parent = this.target.stage.getChildByPath(parsentPath);\n            const item = this.target;\n            item.dragOption.dragging = false;\n            item.interactive = true;\n            if (parent) {\n                item.x = this._dragPosition.x;\n                item.y = this._dragPosition.y;\n                if (parent != item.parent) {\n                    parent.addChild(item);\n                    parent.emit(ComponentEvent.DROP_TARGET, parent, item, e);\n                }\n                this.$targetParent = parent as DisplayObject;\n                item.emit(ComponentEvent.DRAG_TARGET, item, e);\n            }\n        }\n    }\n\n    load() {\n        //\n    }\n\n    release() {\n\n        this.clearDraggable();\n        this.clearDroppable();\n\n        if (this.target) {\n            this.target.plugs.delete(UIBaseDrag.key);\n            this.target = undefined;\n            this.$targetParent = undefined;\n            this.dragContainer = undefined;\n        }\n    }\n\n}","import { DisplayObject } from \"../DisplayObject\";\nimport { ClickEvent } from \"../../interaction/Index\";\n\n/**\n *  组件的单击操作\n * \n */\nexport class UIClick implements Lifecycle {\n    /**\n     * 构造函数\n     */\n    public constructor(target: DisplayObject) {\n        this._target = target;\n        this._target.plugs.set(UIClick.key, this);\n        this._clickEvent = new ClickEvent(target,true);\n    }\n\n    public static key = \"UIClick\";\n    private _target: DisplayObject | undefined;\n    private _clickEvent: ClickEvent;\n\n    public set double(value: boolean){\n        this._clickEvent.double = value;\n    }\n\n    public get double(){\n        return this._clickEvent.double;\n    }\n\n    load() {\n        //\n    }\n\n    release() {\n\n        this._clickEvent.remove();\n        if (this._target) {\n            this._target.plugs.delete(UIClick.key);\n            this._target = undefined;\n        }\n    }\n\n}","/**\n * 需求分析：\n * 1.皮肤可以自定义，包括背景、每个按钮、关闭按钮\n * 2.按钮数量可以自定义\n * 3.可以没有关闭按钮\n * 4.同一个弹框对象可以修改属性，包括title、content、button\n * 5.按钮的回调\n * 6.持续时间，到期后自动关闭\n */\nimport { Label } from \"./Label\";\nimport { DisplayObject } from \"../core/DisplayObject\";\nimport { Image } from \"./Image\";\nimport { Rect } from \"./Rect\";\nimport { Scheduler } from \"../core/Scheduler\";\nimport { TouchMouseEvent, InteractionEvent } from \"../interaction/Index\";\nimport { Container } from \"./Container\";\nimport { DisplayLayoutAbstract } from \"../core/DisplayLayoutAbstract\";\n\nexport interface ButtonInfo {\n    btnNormal?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    btnHover?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    btnPressed?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    text?: string\n}\n\nexport class Alert extends DisplayObject {\n\n    public static show(container: DisplayLayoutAbstract, content: string, textAlign: string = 'center', duration: number = 2000, icon?: number | string | vf.Texture, title?: string, buttons?: string[], x?: number, y?: number) {\n        var alert: Alert = new Alert();\n        alert.title = title || '';\n        alert.content = content || '';\n        alert.buttons = buttons || [];\n        alert.duration = duration || 0;\n        alert.icon = icon;\n        alert.autoShow = true;\n        alert.textAlign = textAlign;\n        alert.x = x || (container.width / 2);\n        alert.y = y || (container.height / 2);\n        container.addChild(alert);\n        return alert;\n    }\n\n    public constructor() {\n        super();\n        this.visible = false;\n        this.scaleX = this.scaleY = 0.01;\n        this.width = 300;\n        this.height = 100;\n    }\n\n    /**\n     * 弹框标题\n     */\n    private _title = \"\";\n    public set title(value: string) {\n        this._title = value;\n        this.invalidateProperties();\n    }\n    public get title() {\n        return this._title;\n    }\n\n    /**\n     * 弹框内容\n     */\n    private _content = \"\";\n    public set content(value: string) {\n        this._content = value;\n        this.invalidateProperties();\n    }\n    public get content() {\n        return this._content;\n    }\n\n    /**\n     * 按钮内容\n     */\n    private _buttons: string[] = [];\n    public set buttons(value: string[]) {\n        this._buttons = value;\n        this.invalidateProperties();\n    }\n    public get buttons() {\n        return this._buttons;\n    }\n\n    private _imgButtons: ButtonInfo[] = [];\n    public set imgButtons(value: ButtonInfo[]) {\n        this._imgButtons = value;\n        this.invalidateProperties();\n    }\n    public get imgButtons() {\n        return this._imgButtons;\n    }\n\n    /**\n     * 自动弹出\n     */\n    public autoShow: boolean = false;\n\n    /**\n     * 自动释放\n     */\n    public autoRelease: boolean = false;\n\n    /**\n     * 持续时间\n     */\n    public duration = 0;\n\n    /**\n     * 内容对齐方式  //left  center\n     */\n    public textAlign = 'left';\n\n    /**\n     * 按钮默认宽高\n     */\n    public buttonWidth = 80;\n    public buttonHeight = 30;\n\n    /**\n     * 背景遮罩颜色透明度\n     */\n    public maskColor = 0;\n    public maskOpacity = 0.1;\n\n    /**\n     * 皮肤样式\n     */\n    public icon?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public background?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public btnNormal?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public btnHover?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public btnPressed?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public backgroundColor = 0xeeeeee;\n    public titleColor = 0;\n    public contentColor = 0x333333;\n    public btnColors: number[] = [0x1057d5, 0xdddddd, 0xd10043, 0xdddddd];\n    public btnTextColors: number[] = [0xeeeeee, 0x333333, 0xeeeeee, 0x333333];\n\n    /**\n     * 显示状态\n     */\n    private _isShowing = false;\n\n    /**\n     * 组件显示对象 \n     */\n    private _bgDisplay?: Image | Rect;\n    private _titleDisplay?: Label;\n    private _lineDisplay?: Rect;\n    private _contentDisplay?: Label;\n    private _iconDisplay?: Image;\n    private _buttonsDisplays: any[] = [];\n\n\n    protected commitProperties(): void {\n        this.initDisplay();\n        if (this.autoShow) {\n            this.show();\n        }\n    }\n\n    /**\n     * 初始化显示\n     */\n    private initDisplay() {\n        //mask\n        let mask = new Rect();\n        mask.color = this.maskColor;\n        mask.alpha = this.maskOpacity;\n        mask.width = mask.height = 2000;\n        mask.anchorX = mask.anchorY = 0.5;\n        mask.interactabled = true;\n        mask.on(TouchMouseEvent.onPress, () => {\n            //do nothing\n        });\n        this.addChild(mask);\n\n        //bg\n        if (this.background !== undefined && this.background !== '') {\n            this._bgDisplay = new Image();\n            this._bgDisplay.src = this.background;\n        } else {\n            this._bgDisplay = new Rect();\n            this._bgDisplay.color = this.backgroundColor;\n            this._bgDisplay.radius = 10; //圆角\n\n        }\n        this._bgDisplay.anchorX = 0.5;\n        this._bgDisplay.anchorY = 0.5;\n        this.addChild(this._bgDisplay);\n\n        //icon\n        if (this.icon !== undefined && this.icon !== '') {\n            this._iconDisplay = new Image();\n            this._iconDisplay.src = this.icon;\n            this._iconDisplay.anchorX = this._iconDisplay.anchorY = 0.5;\n            this._iconDisplay.width = 50;\n            this._iconDisplay.height = 50;\n            this.addChild(this._iconDisplay);\n        }\n\n        if (this.title) {\n            this._titleDisplay = new Label();\n            this._titleDisplay.text = this.title;\n            this.addChild(this._titleDisplay);\n            this._titleDisplay.style.fontSize = 20;\n            this._titleDisplay.color = this.titleColor;\n\n            this._lineDisplay = new Rect();\n            this._lineDisplay.width = this.width - 40;\n            this._lineDisplay.height = 2;\n            this._lineDisplay.color = this.titleColor;\n            this._lineDisplay.anchorY = this._lineDisplay._anchorX = 0.5;\n            this._lineDisplay.alpha = 0.2;\n            this.addChild(this._lineDisplay);\n        }\n\n        if (this.content) {\n            this._contentDisplay = new Label();\n            this._contentDisplay.text = this.content;\n            this._contentDisplay.color = this.contentColor;\n            this._contentDisplay.style.fontSize = 19;\n\n            if (this._iconDisplay) {\n                this._contentDisplay.style.wordWrap = true;\n                this._contentDisplay.style.wordWrapWidth = this.width - 60 - 80;  //有icon时，内容靠右显示\n            }\n            else {\n                this._contentDisplay.style.wordWrap = true;\n                this._contentDisplay.style.wordWrapWidth = this.width - 60;\n            }\n            this.addChild(this._contentDisplay);\n        }\n\n        //buttons\n        if (this.imgButtons.length > 0) {\n            this.imgButtons.forEach((item, index) => {\n                let btnContainer = new Container();\n                this.addChild(btnContainer);\n                let btn = new Image();\n                btn.src = item.btnNormal;\n                btnContainer.addChild(btn);\n                btn.id = index + \"_imgButton\";\n                btn.interactabled = true;\n                btn.anchorY = btn.anchorX = 0.5;\n                btn.width = this.buttonWidth;\n                btn.height = this.buttonHeight;\n                this._buttonsDisplays.push(btn);\n                btn.on(TouchMouseEvent.onHover, this.onHover, this);\n                btn.on(TouchMouseEvent.onPress, this.onPress, this);\n                btn.on(TouchMouseEvent.onClick, this.onClick, this);\n\n                if (item.text) {\n                    let label = new Label();\n                    label.text = item.text;\n                    label.style.fontSize = 20;\n                    label.color = this.btnTextColors[index];\n                    btnContainer.addChild(label);\n\n                    label.pivotX = label.width / 2;\n                    label.pivotY = label.height / 2;\n\n                    if (btn.width < label.width + 20) {\n                        btn.width = label.width + 20;\n                    }\n                }\n                btn.height = 35;\n            })\n        }\n        else if (this.buttons.length > 0) {\n            this.buttons.forEach((item, index) => {\n                let btnContainer = new Container();\n                this.addChild(btnContainer);\n                let btn = null;\n                if (this.btnNormal !== undefined && this.btnNormal !== '') {\n                    btn = new Image();\n                    btn.src = this.btnNormal;\n                    btn.id = index + \"_image\";\n                }\n                else {\n                    btn = new Rect();\n                    if (this.btnColors.length > index) {\n                        btn.color = this.btnColors[index];\n                    }\n                    btn.radius = 5;\n                    btn.lineWidth = 1;\n                    btn.lineColor = 0x888888;\n                    btn.id = index + \"_rect\";\n                }\n                btn.interactabled = true;\n                btn.anchorY = btn.anchorX = 0.5;\n                btnContainer.addChild(btn);\n                this._buttonsDisplays.push(btn);\n                btn.on(TouchMouseEvent.onHover, this.onHover, this);\n                btn.on(TouchMouseEvent.onPress, this.onPress, this);\n                btn.on(TouchMouseEvent.onClick, this.onClick, this);\n\n                let label = new Label();\n                label.text = item;\n                label.style.fontSize = 20;\n                label.color = this.btnTextColors[index];\n                btnContainer.addChild(label);\n                label.pivotX = label.width / 2;\n                label.pivotY = label.height / 2;\n                btn.height = 30;\n                btn.width = label.width + 20;\n            })\n        }\n        this._updateDisplayList()\n    }\n\n    private _updateDisplayList() {\n        //实现布局\n        let _height = 0;  // title\n        if (this._titleDisplay) {\n            _height += 40;\n        }\n        _height += 90;\n        if (this._contentDisplay) {\n            let offsetY = this._contentDisplay.height - 50 > 0 ? this._contentDisplay.height - 50 : 0;\n            _height += offsetY;\n        }\n        if (this._buttonsDisplays.length > 0) {\n            _height += 40;  // buttons\n        }\n        this.height = _height;\n        if (this._bgDisplay) {\n            this._bgDisplay.width = this.width;\n            this._bgDisplay.height = this.height;\n        }\n        let offY = -this.height / 2;\n        let offX = 0;\n        if (this._titleDisplay) {\n            this._titleDisplay.pivotX = this._titleDisplay.width / 2;\n            this._titleDisplay.pivotY = this._titleDisplay.height / 2;\n            this._titleDisplay.x = 0;\n            this._titleDisplay.y = offY + 25;\n            offY += 40;\n            if (this._lineDisplay) {\n                this._lineDisplay.y = offY;\n            }\n        }\n        if (this._iconDisplay) {\n            this._iconDisplay.x = -this.width / 2 + 60;\n            if (this._contentDisplay) {\n                let offsetY = this._contentDisplay.height - 50 > 0 ? this._contentDisplay.height - 50 : 0;\n                this._iconDisplay.y = offY + 45 + offsetY / 2;\n            }\n        }\n        if (this._contentDisplay) {\n            this._contentDisplay.pivotX = this._contentDisplay.width / 2;\n            this._contentDisplay.pivotY = this._contentDisplay.height / 2;\n            let offsetY = this._contentDisplay.height - 50 > 0 ? this._contentDisplay.height - 50 : 0;\n            this._contentDisplay.y = offY + 45 + offsetY / 2;\n            if (this._iconDisplay) {\n                this._contentDisplay.x = -this.width / 2 + 80 + 30 + this._contentDisplay.width / 2;\n            }\n            else {\n                if (this.textAlign == 'left') {\n                    this._contentDisplay.x = -this.width / 2 + 30 + this._contentDisplay.width / 2;\n                }\n                else {\n                    this._contentDisplay.x = 0;\n                }\n            }\n            offY += offsetY;\n        }\n        offY += 90;\n        //计算最宽的button\n        let maxWidth = 0;\n        for (let i = 0; i < this._buttonsDisplays.length; ++i) {\n            let item = this._buttonsDisplays[i];\n            if (item.width > maxWidth) {\n                maxWidth = item.width;\n            }\n        }\n        let btnX = -(this._buttonsDisplays.length * (maxWidth + 20) - 20) / 2;\n\n        for (let i = 0; i < this._buttonsDisplays.length; ++i) {\n            let item = this._buttonsDisplays[i];\n            let btnContainer = item.parent;\n            item.width = maxWidth;\n            btnContainer.x = btnX + maxWidth / 2;\n            btnX += maxWidth + 20;\n            btnContainer.y = offY + item.height / 2;\n        }\n\n        this.scaleX = this.scaleY = 1;\n    }\n\n    /**\n     * 显示弹出框\n     */\n    public show() {\n        if (this._isShowing) return;\n        this.emit('SHOWED', this);\n        this._isShowing = true;\n        this.visible = true;\n        this.scaleX = this.scaleY = 1;\n\n        if (this.duration > 0) {\n            Scheduler.setTimeout(this.duration, () => {\n                this.close();\n            })\n        }\n    }\n\n    /**\n     * 关闭弹出框\n     */\n    public close() {\n        if (!this._isShowing) return;\n        this.emit('CLOSED', this);\n        this._isShowing = false;\n        this.visible = false;\n        if (this.autoRelease) {\n            this.releaseAll();\n        }\n    }\n\n    /**\n     * 释放\n     */\n    public release() {\n        super.release();\n    }\n\n    private onHover(e: InteractionEvent, thisObj: DisplayObject, over: boolean) {\n        let arr = thisObj.id.split('_');\n        let index = parseInt(arr[0]);\n        let type = arr[1];\n        if (over) {\n            thisObj.style.cursor = 'pointer';\n            if (type == 'rect') {\n                (thisObj as any).alpha = 0.9;\n            }\n            else if (type == 'image') {\n                (thisObj as Image).src = this.btnHover;\n            }\n            else {\n                (thisObj as Image).src = this.imgButtons[index].btnHover;\n            }\n        }\n        else {\n            thisObj.style.cursor = '';\n            if (type == 'rect') {\n                (thisObj as any).alpha = 1;\n            }\n            else if (type == 'image') {\n                (thisObj as Image).src = this.btnNormal;\n            }\n            else {\n                (thisObj as Image).src = this.imgButtons[index].btnNormal;\n            }\n        }\n    }\n\n    private onPress(e: InteractionEvent, thisObj: DisplayObject, isPressed: boolean) {\n        let arr = thisObj.id.split('_');\n        let index = parseInt(arr[0]);\n        let type = arr[1];\n        if (isPressed) {\n            if (type == 'rect') {\n                (thisObj as any).alpha = 0.8;\n            }\n            else if (type == 'image') {\n                (thisObj as Image).src = this.btnPressed;\n            }\n            else {\n                (thisObj as Image).src = this.imgButtons[index].btnPressed;\n            }\n        }\n        else {\n            if (type == 'rect') {\n                (thisObj as any).alpha = 1;\n            }\n            else if (type == 'image') {\n                (thisObj as Image).src = this.btnNormal;\n            }\n            else {\n                (thisObj as Image).src = this.imgButtons[index].btnNormal;\n            }\n        }\n    }\n\n    private onClick(e: InteractionEvent, thisObj: DisplayObject) {\n        let arr = thisObj.id.split('_');\n        let buttonIndex = parseInt(arr[0]);\n        this.emit('CLICKBUTTON', this, buttonIndex);\n    }\n}\n","import { updateTextureFill } from '../core/plugs/LineGradient';\nimport { GraphBase } from './private/GraphBase'\n\nexport class Arrow extends GraphBase {\n\n    public constructor() {\n        super();\n    }\n\n    private _angle: number = Math.PI / 6; //长边与其中一边夹角30度\n\n    public drawGraph() {\n        const graphics = this.graphics;\n        graphics.clear();\n        if (this._lineWidth < 0) {\n            console.log(\"属性错误，线宽需要大于0\");\n            return;\n        }\n        graphics.lineStyle(this._lineWidth, this._lineColor, this._lineAlpha, 0.5, false, this.lineType);\n\n\n        if (this.width > 0 && this.height > 0) {\n            //长线\n            const w = this._anchorX ? this.width * this._anchorX : 0;\n            const h = this._anchorY ? this.height * this._anchorY : 0;\n            graphics.moveTo(0 - w, this.height * 0.5 - h);\n            graphics.lineTo(this.width - w, this.height * 0.5 - h);\n\n            // 三角\n            const path = this.getArrowPath();\n            let full = false;\n\n            if (this.color) {\n                graphics.beginFill(this._color, this._fillAlpha);\n                full = true;\n            } else {\n                if(updateTextureFill(this.graphics,this)){ // 按整个箭头的宽高进行填充，并不是三角形箭头部分\n                    full = true;\n                }\n            }\n\n\n            graphics.drawPolygonOne(path, full);\n            graphics.endFill();\n\n\n\n\n        }\n\n\n\n    }\n\n    private getArrowPath(): any {\n        const w = this._anchorX ? this.width * this._anchorX : 0;\n        const h = this._anchorY ? this.height * this._anchorY : 0;\n        const path: vf.Point[] = [];\n        const angle = this._angle;\n        const height = this.height;\n        const width = this.width;\n        const xD = height * 0.5 * Math.tan(Math.PI / 2 - angle);\n        const yD = height * 0.5;\n        const x = width - xD;\n        const point1 = new vf.Point(x - w, 0 - h);\n        const point2 = new vf.Point(width - w, yD - h);\n        const point3 = new vf.Point(x - w, yD * 2 - h);\n        path.push(point1, point2, point3);\n        return path;\n    }\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { IAudioOption } from \"vf.js\";\nimport { getSound, now } from \"../utils/Utils\";\nimport { registrerAudioGroup, unRegistrerAudioGroup, updateAudioGroupStates } from \"../interaction/AudioGroupController\";\n/**\n * 音频组件\n * \n * 准备完成 canplaythrough\n *\n * 播放事件 play\n *\n * 暂停事件 pause\n *\n * 错误事件 error\n *\n * 播放时间改变 timeupdate\n *\n * 播放完成 ended\n * \n * @example let audio = new vf.gui.Audio();\n * \n * \n */\n\nexport enum PlayerStates {\n    init = 'init',// 初始\n    play = 'play', // 播放\n    pause = 'pause',//暂停\n    end = 'end'   //结束\n}\n\nexport class Audio extends DisplayObject {\n\n    private audio?: vf.IAudio;\n    private _id: string;\n    private _src: any;\n\n    private _autoplay = false;\n    private _loop = false;\n    private _playbackRate = 1;\n    private _volume = 1;\n    private _audioUid = \"\"; // IAudio 的唯一id\n    private _playerStates = PlayerStates.init;\n\n\n\n    private stoping: any;\n    public constructor() {\n        super();\n        this._id = now().toString();\n        this._audioUid = this.uuid.toString();\n        this.audioGroup = \"\";\n        vf.utils.deprecation(\"1.0.0\", \"在互动课件环境，Audio组件仅支持最基础的播放、暂停功能。\");\n    }\n\n    public set audioUid(value: string) {\n        this._audioUid = value;\n    }\n\n    private initAudio() {\n        const o: IAudioOption = {\n            autoplay: this._autoplay,\n            loop: this._loop,\n            playbackRate: this._playbackRate,\n            volume: this._volume\n        }\n\n        this.audio = vf.AudioEngine.Ins().createAudio(this._audioUid, this._src, o);\n\n        /**\n        * 需要上报的事件\n        */\n        this.audio.on(\"canplay\", (e: any) => {\n            this.emit(\"canplay\", e);\n        }, this);\n        this.audio.on(\"canplaythrough\", (e: any) => {\n            this.emit(\"canplaythrough\", e)\n        }, this);\n        this.audio.on(\"play\", (e: any) => {\n            this.emit(\"play\", e);\n        }, this);\n        this.audio.on(\"pause\", (e: any) => {\n            this.emit(\"pause\", e);\n        }, this);\n        this.audio.on(\"error\", (e: any) => {\n            this.emit(\"error\", e);\n        }), this;\n        this.audio.on(\"timeupdate\", (e: any, f: number) => {\n            this.emit(\"timeupdate\", e, f)\n        });\n        this.audio.on(\"ended\", (e: any) => {\n            this.emit(\"ended\", e);\n            this.dispose();\n        }, this);\n    }\n\n    //支持的参数们~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    /**\n    * 设置src 支持3种 url base64 arraybuffer;\n    */\n    public set src(value) {\n        const o = getSound(value);\n        if (typeof (o) === \"object\" && o.url) {\n            this._src = o.url\n        } else {\n            this._src = value;\n        }\n        this.audio && this.dispose();\n        this._playerStates = PlayerStates.init;\n        this.invalidateProperties();\n    }\n\n    public get src() {\n        return this._src;\n    }\n\n    public set autoplay(value) {\n        this._autoplay = value;\n    }\n\n    public get autoplay() {\n        return this._autoplay;\n    }\n\n    public set loop(value) {\n        this._loop = value;\n        if (this.audio) {\n            this.audio.loop = this._loop;\n        }\n    }\n\n    public get loop() {\n        if (this.audio) {\n            return this.audio.loop;\n        }\n        return false;\n    }\n\n    public set playbackRate(value) {\n        this._playbackRate = value;\n        if (this.audio) {\n            this.audio.playbackRate = this._playbackRate;\n        }\n    }\n\n    public get playbackRate() {\n        if (this.audio) {\n            return this.audio.playbackRate;\n        }\n        return 0;\n    }\n\n    public set volume(value) {\n        this._volume = value;\n        if (this.audio) {\n            this.audio.volume = this._volume;\n        }\n    }\n    public get volume() {\n        if (this.audio) {\n            return this.audio.volume;\n        }\n        return 0;\n    }\n\n    /*只读的属性们*/\n    public get duration() {\n        if (this.audio) {\n            return this.audio.duration;\n        }\n        return 0;\n    }\n    public get paused() {\n        if (this.audio) {\n            return this.audio.paused;\n        }\n        return false;\n    }\n\n\n    /**\n    * 设置分组名\n    */\n    public get audioGroup(): string | undefined {\n        return this._groupName;\n    }\n\n    public set audioGroup(value: string | undefined) {\n        if (value === undefined) {\n            unRegistrerAudioGroup(this)\n        }\n        if (this._groupName == value) {\n            return;\n        }\n        this._groupName = value;//需要在registrerCheckGroup之前\n        registrerAudioGroup(this);\n    }\n    public get playerStates() {\n        return this._playerStates;\n    }\n\n    public get isPlaying() {\n        if (this._playerStates === PlayerStates.play) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n    * 支持的方法们~~~··~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    *    */\n    /**\n     * 声音播放接口\n     *\n     *  await sound.play()\n     * @param {number} [time] - 声音延迟开始\n     * @param {number} [offset] - 声音的开始偏移值\n     * @param {number} [length] - 声音持续时间（以秒为单位）\n     */\n\n    public play(time?: number, offset?: number, length?: number) {\n        //如果处于恢复状态，不播放声音\n        this._playerStates = PlayerStates.play;\n        updateAudioGroupStates(this);\n        if (this.stage?.syncManager && this.stage.syncManager.resumeStatusFlag) {\n            return;\n        }\n\n        //在教室环境，使用nativeAudio\n        if (this.useNativeAudio()) {\n            this.nativeEmit(this._src, 'playAudio');\n            this.emit(\"play\", this);\n            return;\n        }\n\n        if (!this.audio) {\n            this.initAudio();\n        }\n\n        if(this.audio) {\n            this.audio.play(time, offset, length);\n        }\n        \n    }\n\n    /**\n    * 停止声音\n    * @param time (optional) X秒后停止声音。默认情况下立即停止\n    */\n    public stop(time?: number) {\n        //如果处于恢复状态，不播放声音\n\n        if (this.stage?.syncManager && this.stage.syncManager.resumeStatusFlag) {\n            return;\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const that = this;\n        if (this.stoping) clearTimeout(this.stoping)\n        if (time) {\n            this.stoping = setTimeout(() => {\n                this._playerStates = PlayerStates.end;\n                that.emit(\"stop\", that) //这个事件貌似没有用 因为已经对外抛了end事件 以防万一 保留\n            }, time);\n        } else {\n            this._playerStates = PlayerStates.end;\n            this.emit(\"stop\", this);\n        }\n\n        //在教室环境，使用nativeAudio\n        if (this.useNativeAudio()) {\n            this.nativeEmit(this._src, 'pauseAudio')\n            return;\n        }\n        this.audio && this.audio.stop(time);\n\n    }\n    /**\n    * 暂停声音\n    */\n    public pause() {\n        this._playerStates = PlayerStates.pause;\n        //如果处于恢复状态，不播放声音\n        if (this.stage?.syncManager && this.stage.syncManager.resumeStatusFlag) {\n            return;\n        }\n        //在教室环境，使用nativeAudio\n        if (this.useNativeAudio()) {\n            this.nativeEmit(this._src, 'pauseAudio')\n            this.emit(\"pause\", this);\n            return;\n        }\n        this.audio && this.audio.pause();\n    }\n    /**\n    * 释放\n    */\n    public dispose() {\n        this._playerStates = PlayerStates.end;\n        if (this.audio) {\n            vf.AudioEngine.Ins().map.delete(this._audioUid);\n            this.audio.removeAllListeners();\n            this.audio.dispose();\n            this.audio = undefined;\n        }\n        if (this.parent) {\n            this.parent.removeChild(this);\n        }\n        //在教室环境，使用nativeAudio\n        if (this.useNativeAudio()) {\n            this.nativeEmit(this._src, 'pauseAudio')\n            return;\n        }\n    }\n\n    public release() {\n        super.release();\n        this.dispose();\n    }\n\n    /**\n    * 各种可取参数.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    */\n\n    protected commitProperties() {\n        if (!this.audio) {\n            this.initAudio();\n        }\n        if (this._autoplay) {\n            this.play();\n        }\n    }\n\n    private useNativeAudio() {\n        return (this.stage as any)?.config?.vfvars.useNativeAudio;\n    }\n\n    private nativeEmit(url: string, typeTag: string) {\n        this.stage?.getSystemEvent().emit('message', {\n            code: 'native',\n            type: 'native',\n            level: 'command',\n            data: {\n                type: typeTag,\n                src: url,\n                id: this._audioUid,\n                mode: 'sound',\n                signalling: false,\n            }\n        });\n    }\n}\n","import { DisplayObjectAbstract } from \"../core/DisplayObjectAbstract\";\nimport { Scheduler } from \"../core/Scheduler\";\nimport { TimeLine } from \"../tween/TimeLine\";\nimport { Tween } from \"../tween/Tween\"\nimport { createDisplayObject } from \"../utils/Utils\";\nimport { Container } from \"./Container\";\n\n/**\n * 自动容器，提供各种组件的构造接口， timeline、tween、schedule的自动释放\n * 手写代码构建scene的最佳实践：\n * class Scene extends vf.gui.AutoContainer{\n *  \n * }\n */\nexport class AutoContainer extends Container{\n    constructor(){\n        super();\n    }\n\n    private idCountDict: { [key: string]: number } = {}; // id计数字典，用于生产不同的id\n    private timeLineList: TimeLine[] = [];\n    private tweenList: Tween[] = [];\n    private schedulerList: Scheduler[] = [];\n\n    public createDisplayObject(moduleName: string, option: any, parent?: DisplayObjectAbstract){\n        if(!parent){\n            parent = this;\n        }\n        if(!option.id){\n            this.idCountDict[moduleName] = this.idCountDict[moduleName] || 1;\n            option.id = `${moduleName}_${this.idCountDict[moduleName]++}`;\n        }\n        return createDisplayObject(moduleName, option, parent);\n    }\n\n    public createTimeLine(option: any){\n        let timeLine = new TimeLine(option);\n        this.timeLineList.push(timeLine);\n        return timeLine;\n    }\n\n    public createTween(object: any){\n        let tween = new Tween(object);\n        this.tweenList.push(tween);\n        return tween;\n    }\n\n    public setTimeout(time: number, callFunc: (data?: any) => void){\n        let scheduler = Scheduler.setTimeout(time, callFunc);\n        this.schedulerList.push(scheduler);\n        return scheduler;\n    }\n\n    public setInterval(time: number, callFunc: (data?: any) => void){\n        let scheduler = Scheduler.setInterval(time, callFunc);\n        this.schedulerList.push(scheduler);\n        return scheduler;\n    }\n\n    public setEnterFrame(callFunc: (data?: any) => void){\n        let scheduler = Scheduler.setEnterFrame(callFunc);\n        this.schedulerList.push(scheduler);\n        return scheduler;\n    }\n\n    public release(){\n        this.idCountDict = {};\n        for(let i = 0; i < this.timeLineList.length; ++i){\n            if(this.timeLineList[i]){\n                this.timeLineList[i].release();\n            }\n        }\n        this.timeLineList = [];\n        for(let i = 0; i < this.tweenList.length; ++i){\n            if(this.tweenList[i]){\n                this.tweenList[i].release();\n            }\n        }\n        this.tweenList = [];\n        for(let i = 0; i < this.schedulerList.length; ++i){\n            if(this.schedulerList[i]){\n                this.schedulerList[i].stop();\n            }\n        }\n        this.schedulerList = [];\n\n        super.release();\n    }\n}\n","import { Label } from \"./Label\";\nimport { Image } from \"./Image\";\nimport { InputBase } from \"./private/InputBase\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n\n/**\n * 按钮\n * \n * @example let button = new vf.gui.Button();\n * \n * \n */\nexport class Button extends InputBase {\n\n    public constructor() {\n        super();\n        this.container.buttonMode = true;\n        this.img.fillMode = \"scale\";\n        this.img.scale9Grid = [3, 3, 3, 3];\n        this.addChild(this.img);\n\n        this.label.sprite.style.fontSize = 18;\n        this.addChild(this.label);\n\n        this.on(ComponentEvent.STATE_CHANGE, this.onStateChange, this);\n    }\n\n    protected _selectedStr: \"AndSelected\" | \"\" = \"\";\n    protected _oldState = \"\";\n    private _offsetY = 0;\n\n\n    /** 状态展示 */\n    public readonly img = new Image();\n    /** 文字展示 */\n    public readonly label = new Label();\n\n    private _text = \"\";\n    /**\n     * 设置按钮的文本内容\n     */\n    public get text() {\n        return this.label.text;\n    }\n    public set text(value) {\n        this._text = value;\n        this.invalidateDisplayList();\n\n    }\n\n    /**\n     *  文本偏移\n     */\n    public get textOffsetY() {\n        return this._offsetY;\n    }\n\n    public set textOffsetY(value) {\n        if (this._offsetY === value) {\n            return;\n        }\n        this._offsetY = value;\n        this.invalidateDisplayList();\n    }\n\n\n    public setSelected(value: boolean) {\n        this._oldState = \"\";\n        if(value){\n            this._selectedStr = \"AndSelected\";\n        }else{\n            \n            this._selectedStr = \"\";\n        }\n        this.emit(ComponentEvent.CHANGE,this);\n        this.onStateChange(this,this.currentState);\n    }\n\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        if(isNaN(this.explicitWidth) && isNaN(this.explicitHeight)) {\n            return;\n        }\n        super.updateDisplayList(unscaledWidth, unscaledHeight);\n        this.container.hitArea = new vf.Rectangle(0, 0, unscaledWidth, unscaledHeight);\n\n        const img = this.img;\n        if(this.width !== img.width) {\n            img.width = unscaledWidth;\n        }\n        if(this.height !== img.height) {\n            img.height = unscaledHeight;\n        }\n        const vh = unscaledHeight + this._offsetY;\n        if (this.label.width !== unscaledWidth)\n            this.label.width = unscaledWidth;\n        if (this.label.height !== vh)\n            this.label.height = vh;\n        if (this.label.text !== this._text) {\n            this.label.text = this._text;\n\n        }\n\n        this.onStateChange(this, this.currentState);\n\n    }\n\n    public release() {\n\n        this.offAll(ComponentEvent.STATE_CHANGE);\n        this.img && this.img.parent && this.img.parent.removeChild(this.img);\n        this.img.release();\n        (this.img as any) = undefined;\n        this.label && this.label.parent && this.label.parent.removeChild(this.label);\n        this.label.release();\n        (this.label as any) = undefined;\n        this.removeAllListeners();\n        super.release();\n    }\n\n\n    protected onStateChange(label: Button, state: string) {\n        if (this._oldState == state) {\n            return;\n        }\n        this._oldState = state;\n        this.img.src = (this as any)[state + this._selectedStr];\n    }\n}","import {Label} from \"./Label\";\nimport { ComponentEvent, InputController } from \"../interaction/Index\";\nimport {  Button } from \"./Button\";\n\n\n/**\n * 单选\\复选框\n * \n * 设置checkGroup后，进行分组。 分组后，可理解为复选框。\n * \n * @example let checkBox = new vf.gui.CheckBox();\n * \n * \n */\nexport class CheckBox extends Button{\n\n    public constructor() {\n        super();\n    }\n\n    /**\n     * 设置值\n     */\n    private _value = \"\";\n    /** \n     * 设置是否选中 \n     * */\n    private _checked = false;\n\n    /** \n     * 获取或设置当前选中的值\n     */\n    public get selectedValue() {\n        if(this.checkGroup){\n            return InputController.getCheckGroupSelectedValue(this.checkGroup);\n        }\n        return undefined;\n    }\n\n    /** \n     * 设置分组名\n     */\n    public get checkGroup(): string | undefined {\n        return  this._groupName;\n    }\n    public set checkGroup(value: string | undefined) {\n        if(value === undefined){     \n            InputController.unRegistrerCheckGroup(this)\n        }\n        if(this._groupName == value){\n            return;\n        }\n        this._groupName = value;//需要在registrerCheckGroup之前\n        InputController.registrerCheckGroup(this);\n    }\n\n    /** \n     * 获取设置默认值 \n     */\n    public get value() {\n        return this._value;\n    }\n    public set value(value) {\n        if(value === this._value){\n            return;\n        }\n        this._value = value;\n    }\n\n    /** \n     * 设置是否选中 \n     * @default false\n     */\n    public get checked() {\n        return this._checked;\n    }\n    public set checked(value) {\n        if (value !==  this._checked) {\n            if (this.checkGroup)\n                InputController.updateCheckGroupSelected(this);\n            this._checked = value;\n            this.setSelected(value)\n            this._oldState = \"\";\n        }\n    }\n\n\n    protected onClick(e: any){\n        super.onClick(e);\n        if (this.checkGroup && this.checked)\n            return;\n        this.checked = !this.checked;\n    }\n\n    protected onLabelChange(label: Label){\n        label.style.left = this.width;\n        label.style.top =  this.height - label.height >> 1;\n    }\n\n    public release(){\n        InputController.unRegistrerCheckGroup(this);\n        super.release();\n    }\n}","import { updateTextureFill } from '../core/plugs/LineGradient';\nimport { GraphBase } from './private/GraphBase'\n\n/**\n * 绘制圆形\n * \n * 不设置 lineWidth 或 color 圆形不可见\n * \n * @example let circle = new vf.gui.Circle();\n * \n * \n */\nexport class Circle extends GraphBase {\n    public constructor() {\n        super();\n    }\n\n    /**\n     * 开始绘制角度\n     */\n    protected _startAngle = 0;\n    public get startAngle() {\n        return this._startAngle;\n    }\n    public set startAngle(value) {\n        this._startAngle = value;\n        this.invalidateDisplayList();\n    }\n\n    /**\n     * 结束角度\n     */\n    protected _endAngle = 360;\n    public get endAngle() {\n        return this._endAngle;\n    }\n    public set endAngle(value) {\n        this._endAngle = value;\n        this.invalidateDisplayList();\n    }\n\n    /**\n     * 逆时针绘制\n     */\n    protected _anticlockwise = false;\n    public get anticlockwise() {\n        return this._anticlockwise;\n    }\n    public set anticlockwise(value) {\n        this._anticlockwise = value;\n        this.invalidateDisplayList();\n    }\n\n    public drawGraph() {\n        const graphics = this.graphics;\n        graphics.clear();\n        if (this._lineWidth < 0) {\n            console.log(\"属性错误，线宽小于0\");\n            return;\n        }\n        graphics.lineStyle(this._lineWidth, this._lineColor, this._lineAlpha, this._alignment, false, this.lineType);\n        const radius = Math.ceil(this.explicitWidth || this.explicitHeight || this._radius * 2) / 2;\n        const diameter =  radius * 2;\n\n        this.setActualSize(diameter,diameter);\n\n        if (this.color) {\n            graphics.beginFill(this._color, this._fillAlpha);\n        } else {\n            updateTextureFill(this.graphics,this);\n        }\n\n        graphics.arc(this._anchorX ? (0.5 - this._anchorX) * diameter : radius\n            , this._anchorY ? (0.5 - this._anchorY) * diameter : radius\n            , radius\n            , this._startAngle\n            , this._endAngle\n            , this._anticlockwise);\n\n        graphics.endFill();\n    }\n\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { pointPlus, pointDistance, getDisplayObject, hexToInt } from \"../utils/Utils\";\nimport { Tween } from \"../tween/Tween\";\n\ntype LinePostion = 'leftTop' | 'centerTop' | 'rightTop' |\n    'leftCenter' | 'center' | 'rightCenter' |\n    'leftBottom' | 'centerBottom' | 'rightBottom' | number[];\n\n\nexport const play = Symbol(\"play\");\n/**\n * 连线组件\n * \n * \n * @example let connectLine = new vf.gui.ConnectLine();\n * \n */\nexport class ConnectLine extends DisplayObject {\n\n    public constructor() {\n        super();\n        this.line = new vf.Graphics();\n        this.container.addChild(this.line);\n\n    }\n\n    private readonly line: vf.Graphics;\n    private _lastStartPos: { x: number; y: number } = { x: NaN, y: NaN };\n    private _lastEndPos: { x: number; y: number } = { x: NaN, y: NaN };\n\n    private _play: 1 | 2 = 1;\n    private _tw?: Tween;\n    /**\n     *  触发画线操作\n     * \n     *  属性 play = 1 触发画线，线条从source->target.\n     *  属性 play = 2 触发画线，线条从target->source.\n     */\n    public get play() {\n        return this._play;\n    }\n    public set play(value) {\n        this.$values[play] = true;\n        this._play = value;\n        this.invalidateDisplayList();\n    }\n\n    private _autoPlay = true;\n    /**\n     *  默认 autoPlay = true\n     * \n     *  autoPlay = true时，组件在设置source,target,sourcePostion,targetPostion后自动触发画线，线条从source->target.\n     * \n     *  autoPlay = false时，设置source,target,sourcePostion,targetPostion后不会触发画线，需调用 play.\n     */\n    public get autoPlay() {\n        return this._autoPlay;\n    }\n    public set autoPlay(value) {\n        this._autoPlay = value;\n    }\n\n    private _source?: DisplayObject;\n    /**\n     * 设置源显示对象\n     */\n    public get source() {\n        return this._source;\n    }\n    public set source(value) {\n        if (this._source === getDisplayObject(value, this)) {\n            return;\n        }\n        this._source = getDisplayObject(value, this);\n        this.invalidateDisplayList();\n    }\n\n    private _sourcePostion: LinePostion = [0, 0];\n    /**\n     * 设置源显示对象位置\n     */\n    public get sourcePostion() {\n        return this._sourcePostion;\n    }\n    public set sourcePostion(value) {\n        if (this._sourcePostion === value) {\n            return;\n        }\n        this._sourcePostion = value;\n        this.invalidateDisplayList();\n    }\n\n    private _target?: DisplayObject;\n    /**\n     * 设置目标显示对象\n     */\n    public get target() {\n        return this._target;\n    }\n    public set target(value) {\n        if (this._target === getDisplayObject(value, this)) {\n            return;\n        }\n        this._target = getDisplayObject(value, this);\n        this.invalidateDisplayList();\n    }\n\n    private _targetPostion: LinePostion = [0, 0];\n    /**\n     * 设置目标显示对象位置\n     */\n    public get targetPostion() {\n        return this._targetPostion;\n    }\n    public set targetPostion(value) {\n        if (this._targetPostion === value) {\n            return;\n        }\n        this._targetPostion = value;\n        this.invalidateDisplayList();\n    }\n\n    /**\n     * 线条颜色\n     */\n    private _lineColor = 0xffffff;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        if (this._lineColor === value) {\n            return;\n        }\n        let color = 0xffffff;\n        color = hexToInt(value, color);\n        this._lineColor = color;\n        this.invalidateProperties();\n        this.invalidateDisplayList();\n    }\n    /**\n     * 线条粗细\n     */\n    private _lineWidth = 1;\n    public get lineWidth() {\n        return this._lineWidth;\n    }\n    public set lineWidth(value) {\n        if (this._lineWidth === value) {\n            return;\n        }\n        this._lineWidth = value;\n        this.invalidateProperties();\n        this.invalidateDisplayList();\n    }\n\n    private _isAnimation = false;\n    /**\n     * 线条位置改变时，是否有动画\n     */\n    public get isAnimation() {\n        return this._isAnimation;\n    }\n    public set isAnimation(value) {\n        if (this._isAnimation === value) {\n            return;\n        }\n        this._isAnimation = value;\n    }\n\n\n    private _speed = 500;\n    /**\n     * 设置获取连线速度\n     */\n    public get speed() {\n        return this._speed;\n    }\n    public set speed(value) {\n        if (this._speed === value) {\n            return;\n        }\n        this._speed = value;\n    }\n\n    protected commitProperties(): void {\n        this.line.lineStyle(this.lineWidth, this.lineColor, this.alpha);\n    }\n\n    private getLocalPos(_linePostion: LinePostion, display?: DisplayObject) {\n        let pos: { x: number; y: number } = { x: 0, y: 0 };\n\n        if (display) {\n            if (display.container.position.x === 0 && display.container.position.y === 0) {\n                display.validateNow();\n            }\n            const startPos = this.container.parent.toLocal(display.container.position, display.container.parent);\n            switch (_linePostion) {\n                case 'leftTop':\n                    pos = pointPlus(startPos, { x: 0, y: 0 });\n                    break;\n                case 'leftCenter':\n                    pos = pointPlus(startPos, { x: 0, y: display.height >> 1 });\n                    break;\n                case 'leftBottom':\n                    pos = pointPlus(startPos, { x: 0, y: display.height });\n                    break;\n                case 'centerTop':\n                    pos = pointPlus(startPos, { x: display.width >> 1, y: 0 });\n                    break;\n                case 'center':\n                    pos = pointPlus(startPos, { x: display.width >> 1, y: display.height >> 1 });\n                    break;\n                case 'centerBottom':\n                    pos = pointPlus(startPos, { x: display.width >> 1, y: display.height });\n                    break;\n                case 'rightTop':\n                    pos = pointPlus(startPos, { x: display.width, y: 0 });\n                    break;\n                case \"rightCenter\":\n                    pos = pointPlus(startPos, { x: display.width, y: display.height >> 1 });\n                    break;\n                case 'rightBottom':\n                    pos = pointPlus(startPos, { x: display.width, y: display.height });\n                    break;\n                default:\n                    pos.x = startPos.x + _linePostion[0];\n                    pos.y = startPos.y + _linePostion[1];\n            }\n        } else {\n            if (Array.isArray(_linePostion)) {\n                pos.x = _linePostion[0];\n                pos.y = _linePostion[1];\n            }\n        }\n\n        return pos;\n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n\n        const { _source, _target, _sourcePostion, _targetPostion, _lastStartPos, _lastEndPos, line } = this;\n        const startPos = this.getLocalPos(_sourcePostion, _source);\n        const endPos = this.getLocalPos(_targetPostion, _target);\n        if (_lastStartPos.x !== startPos.x ||\n            _lastStartPos.y !== startPos.y ||\n            _lastEndPos.x !== endPos.x ||\n            _lastEndPos.y !== endPos.y) {\n\n            this._lastStartPos = startPos;\n            this._lastEndPos = endPos;\n            if (this._autoPlay) {\n                this.animation();\n            }\n        }\n        if (this.$values[play] === true && !this._autoPlay) {\n            this.$values[play] = false;\n            this.animation();\n        }\n        //super.updateDisplayList(unscaledWidth, unscaledHeight);     \n    }\n\n    private animation() {\n        const yoyo = this._play;\n        const line = this.line;\n        const startPos = yoyo === 1 ? this._lastStartPos : this._lastEndPos;\n        const endPos = yoyo === 1 ? this._lastEndPos : this._lastStartPos;\n\n        line.removeChildren();\n\n        if (!this.isAnimation) {\n            line.moveTo(startPos.x, startPos.y);\n            line.lineTo(endPos.x, endPos.y);\n            this.emit(ComponentEvent.COMPLETE, this);\n            return;\n        }\n\n        const distance = pointDistance(startPos, endPos);\n        const lastPos = { x: startPos.x, y: startPos.y };\n        const from = { dt: 0 };\n        const to = { dt: distance };\n        const tw = new Tween(from)\n            .to(to, this._speed)\n            .on(Tween.Event.update, (obj: any) => {\n                const dt = Math.ceil(obj.dt);\n                const x = (dt * (endPos.x - startPos.x)) / distance + startPos.x;\n                const y = (dt * (endPos.y - startPos.y)) / distance + startPos.y;\n                line.moveTo(lastPos.x, lastPos.y);\n                line.lineTo(x, y);\n                lastPos.x = x;\n                lastPos.y = y;\n            })\n            .once(Tween.Event.complete, (obj: any) => {\n                tw.removeAllListeners();\n                tw.release();\n                this.emit(ComponentEvent.COMPLETE, this);\n            })\n            .start();\n        this._tw = tw;\n    }\n\n    public set isClear(value: boolean) {\n        this.clear();\n    }\n\n    public clear() {\n        const line = this.line;\n        if(line){\n            line.clear();\n        }\n        this.commitProperties();\n    }\n\n    public release() {\n        super.release();\n        this._tw && this._tw.release();\n        this._tw = undefined;\n        this._source = undefined;\n        this._target = undefined;\n        const line = this.line;\n        if(line &&  line.clear){\n            line.clear();\n            if (line.parent) {\n                line.parent.removeChild(line).destroy();\n            }\n        }\n        this.offAll(ComponentEvent.COMPLETE);\n    }\n}","import {DisplayObject} from \"../core/DisplayObject\";\n\n/**\n * 基础容器\n * \n * 设置checkGroup后，进行分组。 分组后，可理解为复选框。\n * \n * @example let container = new vf.gui.Container();\n * \n */\nexport class Container extends DisplayObject{\n    public constructor(){\n        super();\n        this.isContainer = true;\n    }\n\n    /**\n     * 确定指定显示对象是 DisplayObjectContainer 实例的子项或该实例本身。搜索包括整个显示列表（其中包括此 DisplayObjectContainer 实例）。\n     * 孙项、曾孙项等，每项都返回 true。\n     * @param child 要测试的子对象。\n     * @returns 如果 child 对象是 DisplayObjectContainer 的子项或容器本身，则为 true；否则为 false。\n     */\n    public contains(child: DisplayObject){\n        while (child) {\n            if (child == this) {\n                return true;\n            }\n            if(child.parent instanceof DisplayObject){\n                child = child.parent;\n            }else{\n                child = undefined as any;\n            }\n            \n        }\n        return false;\n    }\n\n}\n\n\n","import { updateTextureFill } from '../core/plugs/LineGradient';\nimport { GraphBase } from './private/GraphBase'\n\n/**\n * 绘制椭圆\n * \n * 不设置 lineWidth 或 color 椭圆不可见\n * \n */\nexport class Ellipse extends GraphBase {\n    public constructor() {\n        super();\n    }\n\n    public drawGraph() {\n        const graphics = this.graphics;\n        graphics.clear();\n        if (this._lineWidth < 0) {\n            console.log(\"属性错误，线宽小于0\");\n            return;\n        }\n        graphics.lineStyle(this._lineWidth, this._lineColor, this._lineAlpha, 0.5, false, this.lineType);\n        if (this.color) {\n            graphics.beginFill(this._color, this._fillAlpha);\n        } else {\n            updateTextureFill(this.graphics,this);\n        }\n\n        const centerX = (this._anchorX ? -this._anchorX * this.width : 0) + this.width * 0.5;\n        const centerY = (this._anchorY ? -this._anchorY * this.height : 0) + this.height * 0.5;\n        graphics.drawEllipse(centerX, centerY, this.width * 0.5, this.height * 0.5);\n        graphics.endFill();\n    }\n\n}","/* eslint-disable no-case-declarations */\nimport { DisplayObject } from \"../core/DisplayObject\";\nimport { InteractionEvent, TouchMouseEvent, ComponentEvent } from \"../interaction/Index\";\nimport { pointDistance, pointSub, pointSignAngle } from \"../utils/Utils\";\nimport { FollowLineEnum } from \"../enum/Index\";\nimport { Graphics } from \"./Graphics\";\nimport { BoundsEventType, SelectedBounds } from \"./private/selectedBounds\";\n\nconst tempLocalBounds = new vf.Rectangle();\n\n/** 验证是否触发的距离 */\nconst POS_DISTANCE = 7;\n/** 优化曲率，小于这个弧度视为直线，把当前点优化掉 */\nconst MAX_ARC = 0.09; // 5度\n/** 点数字转换成字符的数位 */\nconst DIGIT = 87;\n/** 字符列表 ascii */\nconst NUMBER_TO_STR = \"$%&()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_abcdefghijklmnopqrstuvwxyz{}\";\n/** 压缩比例，有损压缩 */\nconst COMPRESS_RATE = 2;\n/** 最大宽度 */\nconst MAX_WIDTH = 1500;\n/** 为了把点都变成正数所用 */\nconst POSITIVE = 0;\n/** 线条最大数量 */\nconst MAX_LINES = 200;\n\n/** 将一个x，y坐标转换成3个字符，宽高不能超过MAX_WIDTH */\nfunction getStrFromPos(x: number, y: number) {\n    x = Math.min(Math.max(0, x), MAX_WIDTH);\n    y = Math.min(Math.max(0, y), MAX_WIDTH);\n\n    // 有损压缩\n    const compX = Math.floor(x / COMPRESS_RATE);\n    const compY = Math.floor(y / COMPRESS_RATE);\n\n    const n1 = compX % DIGIT;\n    const n2 = compY % DIGIT;\n    const n3 = Math.floor(compX / DIGIT) * 10 + Math.floor(compY / DIGIT);\n\n    return NUMBER_TO_STR[n1] + NUMBER_TO_STR[n2] + NUMBER_TO_STR[n3];\n}\n\n/** 将字符串转换成坐标数字列表 */\nfunction getVecListFromStr(str: string, from: number, to: number): number[] {\n    const list = [];\n    for (let index = from; index < to; index += 3) {\n\n        const n1 = NUMBER_TO_STR.indexOf(str[index]);\n        const n2 = NUMBER_TO_STR.indexOf(str[index + 1]);\n        const n3 = NUMBER_TO_STR.indexOf(str[index + 2]);\n\n        const n12 = Math.floor(n3 / 10);\n        const n22 = n3 % 10;\n\n        const compX = n1 + n12 * DIGIT;\n        const compY = n2 + n22 * DIGIT;\n\n        const realX = compX * COMPRESS_RATE;\n        const realY = compY * COMPRESS_RATE;\n\n        list.push(realX);\n        list.push(realY);\n    }\n    return list;\n}\n\n/**\n * 跟随鼠标或触摸绘制线条\n * \n * @example let graphics = new vf.gui.FollowLine();\n * \n */\nexport class FollowLine extends DisplayObject {\n\n\n    public constructor() {\n        super();\n        this._lastPos = new vf.Point();\n        this._mouseOffset = new vf.Point();\n        this._lines = new Map();\n        this.addEvent();\n        this.addSelectedBound();\n    }\n    /** 线条 */\n    private _lines: Map<string, vf.Graphics>;\n    /** 触摸的ID */\n    private _touchId = -1;\n    /** 位置缓存，记录画线时候每一个点，最后画完优化 */\n    private _posCache: vf.Point[] = [];\n    /** 保存已画线的key */\n    private _lineKeys: string[] = [];\n    /** 鼠标坐标 */\n    private _mouseOffset: vf.Point;\n    /** 上次点击坐标 */\n    private _lastPos: vf.Point;\n    /**\n     * 划线索引, 取时间戳\n     */\n    private _curLineIndex: any = 0;\n    /**\n     * 需要处理的消息列表\n     */\n    private _messageCache: string[] = [];\n    /**\n     * 线条颜色\n     */\n    public lineColor = 0xff0000;\n    /**\n     * 线条宽度\n     */\n    public lineWidth = 3;\n    /**\n     * 是否暂停，一些特殊情况，如拖拽时，可暂停\n     */\n    public isPause = false;\n    /**\n     * LINES instead of TRIANGLE_STRIP\n     */\n    private lineType: \"full\" | \"dash\" = \"full\";\n    /**\n     * 是否启用橡皮檫\n     */\n    public isErasing = false;\n    /** 角色状态 */\n    public role: FollowLineEnum.Role = FollowLineEnum.Role.teacher;\n    /** 选择框的容器  */\n    private _selectedBounds?: SelectedBounds;\n\n    /** 要删除的线，复制品 */\n    private _eraseLine?: vf.Graphics;\n    public set eraseLine(value: vf.Graphics | undefined) {\n        this._eraseLine = value;\n        if (value) {\n            const bounds = value.getLocalBounds();\n            bounds.x += value.x;\n            bounds.y += value.y;\n            this._selectedBounds?.show(this, bounds, value.scale.x, value.scale.y, value.angle, false);\n        }\n        else {\n            this._selectedBounds?.hide();\n        }\n    }\n    public get eraseLine() {\n        return this._eraseLine;\n    }\n\n    /**\n     * @private\n     * 提交属性，子类在调用完invalidateProperties()方法后，应覆盖此方法以应用属性\n     */\n    protected commitProperties(): void {\n        this.onMessage();\n        this.getCurLineByPos();\n    }\n    /**\n     * 更新显示列表,子类重写，实现布局\n     */\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n        super.updateDisplayList(unscaledWidth, unscaledHeight);\n        this.container.hitArea = new vf.Rectangle(0, 0, unscaledWidth, unscaledHeight);\n    }\n\n    /**\n     * 添加选择框\n     */\n    private addSelectedBound() {\n        this._selectedBounds = new SelectedBounds();\n        // this._selectedBounds.on(BoundsEventType.selectedBoundsClicked, (value: boolean) => {\n\n        // })\n        // this._selectedBounds.on(BoundsEventType.boundsScale, (scaleX: number, scaleY: number) => {\n\n        // })\n        // this._selectedBounds.on(BoundsEventType.boundsAngle, (angle: number) => {\n\n        // })\n    }\n\n    private onMessage() {\n        const { _messageCache } = this;\n        if (_messageCache.length > 0) {\n            let message: string;\n            let data: string;\n            let role: string;\n            let operate: FollowLineEnum.Operate;\n            let type: string;\n            let lineId: string;\n            while (_messageCache.length > 0) {\n                message = _messageCache.shift() as string;\n                const infoArr = message.split('|');\n                type = infoArr[0];\n                operate = infoArr[1] as FollowLineEnum.Operate;\n                role = infoArr[2];\n                lineId = infoArr[3];\n                this.lineWidth = parseInt(infoArr[4]);\n                this.lineColor = parseInt(infoArr[5]);\n                this.lineType = infoArr[6] as any;\n                data = infoArr[7];\n\n                switch (operate) {\n                    case FollowLineEnum.Operate.add:\n                        const graphics = this.getGraphics(lineId, role);\n                        const posList = getVecListFromStr(data, 0, data.length);\n                        \n                        if (type == \"0\") {\n                            this.drawLine(graphics, posList);\n                        }\n                        break;\n                    case FollowLineEnum.Operate.remove:\n                        this.removeLine(role + lineId);\n                        break;\n                    case FollowLineEnum.Operate.clear:\n                        this.clear();\n                        break;\n                    default:\n                        break;\n                }\n            }\n        }\n    }\n\n    private addEvent() {\n        this.on(TouchMouseEvent.onPress, this.onPress);\n        this.on(TouchMouseEvent.onMove, this.onMove);\n    }\n\n    private removeEvent() {\n        this.off(TouchMouseEvent.onPress, this.onPress);\n        this.off(TouchMouseEvent.onMove, this.onMove);\n    }\n\n    public onPress(e: InteractionEvent, thisObj: DisplayObject, isPress: boolean) {\n        if (this.isPause) {\n            return;\n        }\n\n        e.stopPropagation();\n        e.local = this.container.toLocal(e.data.global);\n        if (isPress) {\n            if (this.parent === undefined) return;\n\n            if (this.isErasing) return;\n\n            if (this._touchId !== -1) return;\n\n            this._touchId = e.data.identifier;\n            const curLocal = this.container.toLocal(e.data.global);\n            this._lastPos.copyFrom(curLocal);\n            this._curLineIndex = Date.now();\n            this._posCache = [this._lastPos.clone()];\n        } else {\n\n            // 清除操作\n            if (this.isErasing && this.eraseLine) {\n                const name = this.eraseLine.name;\n                this.removeLine(name);\n                this.emitMsg(FollowLineEnum.Operate.remove, name.charAt(0) as FollowLineEnum.Role, name.substr(1));\n                this.eraseLine = undefined;\n                return;\n            }\n\n            if (this._touchId === -1 || this._touchId != e.data.identifier) return;\n\n            this._touchId = -1;\n\n            if (this._posCache.length <= 1) { //划线失败\n                //console.log('gui -> 移动距离过短，画线失败 >' + POS_DISTANCE);\n                this._posCache.pop();\n                return;\n            }\n\n            this.emitMsg(FollowLineEnum.Operate.add, this.role, this._curLineIndex.toString(), this.getDataStrByPosCache());\n        }\n    }\n\n    public onMove(e: InteractionEvent) {\n        e.stopPropagation();\n        e.local = this.container.toLocal(e.data.global);\n        this._mouseOffset = e.local;\n        if (this.isErasing) {\n            if (this.role == FollowLineEnum.Role.teacher) {\n                this.invalidateProperties();\n            }\n            return;\n        }\n\n\n        if (this._touchId === -1 || !this._lastPos || this._touchId != e.data.identifier) return;\n\n        const { _lastPos, _posCache } = this;\n\n\n        const len = pointDistance(_lastPos, this._mouseOffset);\n\n        if (len < POS_DISTANCE) {\n            return;\n        }\n\n        const brush = this.getGraphics(this._curLineIndex.toString(), this.role);\n        brush.moveTo(_lastPos.x, _lastPos.y);\n        brush.lineTo(this._mouseOffset.x, this._mouseOffset.y);\n        _lastPos.copyFrom(this._mouseOffset);\n        _posCache.push(_lastPos.clone());\n    }\n\n    /**\n     * 发送操作事件\n     * @param operate   1添加 2删除 3重置\n     * @param role  Role\n     * @param lineIndex 线段 ID\n     */\n    private emitMsg(operate: any, role: FollowLineEnum.Role, lineId: string, data = '') {\n        const dataStr = `0|${operate}|${role}|${lineId}|${this.lineWidth}|${this.lineColor}|${this.lineType}|${data}`;\n        this.emit(ComponentEvent.COMPLETE, this, dataStr);\n\n        if (operate == FollowLineEnum.Operate.add) {\n            this.removeLine(role + lineId);\n            this.setData(dataStr);\n        }\n    }\n\n    /**\n     * \n     * @param name (name = role + lineId)\n     * @param role \n     */\n    private getGraphics(name: string, role: string): vf.Graphics {\n        const key = role + name;\n        if (this._lines.has(key)) {\n            return this._lines.get(key) as vf.Graphics;\n        }\n        if (this._lines.size > MAX_LINES) {\n            this.removeLine(this._lineKeys.shift() as string);\n        }\n\n        const guiGraphic = new Graphics();\n        guiGraphic.id = key;\n        this.addChild(guiGraphic);\n        const graphics = guiGraphic.graphics;\n        graphics.interactive = false;\n        graphics.interactiveChildren = false;\n        graphics.name = key;\n        this._lineKeys.push(key);\n        this._lines.set(key, graphics);\n        graphics.lineStyle(this.lineWidth, this.lineColor, undefined, undefined, undefined, this.lineType);\n        return graphics;\n    }\n\n    private getCurLineByPos() {\n        const { _lines, _mouseOffset } = this;\n\n        if (this.eraseLine) {\n            this.eraseLine = undefined;\n        }\n\n        if (!this.isErasing) {\n            return;\n        }\n\n        let lastDistance = 10000;\n\n        _lines.forEach(value => {\n            value.getLocalBounds(tempLocalBounds);\n            tempLocalBounds.x += value.x;\n            tempLocalBounds.y += value.y;\n            if (tempLocalBounds.contains(_mouseOffset.x, _mouseOffset.y)) {\n                const distance = pointDistance(_mouseOffset, { x: tempLocalBounds.x + tempLocalBounds.width * 0.5, y: tempLocalBounds.y + tempLocalBounds.height * 0.5 });\n                if (distance < lastDistance) {\n                    lastDistance = distance;\n                    this.eraseLine = value;\n                }\n            }\n        });\n    }\n\n    private getDataStrByPosCache() {\n        const { _posCache } = this;\n        if (_posCache.length == 0) {\n            return;\n        }\n        // 稀疏位置点，通过曲率\n        const finalX = [_posCache[0].x];\n        const finalY = [_posCache[0].y];\n\n        let lastLastPos = _posCache[0];\n        let lastPos = _posCache[1];\n\n        let sumAngle = 0;\n\n        for (let index = 2; index < _posCache.length; index++) {\n            const pos = _posCache[index];\n            const pos1 = pointSub(lastPos, lastLastPos);\n            const pos2 = pointSub(pos, lastPos);\n            const angle = pointSignAngle(pos1, pos2);\n            if (angle > MAX_ARC || angle < -MAX_ARC || sumAngle > MAX_ARC || sumAngle < -MAX_ARC) {\n                finalX.push(lastPos.x);\n                finalY.push(lastPos.y);\n                sumAngle = 0;\n            } else {\n                sumAngle += angle;\n            }\n\n            lastLastPos = lastPos;\n            lastPos = pos;\n        }\n\n        finalX.push(_posCache[_posCache.length - 1].x);\n        finalY.push(_posCache[_posCache.length - 1].y);\n\n        const finalStrList = [];\n        for (let index = 0; index < finalX.length; index++) {\n            const x = finalX[index] + POSITIVE;\n            const y = finalY[index] + POSITIVE;\n            const str = getStrFromPos(x, y);\n\n            finalStrList.push(str);\n        }\n\n        const finalStr = finalStrList.join('');\n        return finalStr;\n    }\n\n\n    private drawLine(graphics: vf.Graphics, posList: number[]) {\n        let lastX = posList[0] - POSITIVE;\n        let lastY = posList[1] - POSITIVE;\n        graphics.moveTo(lastX, lastY);\n\n        // 利用贝塞尔将线平滑化\n        const realList = [];\n        for (let index = 2; index < posList.length; index += 2) {\n            const x = posList[index] - POSITIVE;\n            const y = posList[index + 1] - POSITIVE;\n\n            const halfX = lastX + (x - lastX) * 0.5;\n            const halfY = lastY + (y - lastY) * 0.5;\n\n            realList.push(halfX, halfY, x, y);\n\n            lastX = x;\n            lastY = y;\n        }\n\n        graphics.lineTo(realList[0], realList[1]);\n        for (let index = 2; index < realList.length - 2; index += 4) {\n            const cx = realList[index];\n            const cy = realList[index + 1];\n            const x = realList[index + 2];\n            const y = realList[index + 3];\n            graphics.quadraticCurveTo(cx, cy, x, y);\n        }\n\n        graphics.lineTo(realList[realList.length - 2], realList[realList.length - 1]);\n    }\n\n    private removeLine(key: string) {\n        const delKeyIndex = this._lineKeys.indexOf(key);\n        if (delKeyIndex !== -1) {\n            this._lineKeys.splice(delKeyIndex, 1);\n        }\n        const line = this._lines.get(key);\n        if (line) {\n            this._lines.delete(key);\n            if (line.parent) {\n                line.parent.removeChild(line);\n                line.destroy();\n            }\n            const obj = this._getChildById(key);\n            obj && obj.release();\n        }\n\n    }\n\n    public clear() {\n        this._lines.forEach((value: vf.Graphics, key: string) => {\n            if (value.parent) {\n                value.parent.removeChild(value).destroy();\n            }\n        });\n        this._lines.clear();\n        this._posCache = [];\n        this._lineKeys = [];\n    }\n\n    public setData(data: string | string[]) {\n        if (typeof data === 'string') {\n            this._messageCache.push(data);\n        } else {\n            this._messageCache = this._messageCache.concat(data);\n        }\n\n        // this.invalidateProperties();\n        this.onMessage();\n    }\n\n    public reset(): any {\n        this.emitMsg(FollowLineEnum.Operate.clear, this.role, \"\");\n        this.clear();\n    }\n\n    public release() {\n        this.removeEvent();\n        this._selectedBounds?.release();\n        super.release();\n    }\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { GraphicsCore } from \"./private/GraphicsCore\";\n\n\n/**\n * 矢量绘制\n * \n * @example let graphics = new vf.gui.Graphics();\n * \n */\nexport class Graphics extends DisplayObject {\n\n    public constructor(geometry?: vf.GraphicsGeometry | undefined) {\n        super();\n        this.graphics = new GraphicsCore(geometry);\n        this.container.addChild(this.graphics);\n    }\n\n    public readonly graphics: GraphicsCore;\n\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { MaskSprite } from \"../core/MaskSprite\";\nimport { getTexture } from \"../utils/Utils\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { GifSprite } from \"./private/GifSprite\";\nimport { GifFrames } from \"../utils/GifFrames\";\n\n/**\n * 图片\n * \n * @example let image = new vf.gui.Image();\n * \n */\nexport class Image extends DisplayObject implements MaskSprite {\n\n\n    public constructor() {\n        super();\n    }\n\n    /** 可以支持遮罩的组件 */\n    public maskSprite() {\n        this.srcSystem();\n        this.commitProperties();\n        return this._sprite as vf.Sprite;\n    }\n\n    protected _sprite: vf.Sprite | vf.TilingSprite | vf.NineSlicePlane | GifSprite | undefined;\n    protected _texture: vf.Texture | undefined;\n    protected _source: number | string | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined;\n\n    /**\n     * 图像路径或位图对象\n     */\n    private _src: number | string | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined;\n    private _oldSrc?: any;\n    public get src(): number | string | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined {\n        return this._src;\n    }\n    public set src(value: number | string | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined) {\n        if (value === this._src) {\n            return;\n        }\n        this._src = value;\n        this.srcSystem();\n    }\n\n    private _isGif = false;\n\n    private _scale9Grid?: number[] | any[] | undefined;\n    private _oldScale9Grid?: any;\n    /**\n     * 矩形区域，它定义素材对象的九个缩放区域。\n     * \n     * fillMode = scale 时，[leftWidth,rightWidth,topHeight,bottomHeight]\n     * \n     * fillMode = repeat 是，[scalex,scaley,x,y]\n     */\n    public get scale9Grid() {\n        return this._scale9Grid;\n    }\n    public set scale9Grid(value) {\n        if (value === this._scale9Grid) {\n            return;\n        }\n        this._scale9Grid = value;\n        this.invalidateProperties();\n    }\n\n\n    private _fillMode?: \"no-repeat\" | \"repeat\" | \"scale\" = \"no-repeat\";\n    private _oldFillMode?: any;\n    /**\n     * 填充模式\n     * 设置scale后，可设置scale9Grid进行调整缩放区域\n     */\n    public get fillMode() {\n        return this._fillMode;\n    }\n    public set fillMode(value) {\n        if (value === this._fillMode) {\n            return;\n        }\n        this._fillMode = value;\n        this.invalidateProperties();\n    }\n\n    /**\n     * 锚点，调整位图的坐标中点 0-1\n     */\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        if (value === this._anchorX) {\n            return;\n        }\n        this._anchorX = value;\n        this.invalidateProperties();\n    }\n    /**\n     * 锚点，调整位图的坐标中点 0-1\n     */\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        if (value === this.anchorY) {\n            return;\n        }\n        this._anchorY = value;\n        this.invalidateProperties();\n    }\n\n    public setSpeiteSize(unscaledWidth?: number, unscaledHeight?: number) {\n        const sprite = this._sprite;\n\n        if (sprite) {\n            if (unscaledWidth)\n                sprite.width = unscaledWidth;\n            if (unscaledHeight)\n                sprite.height = unscaledHeight;\n            this.setActualSize(sprite.width, sprite.height, false);\n        }\n    }\n\n    protected measure(): void {\n\n        if (this._texture) {\n            this.setMeasuredSize(this._texture.width, this._texture.height);\n        } else {\n            this.setMeasuredSize(0, 0);\n        }\n\n    }\n\n    protected srcSystem() {\n\n        if (this._oldSrc === this._src) {\n            return;\n        }\n        this._oldSrc = this._src;\n        if (this._src === undefined || this._src === '') {\n            if (this._sprite && this._texture) {\n                this._sprite.destroy();\n                this._sprite = undefined;\n                this._oldFillMode = undefined;\n                this._oldScale9Grid = undefined;\n                this._texture.baseTexture.dispose();\n                this._texture.removeAllListeners && this._texture.removeAllListeners();\n                this._texture = undefined;\n            }\n            return;\n        }\n        if (this._texture && this._texture.removeAllListeners) {\n            this._texture.removeAllListeners();\n        }\n        let texture = this._texture = getTexture(this.src);\n\n        if (!texture) return;  //by ziye+\n        this._isGif = false;\n        if (texture[\"extension\"] && texture[\"extension\"] === 'gif') {\n            this._isGif = true;\n            texture = texture.texture;\n        }\n        if (texture.frame.width > 1 && texture.frame.height > 1) {\n            this.invalidateProperties();\n            this.invalidateSize();\n            this.invalidateDisplayList(); // todo: 后续上层修改流程，本条可以删除\n        }\n        texture.once(\"update\", () => {\n            this.invalidateProperties();\n            this.invalidateSize();\n            this.invalidateDisplayList(); // todo: 后续上层修改流程，本条可以删除\n            this.emit(ComponentEvent.COMPLETE, this);\n        }, this);\n    }\n\n    protected commitProperties(): void {\n\n        if (this._texture === undefined) {\n            return;\n        }\n        let sprite = this._sprite;\n        const oldSprite = this._sprite;\n        const texture = this._texture;\n\n        if (((this._oldFillMode !== this._fillMode || (oldSprite instanceof GifSprite)) && this._isGif === false)) {\n            this._oldFillMode = this._fillMode;\n            try {\n                if (this.fillMode === \"no-repeat\") {\n                    sprite = new vf.Sprite(texture);\n                } else if (this.fillMode === \"repeat\") {\n                    sprite = new vf.TilingSprite(texture);\n                } else if (this.fillMode === \"scale\") {\n                    sprite = new vf.NineSlicePlane(texture);\n                }\n            } catch (e) {\n                sprite = vf.Sprite.from(texture);\n            }\n        } else if ((!(oldSprite instanceof GifSprite) || !oldSprite) && this._isGif === true) {\n\n            const resource = (this._texture as any);\n\n            if (resource.data && this._isGif === true) {\n                const frames = new GifFrames(resource);\n\n                (resource as any)['frames'] = frames;\n                resource.texture = frames.getFrame(0).texture;\n            }\n            sprite = new GifSprite(resource);\n        }\n\n        if (sprite !== oldSprite) {\n            this._oldScale9Grid = undefined;\n            if (oldSprite && oldSprite !== sprite) {\n                this.container.removeChild(oldSprite);\n                if (sprite) {\n                    sprite.width = oldSprite.width;\n                    sprite.height = oldSprite.height;\n                }\n                oldSprite.removeAllListeners();\n                oldSprite.destroy();\n            }\n            if (sprite && !sprite.parent) {\n                this._sprite = this.container.addChild(sprite);\n            }\n        }\n        if (sprite === undefined) {\n            return;\n        }\n\n        if (sprite.texture !== texture && this._isGif === false) {\n            sprite.texture = texture;\n        }\n        if (sprite.tint !== this.tint) {\n            sprite.tint = this.tint;\n        }\n        if (this.blendMode) {\n            sprite.blendMode = this.blendMode;\n        }\n        if (this._oldScale9Grid !== this._scale9Grid) {\n            this._oldScale9Grid = this._scale9Grid;\n            let temp = this._scale9Grid;\n            if (temp === undefined) {\n                temp = [undefined, undefined, undefined, undefined];\n            }\n            if (sprite instanceof vf.TilingSprite) {\n                sprite.tileScale.set(temp[0] || 1, temp[1] || 1);\n                sprite.tilePosition.set(temp[2], temp[3]);\n            } else if (sprite instanceof vf.NineSlicePlane) {\n                sprite.leftWidth = temp[0] || 10;\n                sprite.rightWidth = temp[1] || 10;\n                sprite.topHeight = temp[2] || 10;\n                sprite.bottomHeight = temp[3] || 10;\n            }\n        }\n        if (this._anchorX || this._anchorY) {\n\n            sprite.y = -Math.floor(sprite.height * this._anchorY);\n            sprite.x = -Math.floor(sprite.width * this._anchorX);\n        } else {\n            sprite.x = 0;\n            sprite.y = 0;\n        }\n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        if (unscaledWidth === 0 && unscaledHeight === 0) {\n            return;\n        }\n        if (unscaledWidth === 1 && unscaledHeight === 1) {\n            return;\n        }\n        const sprite = this._sprite;\n        if (sprite) {\n            sprite.width = unscaledWidth;\n            sprite.height = unscaledHeight;\n            if (this._anchorX || this._anchorY) {\n                sprite.y = -Math.floor(sprite.height * this._anchorY);\n                sprite.x = -Math.floor(sprite.width * this._anchorX);\n            } else {\n                sprite.x = 0;\n                sprite.y = 0;\n            }\n            super.updateDisplayList(unscaledWidth, unscaledHeight);\n        }\n\n    }\n\n    public release() {\n        super.release();\n        this.offAll(ComponentEvent.COMPLETE);\n        if (this._sprite && this._sprite.parent) {\n            this._sprite.removeAllListeners();\n            this._sprite.parent.removeChild(this._sprite).destroy();\n        }\n        this._sprite = undefined;\n        if (this._texture) {\n            this._texture.removeAllListeners();\n            // this._texture.destroy(); //会把当前使用的纹理清掉\n            this._texture = undefined;\n        }\n        this._source = undefined;\n        this._src = undefined;\n        this._oldSrc = undefined;\n    }\n}","import { updateTextureFill } from '../core/plugs/LineGradient';\nimport { GraphBase } from './private/GraphBase'\n\n/**\n * 等腰梯形和等腰三角形(上边长度为0)\n * \n * 梯形上边的中点为中心点\n * \n * 不设置 lineWidth 或 color 矩形不可见\n * \n */\nexport class Isosceles extends GraphBase {\n    public constructor() {\n        super();\n    }\n\n    private _upLine = 0;\n    private _downLine = 0;\n\n    private _path: vf.Point[] = [];\n\n    public get upLine(): number {\n        return this._upLine;\n    }\n\n    public set upLine(value) {\n        this._upLine = value;\n\n        this.invalidateDisplayList();\n    }\n    public get downLine(): number {\n        return this._downLine;\n    }\n\n    public set downLine(value) {\n        this._downLine = value;\n        this.invalidateDisplayList();\n    }\n\n    public drawGraph() {\n        const graphics = this.graphics;\n        graphics.clear();\n        if (this._lineWidth < 0) {\n            console.log(\"属性错误，线宽小于0\");\n            return;\n        }\n        graphics.lineStyle(this._lineWidth, this._lineColor, this._lineAlpha, 0.5, false, this.lineType);\n\n        if (this.color) {\n            graphics.beginFill(this._color, this._fillAlpha);\n        } else {\n            updateTextureFill(this.graphics,this);\n        }\n\n        this.setIsosPath();\n        graphics.drawPolygonOne(this._path);\n\n\n        graphics.endFill();\n    }\n\n\n\n    private setIsosPath() {\n        this._path = [];\n        const upWidth = this._upLine;\n        const downWidth = this._downLine;\n        const longWidth = Math.max(upWidth, downWidth);\n        const height = this.height > 0 ? this.height : longWidth;\n        const scaleWidth = (this.width > 0 ? this.width / longWidth : 1);\n        const w = this._anchorX ? this.width * this._anchorX : 0;\n        const h = this._anchorY ? this.height * this._anchorY : 0;\n        const upY = 0 - h;\n        const downY = height - h;\n\n        const point1 = new vf.Point((longWidth - upWidth) * 0.5 * scaleWidth - w, upY);\n        const point2 = new vf.Point((longWidth - downWidth) * 0.5 * scaleWidth - w, downY);\n        const point3 = new vf.Point((longWidth * 0.5 + downWidth * 0.5) * scaleWidth - w, downY);\n        const point4 = new vf.Point((longWidth * 0.5 + upWidth * 0.5) * scaleWidth - w, upY);\n        this._path.push(point1, point2, point3, point4);\n\n    }\n\n}","import { DisplayObject } from '../core/DisplayObject';\nimport { ComponentEvent } from '../interaction/Index';\nimport * as UIKeys from '../core/DisplayLayoutKeys';\nimport { getSource, hexToInt, hexListToIntList, debug } from '../utils/Utils';\n/**\n * 文本\n *\n * 中文换行特殊处理 xxxx.style.breakWords = true;\n *\n * 当文本容器设置宽高后，文字默认会根据文本容器宽高居中.\n *\n * 当文本容器设置宽高后，可通过 style.textAlign 进行文字位置调整\n *\n * @example let label = new vf.gui.Label();\n *\n */\nexport class Label extends DisplayObject {\n    public readonly sprite: vf.Text;\n    private _lineGraphics: any;\n    private _textDecorationWidth = 3; //线条宽度\n    private _textDecorationStyle: 'Solid' | 'Double' = 'Solid'; //线条样式\n    private _textAlpha = 1;\n\n    private readonly _defaultColor = 0xffffff;\n    private _color?: number | number[] | string | string[] = this._defaultColor;\n\n    public constructor(text = '') {\n        super();\n        this.sprite = new vf.Text(text, { breakWords: true, fill: '0xffffff', align: this.style.textAlign });\n        this.container.addChild(this.sprite);\n        this.on(ComponentEvent.WIDTH_CHANGE, this.onWidthChange, this);\n    }\n\n    private get widthNoShadow() { // 文本排版尺寸排除阴影相关  但是绘制尺寸需要加上阴影  所以在这里去掉\n        const width = this.sprite.width;\n        const style = this.sprite.style;\n        const shadowW = Math.max(0, Math.cos(style.dropShadowAngle) * style.dropShadowDistance);\n        if (!style.dropShadow) {\n            return width;\n        }\n        return Math.ceil(width - shadowW);\n    }\n    private get heightNoShadow() {\n        const height = this.sprite.height;\n        const style = this.sprite.style;\n        const shadowH = Math.max(0, Math.sin(style.dropShadowAngle) * style.dropShadowDistance);\n        if (!style.dropShadow) {\n            return height;\n        }\n        return Math.ceil(height - shadowH);\n    }\n    private onWidthChange(width: number) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        if (isNaN(this.style.wordWrapWidth!)) {\n            this.sprite.style.wordWrapWidth = width;\n        }\n    }\n\n    /**\n     * 设置分辨力比例\n     */\n    public get resolution() {\n        return this.sprite.resolution;\n    }\n    public set resolution(value) {\n        this.sprite.resolution = value;\n    }\n\n\n    public get fillColor() {\n        return this.style.fillColor;\n    }\n    public set fillColor(value: number[] | number[][]) {\n        if (value.length === 0) {\n            this.sprite.style.fill = undefined;\n        } else {\n            if (Array.isArray(value[0])) {\n                this.sprite.style.fill = [];\n                const items: string[] = [];\n                value.forEach((item: any) => {\n                    items.push(`rgba(${item[0]}, ${item[1]}, ${item[2]}, ${item[3]})`)\n                });\n                this.sprite.style.fill = items;\n            } else {\n                this.sprite.style.fill = `rgba(${value[0]}, ${value[1]}, ${value[2]}, ${value[3]})`;\n            }\n\n        }\n    }\n    public set fillAlpha(value: number) {\n        // 不需要单独实现\n    }\n    /**\n     * 文本颜色\n     */\n    public get color() {\n        return this._color;\n    }\n\n    public set color(value) {\n        const color = hexListToIntList(value, undefined);\n        if (this._color === color) {\n            return;\n        }\n        this.sprite.style.fill = this._color = color;\n        // this.style.color 不要直接这样赋值，会递归\n        (this.style as any)._color = color;\n        this.invalidateDisplayList();\n    }\n\n    /**\n     * 文字透明度\n     */\n    public get textAlpha() {\n        return this._textAlpha;\n    }\n    public set textAlpha(value) {\n        if (this._textAlpha === value) {\n            return;\n        }\n        this.sprite.alpha = this._textAlpha = value;\n        this.invalidateDisplayList();\n    }\n\n    public get textDecorationStyle(): 'Solid' | 'Double' {\n        return this._textDecorationStyle;\n    }\n\n    public set textDecorationStyle(value: 'Solid' | 'Double') {\n        if (this._textDecorationStyle === value) {\n            return;\n        }\n        this._textDecorationStyle = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * 文本内容\n     */\n    public get text() {\n        return this.sprite.text;\n    }\n    public set text(value) {\n        if (this.sprite.text === value) {\n            return;\n        }\n        this.sprite.text = value;\n        this.setActualSize(this.widthNoShadow, this.heightNoShadow);\n        this.invalidateSize();\n        this.invalidateDisplayList();\n        this.emit(ComponentEvent.CHANGE, this);\n    }\n\n    public set fontCssStyle(value: any) {\n        if (value.color) {\n            value.fill = value.color;\n        }\n        value.breakWords = true;\n        this.sprite.style = value;\n        if (value.fontFamily) {\n            this.sprite.style.fontFamily = value.fontFamily;\n        }\n\n        this.setActualSize(this.widthNoShadow, this.heightNoShadow);\n        this.invalidateSize();\n        this.invalidateDisplayList();\n    }\n\n    private setLine() {\n        const type = this.style.textDecoration;\n        this.clearLineGraphics();\n        if (\n            type == 'None' ||\n            !this.sprite ||\n            !this.sprite.text ||\n            this.sprite.text == ''\n        ) {\n            return;\n        } else {\n            this.cacheOldData();\n            this.showUnderLine();\n        }\n    }\n\n    private showUnderLine(): void {\n        if (!this._lineGraphics) {\n            this._lineGraphics = new vf.Graphics();\n        }\n        if (!this._lineGraphics.parent) {\n            this.container.addChild(this._lineGraphics);\n        }\n        //画线\n        this.autoDrawLine();\n    }\n\n    private autoDrawLine() {\n        const vfMeasured = this.sprite.vfMeasured; //vf.TextMetrics.measureText(this.text, this.sprite.style, this.style.wordWrap);////\n        if (vfMeasured == null) {\n            console.log('文本渲染参数未初始化');\n            return;\n        }\n        this._textDecorationWidth = this.style.fontSize / 10 + 1;\n        let leftX: number = Number.MAX_VALUE;\n        const lineInfo = []; //线条的信息\n        const linesNum = vfMeasured.lines.length;\n\n        for (let i = 0; i < linesNum; i++) {\n            const x = this.getStartPosX(vfMeasured.lineWidths[i]);\n            const liney = this.getStartPosY(vfMeasured.lineHeight, i);\n            leftX = leftX < x ? leftX : x;\n            lineInfo.push({\n                leftX: x,\n                lineY: liney,\n                lineWidths: vfMeasured.lineWidths[i],\n            });\n        }\n\n        const spriteY = this.sprite.y;\n        for (let i = 0; i < lineInfo.length; i++) {\n            const infoItem = lineInfo[i];\n            const x = infoItem.leftX;\n            this.drawLine(x, infoItem.lineY + spriteY, infoItem.lineWidths);\n        }\n    }\n\n    private getStartPosX(width: number): number {\n        const textAlign = this.style.textAlign; //整体在容器的位置\n        let startPosX = 0;\n        switch (textAlign) {\n            case 'left':\n                startPosX = 0;\n                break;\n            case 'right':\n                startPosX = this.width - width;\n                break;\n            case 'center':\n                startPosX = (this.width - width) * 0.5;\n                break;\n        }\n        return startPosX;\n    }\n\n    private getStartPosY(height: number, lineIndex: number): number {\n        const vfMeasured = this.sprite.vfMeasured;\n        let startPosY = 0;\n        const type = this.style.textDecoration;\n        const strok = this.sprite.style.strokeThickness;\n        const dis = vfMeasured.fontProperties.fontSize + strok;\n        const lineOffsetY = 1;\n        switch (type) {\n            case 'None':\n                break;\n            case 'UnderLine':\n                startPosY = (lineIndex) * height + lineOffsetY + dis;\n                break;\n            case 'LineThrough':\n                startPosY = (lineIndex) * height + dis * 0.5;\n                break;\n            case 'Overline':\n                startPosY = lineIndex * height;\n                break;\n        }\n\n        return startPosY;\n    }\n\n    private drawLine(startPosX: number, startPosY: number, lineWidth: number) {\n        const lineG = this._lineGraphics as vf.Graphics;\n        const style = this._textDecorationStyle;\n\n        switch (style) {\n            case 'Solid':\n                lineG.lineStyle(\n                    this._textDecorationWidth,\n                    this.style.textDecorationColor\n                );\n                lineG.moveTo(startPosX, startPosY);\n                lineG.lineTo(startPosX + lineWidth, startPosY);\n                break;\n            case 'Double':\n                lineG.lineStyle(\n                    this._textDecorationWidth * 0.5,\n                    this.style.textDecorationColor\n                );\n                lineG.moveTo(startPosX, startPosY);\n                lineG.lineTo(startPosX + lineWidth, startPosY);\n                lineG.moveTo(\n                    startPosX,\n                    startPosY + this._textDecorationWidth * 1\n                );\n                lineG.lineTo(\n                    startPosX + lineWidth,\n                    startPosY + this._textDecorationWidth * 1\n                );\n                break;\n        }\n    }\n    /**\n     * 测量显示对象宽高，如果子类没有重写，默认是this.container.width..\n     */\n    protected measure(): void {\n        const values = this.$values;\n        values[UIKeys.measuredWidth] = this.widthNoShadow;\n        values[UIKeys.measuredHeight] = this.heightNoShadow;\n    }\n    protected updateDisplayList(\n        unscaledWidth: number,\n        unscaledHeight: number\n    ): void {\n        super.updateDisplayList(unscaledWidth, unscaledHeight);\n        const values = this.$values;\n\n        if (!isNaN(values[UIKeys.explicitWidth])) {\n            switch (this.style.textAlign) {\n                case 'left':\n                    this.sprite.x = 0;\n                    break;\n                case 'right':\n                    this.sprite.x =\n                        values[UIKeys.explicitWidth] - this.widthNoShadow;\n                    break;\n                case 'center':\n                    this.sprite.x =\n                        (values[UIKeys.explicitWidth] - this.widthNoShadow) >> 1;\n                    break;\n            }\n        }\n\n        if (!isNaN(values[UIKeys.explicitHeight])) {\n            switch (this.style.verticalAlign) {\n                case 'top':\n                    this.sprite.y = 0;\n                    break;\n                case 'bottom':\n                    this.sprite.y =\n                        values[UIKeys.explicitHeight] - this.sprite.height;\n                    break;\n                case 'middle':\n                    this.sprite.y =\n                        (values[UIKeys.explicitHeight] - this.sprite.height) >>\n                        1;\n                    break;\n            }\n        }\n        this.setLine();\n    }\n\n    private cacheOldData() {\n        if (isNaN(this.style.textDecorationColor) || this.style.textDecorationColor === undefined || this.style.textDecorationColor === null) {\n            let color: any = this._defaultColor;\n            if (this.style.color !== undefined) {\n                if (typeof this.style.color === 'number') {\n                    color = this.style.color;\n                } else {\n                    let color: any = (this.style\n                        .color as number[])[0].toString();\n                    color = hexToInt(color, color);\n                }\n                this.style.textDecorationColor = color;\n            }\n            this.style.textDecorationColor = color;\n        }\n    }\n\n    private clearLineGraphics() {\n        const graphics = this._lineGraphics;\n        if (graphics) {\n            if (graphics.parent) {\n                graphics.parent.removeChild(this._lineGraphics);\n            }\n            graphics.clear();\n        }\n    }\n\n    public release() {\n        super.release();\n        const sprite = this.sprite;\n        if (sprite && sprite.parent) {\n            sprite.parent.removeChild(sprite).destroy();\n        }\n        this.offAll(ComponentEvent.CHANGE);\n        this.clearLineGraphics();\n        this._textDecorationStyle = 'Solid';\n        this._textDecorationWidth = 3;\n        this.off(ComponentEvent.WIDTH_CHANGE, this.onWidthChange, this);\n        this._color = 0xfffff0;\n    }\n}\n","import { GraphBase } from './private/GraphBase'\nimport { GraphicsCore } from \"./private/GraphicsCore\";\nimport { path2shapes, toSVGStr, ParseDataItem } from \"../utils/Utils\"\n\n// export class ParseDataItem {\n//     type: \"M\" | \"L\" | \"Q\" | \"C\" = \"M\";\n//     x = 0;\n//     y = 0;\n//     ct1X = 0;\n//     ct1Y = 0;\n//     ct2X = 0;\n//     ct2Y = 0;\n// }\n\nexport enum ArrowType {\n    None,\n    HollowCircle,\n    FullCircle,\n    HollowRect,\n    FullRect,\n    HollowArrow,\n    FullArrow,\n    line\n}\n\n/**\n * 矢量绘制\n * \n * @example let graphics = new vf.gui.Graphics();\n * \n */\nexport class PathGraphics extends GraphBase {\n\n    public constructor() {\n        super();\n        this._graphicsBegin = new GraphicsCore();\n        this.container.addChild(this._graphicsBegin);\n        this._graphicsEnd = new GraphicsCore();\n        this.container.addChild(this._graphicsEnd);\n    }\n\n    private _path = \"\";\n    private _pathData: any = [];\n    private _beginPort: ArrowType = ArrowType.None;\n    private _endPort: ArrowType = ArrowType.None;\n    private _graphicsBegin: GraphicsCore;\n    private _graphicsEnd: GraphicsCore;\n    private _beginRotation = NaN;\n    private _endRotation = NaN;\n    private _isSvgPath = true;\n\n    public get path() {\n        return this._path;\n    }\n    public set path(value) {\n        if (this._path === value) {\n            return;\n        }\n        this._path = value;\n        if (Array.isArray(value)) {\n            this._isSvgPath = false;\n            this._pathData = value;\n        } else {\n            this._isSvgPath = true;\n            this._pathData = path2shapes(value);\n        }\n        this.invalidateDisplayList();\n    }\n\n    public get beginPort() {\n        return this._beginPort;\n    }\n    public set beginPort(value) {\n        if (this._beginPort === value) {\n            return;\n        }\n        this._beginPort = value;\n        this.invalidateDisplayList();\n    }\n\n    public get endPort() {\n        return this._endPort;\n    }\n    public set endPort(value) {\n        if (this._endPort === value) {\n            return;\n        }\n        this._endPort = value;\n        this.invalidateDisplayList();\n    }\n\n    public drawGraph() {\n        const { graphics, _graphicsBegin, _graphicsEnd } = this;\n        graphics.clear();\n        _graphicsBegin.clear();\n        _graphicsEnd.clear();\n        if (this._lineWidth < 0) {\n            console.log(\"属性错误，线宽小于0\");\n            return;\n        }\n        graphics.lineStyle(this._lineWidth, this._lineColor, this._lineAlpha, 0.5, false, this.lineType);\n        _graphicsBegin.lineStyle(this._lineWidth, this._lineColor, this._lineAlpha);\n        _graphicsEnd.lineStyle(this._lineWidth, this._lineColor, this._lineAlpha);\n\n        const length = this._pathData.length;\n        if (length <= 0) {\n            return;\n        }\n\n\n        if (this._color !== undefined)\n            graphics.beginFill(this._color, this._fillAlpha);\n        this.drawInfoData();\n        graphics.endFill();\n\n        if (this._beginPort !== ArrowType.None) {\n            const beginShapeList = this._pathData[0];\n            const beginShape = beginShapeList[0];\n            this._beginRotation = graphics.getLineRotation(this.getType(beginShape), true, beginShape[0], beginShape[1], beginShape[6], beginShape[7], beginShape[2], beginShape[3], beginShape[4], beginShape[5]);\n            this.drawBeginPort();\n\n        }\n        if (this._endPort !== ArrowType.None) {\n            const endShapeList = this._pathData[this._pathData.length - 1];\n            const endShape = endShapeList[endShapeList.length - 1];\n            this._endRotation = graphics.getLineRotation(this.getType(endShape), false, endShape[0], endShape[1], endShape[6], endShape[7], endShape[2], endShape[3], endShape[4], endShape[5]);\n            this.drawEndPort();\n        }\n    }\n\n    private getType(data: any) {\n        if (data[2] === data[4] && data[3] === data[5]) {\n            return \"Q\";\n        }\n        return \"C\";\n    }\n    /**\n     * 新的解析方式\n     */\n    private drawInfoData() {\n        const { graphics } = this;\n        const lastPoint: any = {};\n        (this._pathData as any).map((shape: any) => {\n\n            shape.forEach((point: any, idx: any) => {\n                if (!idx) {\n                    /*\n                     * 若是第一个点数组，那么对该点数组的处理是前面加M,然后前两个点后面加C\n                     * */\n                    graphics.moveTo(Math.ceil(point[0]), Math.ceil(point[1]));\n                    lastPoint.x = Math.ceil(point[0]);\n                    lastPoint.y = Math.ceil(point[1]);\n\n                }\n                /*\n                 * 除了第一个点数据外,所有的点数组的前两个点是初始点\n                 * */\n                if (this.getType(point) === \"Q\") {\n                    graphics.quadraticCurveTo(point[2], point[3], Math.ceil(point[6]), Math.ceil(point[7]));\n                } else {\n                    graphics.bezierCurveTo(point[2], point[3], point[4], point[5], Math.ceil(point[6]), Math.ceil(point[7]));\n                }\n                lastPoint.x = Math.ceil(point[6]);\n                lastPoint.y = Math.ceil(point[7]);\n            });\n\n        })\n    }\n\n    // private drawInfo() {\n    //     const { graphics } = this;\n    //     const lastPoint: any = {};\n    //     for (let i = 0; i < length; i++) {\n    //         const item = this._pathData[i];\n\n    //         switch (item.type) {\n    //             case \"M\":\n    //                 graphics.moveTo(item.x, item.y);\n    //                 lastPoint.x = item.x;\n    //                 lastPoint.y = item.y;\n    //                 break;\n    //             case \"L\":\n    //                 graphics.lineTo(item.x, item.y);\n    //                 break;\n    //             case \"Q\":\n    //                 graphics.quadraticCurveTo(item.ct1X, item.ct1Y, item.x, item.y);\n    //                 break;\n    //             case \"C\":\n    //                 graphics.moveTo(lastPoint.x, lastPoint.y);\n    //                 if (item.ct1X === item.ct2X && item.ct1Y === item.ct2Y) {\n    //                     graphics.quadraticCurveTo(item.ct1X, item.ct1Y, item.x, item.y);\n    //                     break;\n    //                 }\n    //                 graphics.bezierCurveTo(item.ct1X, item.ct1Y, item.ct2X, item.ct2Y, item.x, item.y);\n    //                 break;\n    //         }\n    //         lastPoint.x = item.x;\n    //         lastPoint.y = item.y;\n    //     }\n    //     const beginLine = this._pathData[1];\n    //     const endLine = this._pathData[length - 1];\n    //     this._beginRotation = graphics.getLineRotation(beginLine.type, true, this._pathData[0].x, this._pathData[0].y, beginLine.x, beginLine.y, beginLine.ct1X, beginLine.ct1Y, beginLine.ct2X, beginLine.ct2Y);//this.setBeiginRotation();\n    //     this._endRotation = graphics.getLineRotation(endLine.type, false, this._pathData[length - 2].x, this._pathData[length - 2].y, endLine.x, endLine.y, endLine.ct1X, endLine.ct1Y, endLine.ct2X, endLine.ct2Y);//this.setBeiginRotation();\n    //     this.drawPortShape();\n    // }\n\n    // private drawPortShape() {\n    //     this.drawBeginPort();\n    //     this.drawEndPort();\n    // }\n\n    private drawBeginPort() {\n        this.drawShape(this.beginPort, true);\n    }\n\n    private drawEndPort() {\n        this.drawShape(this.endPort, false);\n    }\n\n    private drawShape(shapeType: ArrowType, isBegin = true) {\n        const graphics = isBegin ? this._graphicsBegin : this._graphicsEnd;\n        const pathData = this._pathData;\n        const lineWidth = this._lineWidth;\n        let shapeList = pathData[0];\n        let shapeData = shapeList[0];\n        if (!isBegin) {\n            shapeList = pathData[pathData.length - 1];\n            shapeData = shapeList[shapeList.length - 1];\n        }\n        const centerPoint = isBegin ? new vf.Point(shapeData[0], shapeData[1]) : new vf.Point(shapeData[6], shapeData[7]);\n        graphics.x = centerPoint.x;\n        graphics.y = centerPoint.y;\n\n        const rotation = isBegin ? this._beginRotation : this._endRotation;\n        graphics.rotation = rotation//isNaN(rotation) ? 0 : rotation;\n        let point1;\n        let point2;\n        let point3;\n\n        switch (shapeType) {\n            case ArrowType.FullRect:\n            case ArrowType.HollowRect:\n                shapeType === ArrowType.FullRect && graphics.beginFill(this.lineColor, this._fillAlpha);\n                graphics.drawRect(-lineWidth * 5, 0, lineWidth * 10, lineWidth * 10);\n                graphics.endFill();\n                break;\n            case ArrowType.FullCircle:\n            case ArrowType.HollowCircle:\n                shapeType === ArrowType.FullCircle && graphics.beginFill(this.lineColor, this._fillAlpha);\n                graphics.drawCircle(-lineWidth * 5, 0, lineWidth * 5);\n                graphics.endFill();\n                graphics.rotation -= Math.PI * 0.5;\n                break;\n            case ArrowType.FullArrow:\n            case ArrowType.HollowArrow:\n                shapeType === ArrowType.FullArrow && graphics.beginFill(this.lineColor, this._fillAlpha);\n                point1 = new vf.Point(-lineWidth * 5, -lineWidth * 5);\n                point2 = new vf.Point(0, 0);\n                point3 = new vf.Point(lineWidth * 5, -lineWidth * 5);\n                graphics.drawPolygonOne([point1, point2, point3], false);\n                graphics.endFill();\n                break;\n            case ArrowType.line:\n                graphics.moveTo(-lineWidth * 5, 0);\n                graphics.lineTo(lineWidth * 5, 0);\n                break;\n        }\n\n    }\n    /**\n  * svg格式线条 解析\n  * \n  * M 表示MoveTo\n   *   L 表示LineTo，\n   *   Q表示二次贝塞尔曲线\n   *   C 表示三次贝塞尔曲线\n  */\n\n\n    // private parseSvgPath(p: string) {\n    //     let pathList = [];\n    //     const tempList = [];\n    //     if (p && p.length > 0) {\n    //         p = p.replace(/,+/g, ' ');\n    //         p = p.replace(/M+/g, ' M ');\n    //         p = p.replace(/Q+/g, ' Q ');\n    //         p = p.replace(/L+/g, ' L ');\n    //         p = p.replace(/C+/g, ' C ');\n    //         p = p.replace(/\\s+/g, ' ');\n\n\n    //         p = p.toUpperCase();\n    //         pathList = p.split(\" \");\n\n    //         // list to json\n    //         let dis = 1;\n    //         for (let i = 0; i < pathList.length; i = i + dis) {\n    //             const item = pathList[i];\n    //             if (item !== \"M\" && item !== \"Q\" && item !== \"L\" && item !== \"C\") {\n    //                 dis = 1;\n    //                 continue;\n    //             }\n    //             if (item === \"Q\") {\n    //                 dis = 4;\n    //             } else if (item === \"C\") {\n    //                 dis = 6;\n    //             } else {\n    //                 dis = 2;\n    //             }\n    //             const dataItem = new ParseDataItem();\n    //             dataItem.type = item;\n    //             switch (item) {\n    //                 case \"M\":\n    //                 case \"L\":\n    //                     if (pathList[i + 1] && pathList[i + 2]) {\n    //                         dataItem.x = Number(pathList[i + 1]);\n    //                         dataItem.y = Number(pathList[i + 2]);\n    //                     }\n    //                     break;\n    //                 case \"Q\":\n    //                     if (pathList[i + 1] && pathList[i + 2] && pathList[i + 3] && pathList[i + 4]) {\n    //                         dataItem.ct1X = Number(pathList[i + 1]);\n    //                         dataItem.ct1Y = Number(pathList[i + 2]);\n    //                         dataItem.x = Number(pathList[i + 3]);\n    //                         dataItem.y = Number(pathList[i + 4]);\n    //                     }\n    //                     dis = 4;\n    //                     break;\n    //                 case \"C\":\n    //                     if (pathList[i + 1] && pathList[i + 2] && pathList[i + 3] && pathList[i + 4] && pathList[i + 5] && pathList[i + 6]) {\n    //                         dataItem.ct1X = Number(pathList[i + 1]);\n    //                         dataItem.ct1Y = Number(pathList[i + 2]);\n    //                         dataItem.ct2X = Number(pathList[i + 3]);\n    //                         dataItem.ct2Y = Number(pathList[i + 4]);\n    //                         dataItem.x = Number(pathList[i + 5]);\n    //                         dataItem.y = Number(pathList[i + 6]);\n    //                     }\n    //                     dis = 6;\n    //                     break;\n    //             }\n    //             tempList.push(dataItem);\n\n    //         }\n\n    //     }\n    //     return tempList;\n    // }\n\n\n    public release() {\n        this._path = \"\";\n        this._pathData = [];\n        this._beginPort = ArrowType.None;\n        this._endPort = ArrowType.None;\n        this._beginRotation = NaN;\n        this._endRotation = NaN;\n        if (this._graphicsBegin.parent) {\n            this._graphicsBegin.parent.removeChild(this._graphicsBegin).destroy();\n        }\n        if (this._graphicsEnd.parent) {\n            this._graphicsEnd.parent.removeChild(this._graphicsEnd).destroy();\n        }\n        super.release();\n    }\n}","import { updateTextureFill } from '../core/plugs/LineGradient';\nimport { GraphBase } from './private/GraphBase'\nexport class Polygon extends GraphBase {\n    public constructor() {\n        super();\n    }\n\n    private path: vf.Point[] = [];\n    private PI_2 = Math.PI * 2;\n    private _triangleNum = 5; // 默认角数  这个值需要大于1才行\n    private RADIUS_V = 1; //外半径默认值\n    public drawGraph() {\n        const graphics = this.graphics;\n        graphics.clear();\n\n        this.path = [];\n        if (this._triangleNum <= 1 || this._lineWidth < 0) {\n            console.log(\"属性错误，线宽小于0或者角数错误\");\n            return;\n        }\n        graphics.lineStyle(this._lineWidth, this._lineColor, this._lineAlpha, 0.5, false, this.lineType);\n        this.setStarPath();\n        if (this.color) {\n            graphics.beginFill(this._color, this._fillAlpha);\n        } else {\n            updateTextureFill(this.graphics,this);\n        }\n        graphics.drawPolygonOne(this.path);\n        graphics.endFill();\n\n    }\n\n    public get triangleNum() {\n        return this._triangleNum;\n    }\n\n    public set triangleNum(value) {\n        this._triangleNum = value;\n        this.invalidateDisplayList();\n    }\n\n    private setStarPath() {\n        const radius = this.RADIUS_V;\n        const triangleNum = this._triangleNum;\n        const PI_2 = this.PI_2;\n        const startAngle = (-1 * Math.PI / 2);\n        const len = triangleNum;\n        const delta = PI_2 / len;\n\n        const scaleWidth = this.width > 0 ? this.width / (radius * 2) : 1;\n        const scaleHeight = this.height > 0 ? this.height / (radius * 2) : 1;\n        const anchorX = this._anchorX ? this._anchorX : 0;\n        const anchorY = this._anchorY ? this._anchorY : 0;\n        for (let i = 0; i < len; i++) {\n            const angle = (i * delta) + startAngle;\n            const pX = (radius * Math.cos(angle) + anchorX + radius) * scaleWidth;\n            const pY = (radius * Math.sin(angle) + anchorY + radius) * scaleHeight;\n            const point = new vf.Point(pX, pY);\n            this.path.push(point);\n        }\n    }\n}","import { updateTextureFill } from '../core/plugs/LineGradient';\nimport { GraphBase } from './private/GraphBase'\n\n/**\n * 绘制矩形或圆角矩形\n * \n * 不设置 lineWidth 或 color 矩形不可见\n * \n * @example let rect = new vf.gui.Rect();\n * \n */\nexport class Rect extends GraphBase {\n    public constructor() {\n        super();\n    }\n\n    public drawGraph() {\n        const graphics = this.graphics;\n        graphics.clear();\n        if (this._lineWidth < 0) {\n            console.log(\"属性错误，线宽小于0\");\n            return;\n        }\n        graphics.lineStyle(this._lineWidth, this._lineColor, this._lineAlpha, 0.5, false, this.lineType);\n\n        if (this.color) {\n            graphics.beginFill(this._color, this._fillAlpha);\n        } else {\n            updateTextureFill(this.graphics,this);\n        }\n\n        graphics.drawRoundedRect(this._anchorX ? -this._anchorX * this.width : 0, this._anchorY ? -this._anchorY * this.height : 0, this.width, this.height, this._radius); // 去掉_radius最小15限制，部分设备可能出现问题\n        graphics.endFill();\n    }\n\n}","import {Slider} from \"./Slider\";\nimport {ScrollingContainer} from \"./ScrollingContainer\";\nimport { Tween } from \"../tween/Tween\";\nimport {Image} from \"./Image\";\nimport { ComponentEvent,InteractionEvent } from \"../interaction/Index\";\nimport { Easing } from \"../tween/Easing\";\nimport * as Utils from \"../utils/Utils\";\n\n/**\n * UI 带有滚动条的容器\n */\nexport class ScrollBar extends Slider {\n    public constructor() {\n        super();\n        this.thumbImg.on(ComponentEvent.COMPLETE,this.onThumbLoadComplete, this);\n    }\n\n    /**\n     * 是的自动隐藏滚动条\n     */\n    public autohide = true;\n    private _scrollingContainer: ScrollingContainer | undefined;\n    private _hidden = false;\n\n    protected toggleHidden(hidden: boolean) {\n        if (this.autohide) {\n            if (hidden && !this._hidden) {\n                //Tween.to(this, { alpha: 0 }, 200).start();\n                this.alpha = 0;\n                this._hidden = true;\n            }\n            else if (!hidden && this._hidden) {\n                //Tween.to(this, { alpha: 1 }, 200).start();\n                this.alpha = 1;\n                this._hidden = false;\n            }\n        }\n    }\n\n    protected onThumbLoadComplete(rectangle: vf.Rectangle,source: Image){\n        this.alignToContainer();\n    }\n\n    protected triggerValueChanging() {\n        super.triggerValueChanging();\n        const scrollingContainer = this._scrollingContainer;\n        if (scrollingContainer) {\n            const sizeAmt = scrollingContainer.explicitHeight / scrollingContainer.innerContainer.height || 0.001;\n            if (sizeAmt < 1)\n                scrollingContainer.forcePctPosition(this.vertical ? \"y\" : \"x\", this._amt);\n        }\n    }\n\n    private _source: any;\n    public get source(): ScrollingContainer | string | undefined {\n        return this._source;\n    }\n    public set source(value: ScrollingContainer | string | undefined) {\n\n        if(this._source === value ){\n            return;\n        }\n        this._source = value;\n        \n        this.invalidateProperties();\n        \n    }\n\n    private _dragScrolling = true;\n    public get dragScrolling(): boolean {\n        return this._source;\n    }\n    public set dragScrolling(value: boolean) {\n\n        if(this._dragScrolling === value ){\n            return;\n        }\n        this._dragScrolling = value;\n        \n        this.invalidateProperties();\n        \n    }\n\n    protected commitProperties() {\n\n        if (this._scrollingContainer !== Utils.getDisplayObject(this._source,this)) {\n            if(this._scrollingContainer){\n                this._scrollingContainer.off(ComponentEvent.CHANGE, this.alignToContainer, this);\n                this._scrollingContainer.off(ComponentEvent.RESIZE,this.alignToContainer,this);\n            }\n            const scrollingContainer = this._scrollingContainer = Utils.getDisplayObject(this._source,this) as ScrollingContainer;\n            scrollingContainer.expandMask = 2;\n            scrollingContainer.softness = 0.2;\n            scrollingContainer.on(ComponentEvent.CHANGE, this.alignToContainer, this);\n            scrollingContainer.on(ComponentEvent.RESIZE,this.alignToContainer,this);\n        } \n\n        const scrollingContainer = this._scrollingContainer;\n        if (scrollingContainer) {\n            scrollingContainer.dragScrolling = this._dragScrolling;\n            if(this.vertical) {\n                scrollingContainer.scrollY = true;\n                if(this.parent)\n                this.height = this.parent.height;\n            }else{\n                scrollingContainer.scrollX = true;\n                if(this.parent)\n                this.width = this.parent.width;\n            }\n            this.alignToContainer();\n        }\n    }\n\n    protected alignToContainer() {\n        if (this._scrollingContainer) {\n            const _thumb = this.thumbImg as Image;\n            if (this.vertical) {\n                _thumb.style.width = '100%';\n            }\n            else {\n                _thumb.style.height = '100%';\n            }\n            \n            let newPos;\n            let size;\n            const xORy = this.vertical ? \"y\" : \"x\";\n            const widthORheight = this.vertical ? \"height\" : \"width\";\n            const topORleft = this.vertical ? \"top\" : \"left\";\n            const scrollingContainer = this._scrollingContainer as any;\n            const innerContainer = scrollingContainer.innerContainer as any;\n\n            const _posAmt = !innerContainer[widthORheight] ? 0 : -(innerContainer[xORy] / innerContainer[widthORheight]);\n            const sizeAmt = !innerContainer[widthORheight] ? 1 : scrollingContainer[widthORheight] / innerContainer[widthORheight];\n            //update amt\n            const diff = innerContainer[widthORheight] - scrollingContainer[widthORheight];\n            this._amt = !scrollingContainer[widthORheight] || !diff ? 0 : -(innerContainer[xORy] / diff);\n            const self = this as any;\n            const wh = self[widthORheight];\n            if (sizeAmt >= 1) {\n                size = wh;\n                this.toggleHidden(true);\n            }\n            else {\n                size = wh * sizeAmt;\n                if (this._amt > 1) {\n                    size -= (wh - size) * (this._amt - 1);\n                }\n                else if (this._amt < 0) {\n                    size -= (wh - size) * -this._amt;\n                }\n                this.toggleHidden(false);\n            }\n            _thumb[widthORheight] = size;\n            if(size == _thumb[widthORheight]){\n                this.updatePosition();\n            }\n\n        }\n    }\n\n    protected onDragMove (event: InteractionEvent,offset: vf.Point) {\n        if(this._thumbDrag.id == event.data.identifier){\n            this._amt = !this._maxPosition ? 0 : Math.max(0, Math.min(1, this._startValue + ((this.vertical ? offset.y : offset.x) / this._maxPosition)));\n            // if(this._amt < 0.26){\n            //     this._amt = 0;\n            // }\n            // if(this._amt > 0.75){\n            //     this._amt = 1;\n            // }\n            this.triggerValueChanging();\n            this.updatePosition();\n        }else if(this._trackDrag && this._trackDrag.id == event.data.identifier){\n            this.updatePositionToMouse(event.data.global, false);\n        }\n\n    }\n\n    protected updatePosition(soft?: boolean){\n\n        this.updateLayout();\n        let val = 0;\n        const thumbImg = this.thumbImg;\n        const tracklightImg = this.tracklightImg;\n\n        if (this.vertical) {\n            val = this.explicitHeight * this._amt;\n            const minheight = thumbImg.height/2;\n            const maxheight = this.height - minheight;\n            if(val<minheight){\n                val = minheight;\n            }\n            if(val>maxheight){\n                val = maxheight;\n            }\n            thumbImg.x = this.width / 2;\n            thumbImg.y = val;\n        }\n        else {\n            val = this.explicitWidth* this._amt;\n            const thumbImgWidth = thumbImg.width/2;\n            const maxwidth = this.width - thumbImgWidth;\n            if(val<thumbImgWidth){\n                val = thumbImgWidth;\n            }\n            if(val>maxwidth){\n                val = maxwidth;\n            }\n            thumbImg.y = this.height / 2;\n            thumbImg.x = val;\n        }\n    }\n\n    public release() {\n        super.release();\n        //this.offAll();\n        this.thumbImg.off(ComponentEvent.COMPLETE);\n        this._scrollingContainer = undefined;\n        this._source = undefined;\n\n    }\n\n}","import {Container} from \"./Container\";\nimport { TickerShared } from \"../core/Ticker\";\nimport * as Utils from \"../utils/Utils\";\nimport {DragEvent} from \"../interaction/DragEvent\";\nimport {MouseScrollEvent} from \"../interaction/MouseScrollEvent\";\nimport {InteractionEvent} from \"../event/InteractionEvent\";\nimport { now } from \"../utils/Utils\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { ContainerBase } from \"../core/ContainerBase\";\nimport { DisplayObjectAbstract } from \"../core/DisplayObjectAbstract\";\nimport { ScrollBar } from \"./ScrollBar\";\n\n\n/**\n * 可滚动的容器\n * \n * @example let scrollingContainer = new vf.gui.ScrollingContainer();\n * \n */\nexport class ScrollingContainer extends Container {\n    public constructor() {\n        super();\n        \n        const innerContainer = this._innerContainer\n        this.container.addChild(innerContainer);\n        this.container.name = \"ScrollingContainer\";\n        innerContainer.name = \"innerContainer\";\n        innerContainer.on(\"added\", this.$onAddStage, this);\n        innerContainer.on(\"removed\", this.$onRemoveStage, this);\n        this.scrollMask = new vf.Graphics();\n    }\n    /**\n     * 是否启动拖拽滚动\n     * @default true\n     */\n    private _dragScrolling = false;\n    public get dragScrolling() {\n        return this._dragScrolling;\n    }\n    public set dragScrolling(value) {\n        this._dragScrolling = value;\n        //Drag scroll and Mouse scroll\n        if (value) {\n            this.initDrag();\n            this.mouseScrollEvent && this.mouseScrollEvent.startEvent();\n            this.dragEvent && this.dragEvent.startEvent();\n        }else{\n            this.mouseScrollEvent && this.mouseScrollEvent.stopEvent();\n            this.dragEvent && this.dragEvent.stopEvent();\n        }\n    }\n    /**\n     * 滚动的阻力或柔度 (0-1) \n     * @default 0.5\n     */\n    public softness = 0.5;\n    /** \n     * 滚动条的圆角半径 设置0时，滚动条为直角长方形\n     * @default 0\n     */\n    public radius = 0;\n\n    private scrollMask: vf.Graphics;\n    /**\n     * 遮罩的扩充范围\n     */\n    public expandMask = 0;\n    /** \n     * 是否开启滚动动画 \n     * @default false\n     */\n    public animating = false;\n    /** \n     * 是否启用水平滚动 \n     * @default false\n     */\n    public scrollX = false;\n    /**\n     * 是否滚动中\n     */\n    public scrollY = false;\n    /**\n     * 内容容器\n     * @private\n     */\n    private _innerContainer = new ContainerBase();\n    /**\n     * 内容的宽高\n     */\n    public innerBounds = new vf.Rectangle();\n    /** \n     * 拖动处理类\n     */\n    private dragEvent?: DragEvent;\n    /**\n     * 鼠标滚动\n     */\n    private mouseScrollEvent?: MouseScrollEvent;\n    /**\n     * 是否滚动中\n     */\n    private scrolling = false;\n    /**\n     * 临时方案，设置时间间隔，跳转容器宽高\n     */\n    private _boundCached = now() - 1000;\n\n    private _lastWidth = 0;\n    private _lastHeight = 0;\n\n    private _isInitScrolling = false;\n\n    private _containerStart = new vf.Point();\n    private _targetPosition = new vf.Point();\n    private _lastPosition = new vf.Point();\n    private _Position = new vf.Point();\n    private _Speed = new vf.Point();\n    private _stop = false;\n    private isInitDrag = false;\n\n    protected initDrag(){\n    \n        if(this.isInitDrag){\n            return;\n        }\n        this.dragEvent = new DragEvent(this);\n        this.mouseScrollEvent = new MouseScrollEvent(this,true);\n        this.isInitDrag = true;\n        const _graphics = this.scrollMask = new vf.Graphics();\n        _graphics.clear();\n        _graphics.beginFill(0xffcc00);   \n        _graphics.drawRoundedRect(0,0,200,200,0);\n        _graphics.endFill();\n        this.container.addChild(_graphics);\n        this.container.mask = _graphics;\n\n        this.dragEvent.onDragStart = () => {\n            if (!this.scrolling) {\n                this._containerStart.copyFrom(this._innerContainer.position);\n                this._Position.copyFrom(this._innerContainer.position);\n                this.scrolling = true;\n                this.setScrollPosition();\n                TickerShared.add(this.updateScrollPosition, this);\n            }\n        };\n\n        this.dragEvent.onDragMove = (e: InteractionEvent, offset: vf.Point) => {\n            if (this.scrollX)\n                this._targetPosition.x = this._containerStart.x + offset.x;\n            if (this.scrollY)\n                this._targetPosition.y = this._containerStart.y + offset.y;\n        };\n\n        this.dragEvent.onDragEnd = () => {\n            if (this.scrolling) {\n                this.scrolling = false;\n                TickerShared.remove(this.updateScrollPosition, this);\n            }\n        };\n        \n        const scrollSpeed = new vf.Point();\n        this.mouseScrollEvent.onMouseScroll = (e: WheelEvent,delta: vf.Point) => {\n            scrollSpeed.set(-delta.x * 0.2, -delta.y * 0.2);\n            this.setScrollPosition(scrollSpeed);\n        };\n    }\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        if (this._lastWidth != unscaledWidth || this._lastHeight != unscaledHeight) {\n            super.updateDisplayList(unscaledWidth, unscaledHeight);\n            \n            this._lastWidth = this._innerContainer.width;\n            this._lastHeight = this._innerContainer.height;\n            const scrollMask = this.scrollMask;\n            if(this._dragScrolling && (scrollMask.width !== unscaledWidth || scrollMask.height !== unscaledHeight) ){\n                scrollMask.x = scrollMask.y = this.expandMask;\n                scrollMask.width = unscaledWidth;\n                scrollMask.height = unscaledHeight;\n            }\n            \n            this.setScrollPosition();\n            this.emit(ComponentEvent.RESIZE,this);\n        }\n        \n    }\n\n    protected setScrollPosition(speed?: vf.Point) {\n        if (speed) {\n            this._Speed = speed;\n        }\n\n        if (!this.animating) {\n            this.animating = true;\n            this._lastPosition.copyFrom(this._innerContainer.position);\n            this._targetPosition.copyFrom(this._innerContainer.position);\n            this.updateScrollPosition(0);\n        }\n    }\n\n    public get innerContainer(){\n        return this._innerContainer;\n    }\n\n    public addChild<T extends DisplayObjectAbstract>(item: T): T {\n        if (this._innerContainer.children.length !== this.uiChildren.length) {\n            return this.addChildAt(item, this._innerContainer.children.length);\n        } else {\n            return this.addChildAt(item, this.uiChildren.length);\n        }\n\n    }\n    public addChildAt<T extends DisplayObjectAbstract>(item: T, index: number): T {\n\n        if (item.parent) {\n            item.parent.removeChild(item);\n        }\n\n        item.parent = this as any;    \n        item.$nestLevel = this.$nestLevel + 1;\n        if (!item.initialized) {\n            item.initialized = true;\n            item.$onInit();\n        }\n        this.emit(ComponentEvent.ADD, this);\n        if(item instanceof ScrollBar){\n            //index = this.uiChildren.push(item);\n            //index = Math.min(this.container.children.length,index);\n            this.container.addChild(item.container);\n        }else{\n            index = Math.min(this._innerContainer.children.length,index);\n            this.uiChildren.splice(index, 0, item);\n            this._innerContainer.addChildAt(item.container, index);\n        }\n        this.getInnerBounds(true);\n        return item as any;\n    }\n\n    public getInnerBounds(force?: boolean) {\n\n        //this is a temporary fix, because we cant rely on innercontainer height if the children is positioned > 0 y.\n        if (force || now() - this._boundCached > 1000) {\n            this._innerContainer.getLocalBounds(this.innerBounds);\n            this.innerBounds.height = this.innerBounds.y + this._innerContainer.height;\n            this.innerBounds.width = this.innerBounds.x + this._innerContainer.width;\n            this._boundCached = now();\n        }\n        return this.innerBounds;\n    }\n\n\n\n    $onInit(){\n        super.$onInit();\n        this.initScrolling();\n    }\n    protected initScrolling() {\n\n        this._isInitScrolling = true;\n\n        this.updateScrollBars();\n    }\n\n    protected updateScrollBars() {\n        this.emit(ComponentEvent.CHANGE,this)\n    }\n\n\n    /**\n     * 百分比设置位置\n     * @param direction 方向\n     * @param pct 百分比0-1\n     */\n    public forcePctPosition(direction: \"x\" | \"y\", pct: number) {\n        const bounds = this.getInnerBounds();\n        if (this.scrollX && direction == \"x\") {\n            this._innerContainer.position[direction] = -((bounds.width - this.explicitWidth) * pct);\n        }\n        if (this.scrollY && direction == \"y\") {\n            this._innerContainer[direction] = -((bounds.height - this.explicitHeight) * pct);\n        }\n        this._Position[direction] = this._targetPosition[direction] = this._innerContainer.position[direction];\n    }\n\n    /** 根据焦点设置位置 */\n    public focusPosition(pos: vf.Point) {\n        const bounds = this.getInnerBounds();\n\n        let dif;\n        if (this.scrollX) {\n            const x = Math.max(0, (Math.min(bounds.width, pos.x)));\n            if (x + this._innerContainer.x > this.explicitWidth) {\n                dif = x - this.explicitWidth;\n                this._innerContainer.x = -dif;\n            }\n            else if (x + this._innerContainer.x < 0) {\n                dif = x + this._innerContainer.x;\n                this._innerContainer.x -= dif;\n            }\n        }\n\n        if (this.scrollY) {\n            const y = Math.max(0, (Math.min(bounds.height, pos.y)));\n\n            if (y + this._innerContainer.y > this.explicitHeight) {\n                dif = y - this.explicitHeight;\n                this._innerContainer.y = -dif;\n            }\n            else if (y + this._innerContainer.y < 0) {\n                dif = y + this._innerContainer.y;\n                this._innerContainer.y -= dif;\n            }\n        }\n\n        this._lastPosition.copyFrom(this._innerContainer.position);\n        this._targetPosition.copyFrom(this._innerContainer.position);\n        this._Position.copyFrom(this._innerContainer.position);\n        this.updateScrollBars();\n    }\n\n\n    protected updateScrollPosition(delta: number) {\n        this._stop = true;\n        if (this.scrollX) this.updateDirection(\"x\", delta);\n        if (this.scrollY) this.updateDirection(\"y\", delta);\n        //if (this._stop) {\n            this.animating = false;\n        //}\n    }\n\n    protected updateDirection(direction: \"x\" | \"y\", delta: number) {\n        delta = delta * 0.001;\n\n        const bounds = this.getInnerBounds();\n\n        let min: number;\n        if (direction == \"y\")\n            min = Math.round(Math.min(0, this.explicitHeight - bounds.height));\n        else\n            min = Math.round(Math.min(0, this.explicitWidth - bounds.width));\n\n        if (!this.scrolling && Math.round(this._Speed[direction]) !== 0) {\n\n            this._targetPosition[direction] += this._Speed[direction];\n            this._Speed[direction] = Utils.Lerp(this._Speed[direction], 0, (5 + 2.5 / Math.max(this.softness, 0.01)) * delta);\n\n            if (this._targetPosition[direction] > 0) {\n                this._targetPosition[direction] = 0;\n\n            }\n            else if (this._targetPosition[direction] < min) {\n                this._targetPosition[direction] = min;\n\n            }\n        }\n        \n        if (!this.scrolling && Math.round(this._Speed[direction]) === 0 && (this._innerContainer[direction] > 0 || this._innerContainer[direction] < min)) {\n            const target = this._Position[direction] > 0 ? 0 : min;\n            this._Position[direction] = Utils.Lerp(this._Position[direction], target, (40 - (30 * this.softness)) * delta);\n            this._stop = false;\n        }\n        else if (this.scrolling || Math.round(this._Speed[direction]) !== 0) {\n\n            if (this.scrolling) {\n                this._Speed[direction] = this._Position[direction] - this._lastPosition[direction];\n                this._lastPosition.copyFrom(this._Position);\n            }\n            if (this._targetPosition[direction] > 0) {\n                this._Speed[direction] = 0;\n                this._Position[direction] = 100 * this.softness * (1 - Math.exp(this._targetPosition[direction] / -200));\n            }\n            else if (this._targetPosition[direction] < min) {\n                this._Speed[direction] = 0;\n                this._Position[direction] = min - (100 * this.softness * (1 - Math.exp((min - this._targetPosition[direction]) / -200)));\n            }\n            else {\n                this._Position[direction] = this._targetPosition[direction];\n            }\n            this._stop = false;\n        }\n\n        this._innerContainer.position[direction] = Math.round(this._Position[direction]);\n\n        this.updateScrollBars();\n    }\n\n    public release() {\n        super.release();\n        //this.offAll();\n        TickerShared.remove(this.updateScrollPosition, this);\n        this.dragEvent && this.dragEvent.remove();\n        this.mouseScrollEvent && this.mouseScrollEvent.remove(); \n\n\n    }\n\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport {Image as VfuiImage} from \"./Image\";\nimport * as Utils from \"../utils/Utils\";\nimport {DragEvent,InteractionEvent, ComponentEvent} from \"../interaction/Index\";\nimport { Tween } from \"../tween/Tween\";\nimport { Easing } from \"../tween/Easing\";\n\n/**\n * 滑动条/进度条\n * \n * @example let slider = new vf.gui.Slider();\n * \n */\nexport class Slider extends DisplayObject{\n\n    public constructor(){\n        super();\n        this.thumbImg.container.name = \"thumbImg\";\n        this.thumbImg.fillMode = \"scale\";\n        this.thumbImg.scale9Grid = [0,0,0,0];\n        this.thumbImg.anchorX = 0.5;\n        this.thumbImg.anchorY = 0.5;\n        this.thumbImg.on(ComponentEvent.COMPLETE,this.onImgload, this);\n\n        this.trackImg.container.name = \"trackImg\";\n        this.trackImg.fillMode = \"scale\";\n        this.trackImg.scale9Grid = [2,2,2,2];\n        this.trackImg.style.width = \"100%\";\n        this.trackImg.style.height = \"100%\";\n        this.trackImg.on(ComponentEvent.COMPLETE,this.onImgload, this);\n\n        this.tracklightImg.container.name = \"tracklightImg\";\n        this.tracklightImg.fillMode = \"scale\";\n        this.tracklightImg.scale9Grid = [2,2,2,2];\n        //this.tracklightImg.on(ComponentEvent.COMPLETE,this.onImgload, this);\n\n        this.addChild(this.trackImg);\n        this.addChild(this.tracklightImg);\n        this.addChild(this.thumbImg);\n\n        this._thumbDrag.onDragPress = this.onPress.bind(this);\n        this._thumbDrag.onDragStart = this.onDragStart.bind(this);\n        this._thumbDrag.onDragMove = this.onDragMove.bind(this);\n        this._thumbDrag.onDragEnd = this.onDragEnd.bind(this);\n\n        this._trackDrag.onDragPress = this.onPress.bind(this);\n    }\n    /** \n     * 当前值 \n     */\n    protected _amt = 0;\n    /**\n     * 小数的保留位，0不保留\n     * @default 0\n     */\n    protected _decimals = 0;\n\n    protected _startValue = 0;\n    protected _maxPosition = 0;\n    protected _lastChange = 0;\n    protected _lastChanging = 0;\n    protected _localMousePosition = new vf.Point();\n\n    /** 状态展示 */\n    readonly trackImg = new VfuiImage();\n    readonly thumbImg = new VfuiImage();\n    readonly tracklightImg = new VfuiImage();\n\n    protected _thumbDrag = new DragEvent(this.thumbImg);\n    protected _trackDrag = new DragEvent(this.trackImg);\n\n    /**\n     * 当前值\n     */\n    public get value() {\n        return Utils.Round(Utils.Lerp(this.minValue, this.maxValue, this._amt), this._decimals);\n    }\n    public set value(value: number) {\n        this.valueSystem(value);\n    }\n\n    protected valueSystem(value = 0){\n        this._amt = (Math.max(this.minValue, Math.min(this.maxValue, value)) - this.minValue) / (this.maxValue - this.minValue);\n        this.invalidateDisplayList();\n    }\n\n    /**\n     * 最小值\n     */\n    protected _minValue = 0;\n    public get minValue() {\n        return this._minValue;\n    }\n    public set minValue(value) {\n        if(this._minValue === value){\n            return;\n        }\n        this._minValue = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * 最大值\n     */\n    protected _maxValue = 100;\n    public get maxValue() {\n        return this._maxValue;\n    }\n    public set maxValue(value) {\n        if(this._maxValue === value){\n            return;\n        }\n        this._maxValue = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * 是否垂直,滑块方向\n     */\n    protected _vertical = false;\n    public get vertical() {\n        return this._vertical;\n    }\n    public set vertical(value) {\n        if(this._vertical === value){\n            return;\n        }\n        this._vertical = value;\n        this.invalidateProperties();\n    }\n    /** \n     * 背景\n     */\n    protected _track?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public get track(){\n        return this._track;\n    }\n    public set track(value) {\n        if(value !== this._track){\n            this._track = value;\n            this.trackImg.src = value; \n        }\n    }\n    /** \n     * 手柄\n     */\n    protected _thumb?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public get thumb() {\n        return this._thumb;\n    }\n    public set thumb(value) {\n        if(value !== this._thumb){\n            this._thumb = value;\n            this.thumbImg.src = value; \n        }\n    }\n    /** \n     * 进度\n     */\n    protected _tracklight?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public get tracklight() {\n        return this._tracklight;\n    }\n    public set tracklight(value) {\n        if(value !== this._tracklight){\n            this._tracklight = value;\n            this.tracklightImg.src = value; \n        }\n    }\n\n    protected onImgload(){\n        this.invalidateProperties();\n    }\n\n\n    protected updatePosition(soft?: boolean){\n\n        let val = 0;\n        const thumbImg = this.thumbImg;\n        const tracklightImg = this.tracklightImg;\n\n        if (this.vertical) {\n            val = this.explicitHeight * this._amt;\n            if (soft) {\n                Tween.to({y:thumbImg.y,height:tracklightImg.height},{ y: val,height: val },300).easing(Easing.Linear.None)\n                    .on(Tween.Event.update, (obj: any) => {\n                       \n                        thumbImg.y = obj.y;\n                        //tracklightImg.height = obj.height;\n                        tracklightImg.setSpeiteSize(undefined,obj.height);\n                    }) .start();\n            }\n            else {\n                thumbImg.y = val;\n                tracklightImg.height = val;\n            }\n        }\n        else {\n            val = this.explicitWidth* this._amt;\n            if (soft) {\n                Tween.to({x:thumbImg.x,width:tracklightImg.width},{ x: val,width: val },300).easing(Easing.Linear.None)\n                    .on(Tween.Event.update, (obj: any\n                    ) => {\n                        thumbImg.x = obj.x;\n                        //tracklightImg.width = obj.width;\n                        tracklightImg.setSpeiteSize(obj.width);\n                    }) .start();\n            }\n            else {\n                thumbImg.x = val;\n                tracklightImg.width = val;\n            }\n        }\n    }\n\n    protected onPress (event: InteractionEvent,isPressed: boolean,dragEvent?: DragEvent) {   \n        \n        event.stopPropagation();\n        if(this._trackDrag==dragEvent && this._trackDrag.id == event.data.identifier){\n            if (isPressed){\n                this.updatePositionToMouse(event.data.global, true);\n            }    \n        }\n    }\n\n    protected onDragStart (event: InteractionEvent) {\n        if(this._thumbDrag.id == event.data.identifier){\n            this._startValue = this._amt;\n            this._maxPosition = this.vertical ? this.explicitHeight : this.explicitWidth;\n        }\n    }\n\n    protected onDragMove (event: InteractionEvent,offset: vf.Point) {\n        if(this._thumbDrag.id == event.data.identifier){\n            this._amt = !this._maxPosition ? 0 : Math.max(0, Math.min(1, this._startValue + ((this.vertical ? offset.y : offset.x) / this._maxPosition)));\n            this.triggerValueChanging();\n            this.updatePosition();\n        }else if(this._trackDrag && this._trackDrag.id == event.data.identifier){\n            this.updatePositionToMouse(event.data.global, false);\n        }\n\n    }\n\n    protected onDragEnd (event: InteractionEvent) {\n        if(this._thumbDrag.id == event.data.identifier){\n            this.triggerValueChange();\n            this.updatePosition();\n        }else if(this._trackDrag && this._trackDrag.id == event.data.identifier){\n            this.triggerValueChange();\n        }\n    }\n    protected updatePositionToMouse (mousePosition: vf.Point, soft: boolean) {\n        this.trackImg.container.toLocal(mousePosition, undefined, this._localMousePosition, true);\n\n        const newPos = this.vertical ? this._localMousePosition.y  : this._localMousePosition.x;\n        const maxPos = this.vertical ? this.explicitHeight: this.explicitWidth ;\n        this._amt = !maxPos ? 0 : Math.max(0, Math.min(1, newPos / maxPos));\n        this.updatePosition(soft);\n        this.triggerValueChanging();\n    }\n\n    protected triggerValueChange() {\n        const value = this.value;\n        this.emit(ComponentEvent.CHANGE,this, value,this._lastChange);\n        if (this._lastChange != value) {\n            this._lastChange = value;\n        }\n    }\n\n    protected triggerValueChanging() {\n        const value = this.value;\n        this.emit(ComponentEvent.CHANGEING,this, value,this._lastChanging);\n        if (this._lastChanging != value) {\n            this._lastChanging = value;\n        }\n    }\n\n    public updateLayout(){\n        this.invalidateProperties();\n    }\n    \n    protected commitProperties() {\n        const thumbImg = this.thumbImg;\n        const tracklightImg = this.tracklightImg;\n        if (this.vertical) {\n            thumbImg.y = this._amt;\n            thumbImg.x = this.explicitWidth >> 1;\n            tracklightImg.width =this.width;\n            tracklightImg.height = this._amt * this.height;\n        }else {\n            thumbImg.x = this._amt;\n            thumbImg.y = this.explicitHeight >> 1;\n            tracklightImg.height =this.height;\n            tracklightImg.width =  this._amt * this.width;\n        }\n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) { \n        this.commitProperties();\n        this.updatePosition();\n        super.updateDisplayList(unscaledWidth,unscaledHeight);\n    }\n\n    public release(){\n        super.release();\n        this.trackImg.release();\n        this.thumbImg.release();\n        this.tracklightImg.release();\n    }\n    \n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { log, getTexture, getSheet } from \"../utils/Utils\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n/**\n * 序列图动画\n * \n * 支持使用texturepacker导出以及处理轴点\n * \n * @example let spriteAnimated = new vf.gui.SpriteAnimated();\n * \n */\nexport class SpriteAnimated extends DisplayObject {\n    public constructor() {\n        super();\n        this._animatedSprites = new Map();\n    }\n\n\n    private _animatedSprites: Map<string, vf.AnimatedSprite>;\n    private _lastAnimatedName = \"\";\n    private _curFrameNumber = 0;\n    private _setTimeoutId = -1;\n\n    /**\n     * 要播放的动作名\n     */\n    private _animationName = \"default\";\n    public get animationName() {\n        return this._animationName;\n    }\n    public set animationName(value) {\n        if (this._animationName == value) {\n            return;\n        }\n        this._animationName = value;\n        this.animatedNameSystem();\n    }\n    /**\n     * 序列图路径，或序列图数组\n     */\n    private _src: vf.Spritesheet | vf.Texture[] | vf.AnimatedSprite.FrameObject[] | undefined;\n    public get src(): vf.Spritesheet | vf.Texture[] | vf.AnimatedSprite.FrameObject[] | undefined {\n        return this._src;\n    }\n    public set src(value: vf.Spritesheet | vf.Texture[] | vf.AnimatedSprite.FrameObject[] | undefined) {\n        this._src = value;\n        if (value === undefined) {\n            this.releaseAnimate();\n        } else {\n            this.srcSystem();\n        }\n\n    }\n    /**\n     * 动画速度\n     */\n    private _animationSpeed = 0.1;\n    public get animationSpeed() {\n        return this._animationSpeed;\n    }\n    public set animationSpeed(value) {\n        this._animationSpeed = value;\n        this.attribSystem();\n    }\n    /** \n     * 是的循环\n     */\n    private _loop = false;\n    public get loop() {\n        return this._loop;\n    }\n    public set loop(value) {\n        this._loop = value;\n        this.attribSystem()\n    }\n\n    private _playCount = 0;\n    /** \n     * 循环次数\n     */\n    private _loopCount = 0;\n    public get loopCount() {\n        return this._loopCount;\n    }\n    public set loopCount(value) {\n        this._loopCount = value;\n    }\n    /** \n     * 是否播放中\n     */\n    private _playing = false;\n    public get playing() {\n        return this._playing;\n    }\n\n    /**\n     * 锚点，调整位图的坐标中点 0-1, 可通过 TexturePacker输出sheet图并设置好 anchor\n     */\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        this._anchorX = value;\n        this.attribSystem();\n    }\n    /**\n     * 锚点，调整位图的坐标中点 0-1, 可通过 TexturePacker输出sheet图并设置好 anchor\n     */\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        this._anchorY = value;\n        this.attribSystem();\n    }\n\n    /** 跳转到第N帧并播放 */\n    public gotoAndPlay(frameNumber: number) {\n        this._curFrameNumber = frameNumber;\n        this._playing = true;\n        this.playSystem();\n    }\n\n    /** 跳转到第N帧并停止 */\n    public gotoAndStop(frameNumber: number) {\n\n        this._curFrameNumber = frameNumber;\n        this._playing = false;\n        this.playSystem();\n    }\n\n    /** 停止 */\n    public stop() {\n        this._playCount = 0;\n        this._curFrameNumber = 0;\n        this._playing = false;\n        this.playSystem();\n    }\n\n    /** 播放 */\n    public play() {\n        this._playCount = 0;\n        this._curFrameNumber = 0;\n        this._playing = true;\n        this.playSystem();\n    }\n\n    /**\n     * 请在构造函数后立即设置\n     */\n    public get autoPlay() {\n        return this._playing;\n    }\n    public set autoPlay(value) {\n        this._playing = value;\n    }\n\n    public set isPlay(value: boolean) {\n        if (value) {\n            this.play();\n        } else {\n            this.stop();\n        }\n    }\n\n    /** \n     * 添加动画 \n     */\n    public addAnimated(animationName: string, textures: vf.Texture[] | vf.AnimatedSprite.FrameObject[]) {\n        const sp = this._animatedSprites.get(animationName);\n        if (sp) {\n            if (sp.parent)\n                sp.parent.removeChild(sp);\n            sp.removeAllListeners();\n            sp.destroy();\n        }\n        this._animatedSprites.set(animationName, new vf.AnimatedSprite(textures));\n    }\n\n    public release() {\n        if (this._setTimeoutId) {\n            clearTimeout(this._setTimeoutId);\n        }\n        super.release();\n        this.releaseAnimate();\n        this.src = undefined;\n    }\n\n    protected releaseAnimate() {\n        this._lastAnimatedName = '';\n        this._animatedSprites.forEach(element => {\n            if (element.parent) {\n                element.parent.removeChild(element)\n            }\n            element.removeAllListeners();\n            element.destroy();\n        });\n        this._animatedSprites.clear();\n    }\n\n    protected srcSystem() {\n\n        this.releaseAnimate();\n        const src = getSheet(this.src);\n        if (src) {\n            if (Array.isArray(src)) {\n                const textures: vf.Texture[] = [];\n                src.forEach(value => {\n                    if (value.time) {\n                        value.texture = getTexture(value.texture);\n                        textures.push(value);\n                    } else {\n                        textures.push(getTexture(value));\n                    }\n                });\n                this.addAnimated(\"default\", textures);\n            } else {\n                for (const key in src.animations) {\n                    this.addAnimated(key, src.animations[key]);\n                }\n            }\n            this.animatedNameSystem();\n        }\n    }\n\n    protected animatedNameSystem() {\n\n        if (this._animatedSprites.size == 0) {\n            return;\n        }\n        if (this.animationName === this._lastAnimatedName) {\n            return;\n        }\n        const animatedSp = this._animatedSprites.get(this.animationName);\n        if (animatedSp == undefined) {\n            log(`Warning SpriteAnimated -> _animatedSprites[${this.animationName}] == undefined`);\n            return;\n        }\n        const lastAnimated = this._animatedSprites.get(this._lastAnimatedName);\n        animatedSp.onLoop = () => {\n            this.emit(ComponentEvent.LOOP, this);\n            this._playCount++;\n            if (this._loopCount !== 0 && this._playCount >= this._loopCount) {\n                this.stop();\n            }\n        }\n        animatedSp.onComplete = () => {\n            this.emit(ComponentEvent.COMPLETE, this);\n        }\n        if (animatedSp.parent == undefined) {\n            clearTimeout(this._setTimeoutId);\n            this._setTimeoutId = setTimeout(() => {\n                //绘制会闪烁，与下一帧渲染有关，先临时解决，设置setTimeout\n                this.container.addChild(animatedSp);\n            }, 0);\n\n        }\n\n        if (lastAnimated && lastAnimated.parent) {\n            lastAnimated.stop();\n            lastAnimated.parent.removeChild(lastAnimated);\n        }\n        this._lastAnimatedName = this.animationName;\n\n        this._curFrameNumber = 0;\n        this.emit(ComponentEvent.CHANGE, this, this.animationName);\n\n\n        this.attribSystem();\n        this.playSystem();\n    }\n\n    protected playSystem() {\n        const animatedSp = this._animatedSprites.get(this.animationName);\n        if (animatedSp) {\n            if (this.playing) {\n                animatedSp.gotoAndPlay(this._curFrameNumber);\n            } else {\n                animatedSp.gotoAndStop(this._curFrameNumber);\n            }\n        }\n    }\n\n    protected attribSystem() {\n        const animatedSp = this._animatedSprites.get(this.animationName);\n        if (animatedSp) {\n            animatedSp.loop = this.loop;\n            animatedSp.animationSpeed = this.animationSpeed;\n            animatedSp.anchor.set(this.anchorX, this.anchorY);\n        }\n    }\n\n}","import { updateTextureFill } from '../core/plugs/LineGradient';\nimport { GraphBase } from './private/GraphBase'\nexport class Star extends GraphBase {\n    public constructor() {\n        super();\n    }\n\n    private path: vf.Point[] = [];\n    private PI_2 = Math.PI * 2;\n    private _triangleNum = 5; // 默认角数  这个值需要大于1才行\n    private RADIUS_V = 1; //外半径默认值\n    private _innerRadius: number = this.RADIUS_V / 2;\n    public drawGraph() {\n        const graphics = this.graphics;\n        graphics.clear();\n\n        this.path = [];\n        if (this._triangleNum <= 1 || this._lineWidth < 0) {\n            console.log(\"属性错误，线宽小于0或者角数错误\");\n            return;\n        }\n        graphics.lineStyle(this._lineWidth, this._lineColor, this._lineAlpha, 0.5, false, this.lineType);\n        this.setStarPath();\n\n        if (this.color) {\n            graphics.beginFill(this._color, this._fillAlpha);\n        } else {\n            updateTextureFill(this.graphics,this);\n        }\n\n        graphics.drawPolygonOne(this.path);\n        graphics.endFill();\n\n    }\n    public get triangleNum() {\n        return this._triangleNum;\n    }\n\n    public set triangleNum(value) {\n        this._triangleNum = value;\n        this.invalidateDisplayList();\n    }\n\n    public get innerRadius() {\n        return this._innerRadius;\n    }\n\n    public set innerRadius(value) {\n        this._innerRadius = value;\n        this.invalidateDisplayList();\n    }\n\n    private setStarPath() {\n        const radius = this.RADIUS_V;\n        if (isNaN(this.innerRadius)) {\n            this.innerRadius = radius / 2;\n        }\n        const innerRadius = this.innerRadius;\n\n        const triangleNum = this._triangleNum;\n        const PI_2 = this.PI_2;\n        const startAngle = (-1 * Math.PI / 2);\n        const len = triangleNum * 2;\n        const delta = PI_2 / len;\n\n        // let maxX = Number.MIN_VALUE;\n        // let minX = Number.MAX_VALUE;\n        // let maxY = Number.MIN_VALUE;\n        // let minY = Number.MAX_VALUE;\n        const scaleWidth = this.width > 0 ? this.width / (radius * 2) : 1;\n        const scaleHeight = this.height > 0 ? this.height / (radius * 2) : 1;\n        const anchorX = this._anchorX ? this._anchorX : 0;\n        const anchorY = this._anchorY ? this._anchorY : 0;\n        for (let i = 0; i < len; i++) {\n            const r = i % 2 ? innerRadius : radius;\n            const angle = (i * delta) + startAngle;\n            const pX = (r * Math.cos(angle) + anchorX + radius) * scaleWidth;\n            const pY = (r * Math.sin(angle) + anchorY + radius) * scaleHeight;\n            const point = new vf.Point(pX, pY);\n            // maxX = maxX < pX ? pX : maxX;\n            // minX = minX > pX ? pX : minX;\n            // maxY = maxY < pY ? pY : maxY;\n            // minY = minY > pY ? pY : minY;\n            this.path.push(point);\n        }\n        // -----------这个功能有需要再放开  保证上下左右全部贴边---------------\n        // this.autoSizeShape(maxX, minX, maxY, minY);\n    }\n\n    // private autoSizeShape(maxX: number, minX: number, maxY: number, minY: number) {\n    //     //注意： 由于角数不同  宽高不同  目前图形必定有宽高等于this.width/this.height 如果有性能问题  这里需要改方案 \n    //     let scaleBoo_w: boolean = this.width > 0;\n    //     let scaleBoo_y: boolean = this.height > 0;\n    //     if (!scaleBoo_w && !scaleBoo_y) {\n    //         return;\n    //     }\n    //     let scaleW = 1;\n    //     let scaleH = 1;\n    //     let width = Math.abs(maxX) + Math.abs(minX);\n    //     let height = Math.abs(maxY) + Math.abs(minY);\n    //     if (scaleBoo_w && scaleBoo_y) {\n    //         scaleW = this.width / width;\n    //         scaleH = this.height / height;\n    //     } else if (scaleBoo_w) {\n    //         scaleH = scaleW = this.width / width;\n    //     } else if (scaleBoo_y) {\n    //         scaleH = scaleW = this.height / height;\n    //     }\n    //     for (let i = 0; i < this.path.length; i++) {\n    //         if (i % 2 === 0) {\n    //             this.path[i] *= scaleW;\n    //         } else {\n    //             this.path[i] *= scaleH;\n    //         }\n    //     }\n    // }\n\n}","import HtmlInput from \"./private/HtmlInput\";\nimport { KeyEvent } from \"../event/KeyEvent\";\nimport { componentToHex } from \"../utils/Utils\";\nimport { InputBase } from \"./private/InputBase\";\nimport { Image } from \"./Image\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n\n/**\n * 文本输入\n * \n * @example let textInput = new vf.gui.TextInput(true|false);//单行或多行\n * \n */\nexport class TextInput extends InputBase {\n\n    constructor(multiline = false) {\n        super();\n\n        this.container.interactiveChildren = true;\n\n        this._inputStyle = Object.assign(\n            {\n                position: 'absolute',\n                background: 'none',\n                border: 'none',\n                outline: 'none',\n                transformOrigin: '0 0',\n                padding: '5px 8px',\n                color: '#26272e',\n                lineHeight: '1',\n                fontSize: \"25px\"\n            },\n            {\n                multiline: multiline\n            }\n        ) as any;\n\n        this.htmlInputShared = new HtmlInput(this._inputStyle.multiline);\n        this.htmlInputShared.setStyle(this._inputStyle);\n        this.htmlInputShared.on(KeyEvent.input, this._onInputInput, this);\n        this.htmlInputShared.on('focus', this._onFocused, this);\n        this.htmlInputShared.on('blur', this._onBlurred, this);\n\n        this.img.fillMode = \"scale\";\n        this.img.scale9Grid = [3, 3, 3, 3];\n        this.addChild(this.img);\n\n        this._textHitbox = new vf.Graphics();\n        this._textHitbox.name = \"_textHitbox\";\n        this._textHitbox.alpha = 0;\n        this._textHitbox.interactive = true;\n        this._textHitbox.cursor = 'text';\n        this._textHitbox.on('pointerdown', this._ontextFocus, this);\n        this.container.addChild(this._textHitbox);\n\n        this._textMask = new vf.Graphics();\n        this._textMask.name = \"_textMask\";\n        this.container.addChild(this._textMask);\n\n        this._text = new vf.Text('', {});\n        this._text.name = \"_text\";\n        this._text.visible = false;\n        this._text.mask = this._textMask;\n        this.container.addChild(this._text);\n\n\n        this._domVisible = false;\n\n        \n        this.on(ComponentEvent.STATE_CHANGE, this.onStateChange, this);\n        this.container.isEmitRender = false;\n        this.container.on(\"renderChange\", this.updateSystem, this);\n\n    }\n\n    protected _oldState = \"\";\n\n    protected htmlInputShared: HtmlInput;\n\n    protected _lastRenderer: vf.Renderer | undefined;\n    protected _resolution = 1;\n    protected _canvasBounds: { top: number; left: number; width: number; height: number } | undefined;\n    protected _previous: { canvasBounds: any; worldTransform: any; worldAlpha: any; worldVisible: any } | any = {};\n\n    protected _inputStyle: InputStyle;\n    /**\n     * 预览文字的样式\n     */\n    protected placeholderColor = 0xa9a9a9;\n    protected _domVisible = true;\n\n    protected _textHitbox: vf.Graphics;\n    protected _textMask: vf.Graphics;\n    protected _text: vf.Text;\n\n\n    protected _fontMetrics: vf.IFontMetrics | undefined;\n    protected state = 'DEFAULT';\n\n    /**\n     * 设置文本\n     */\n    public get text() {\n        return this._text.text;\n    }\n    public set text(value) {\n        this.container.isEmitRender = true;\n        this._text.text = value;\n        this.htmlInputShared.value = value;\n        if(this.stage){\n            this.updateSystem(this.stage.app.renderer as vf.Renderer);\n        }\n        \n    }\n    /**\n     * 预览文字\n     */\n    private _placeholder = '';\n    public get placeholder() {\n        return this._placeholder;\n    }\n    public set placeholder(value) {\n        this._placeholder = value;\n        this.container.isEmitRender = true;\n    }\n    /**\n     * 设置最大可输入\n     */\n    private _maxLength = 99999;\n    public get maxLength() {\n        return this._maxLength;\n    }\n    public set maxLength(value) {\n        this._maxLength = value;\n        this.container.isEmitRender = true;\n    }\n    /** \n     * 过滤表达式\n     */\n    private _restrict: RegExp | undefined;\n    public get restrict(): RegExp | undefined {\n        return this._restrict;\n    }\n    public set restrict(value: RegExp | undefined) {\n        this._restrict = value;\n        this.container.isEmitRender = true;\n    }\n\n    /** \n     * 状态展示\n    */\n    public readonly img = new Image();\n\n\n    // GETTERS & SETTERS\n    public updateSystem(renderer?: vf.Renderer) {\n\n        if (renderer === undefined) {\n            return;\n        }\n        const { htmlInputShared } = this;\n\n        htmlInputShared.maxlength = this.maxLength;\n        htmlInputShared.placeholder = this.placeholder;\n        htmlInputShared.disabled = !this.enabled;\n        htmlInputShared.restrict = this.restrict;\n\n        this.setInputStyle(\"fontFamily\", this.style.fontFamily);\n        this.setInputStyle(\"fontSize\", this.style.fontSize);\n        this.setInputStyle(\"color\", this.style.color);\n\n        this.setInputStyle(\"width\", this.explicitWidth + \"px\");\n        this.setInputStyle(\"height\", this.explicitHeight + \"px\");\n\n        this.render(renderer);\n\n        this.onStateChange(this, this.currentState);\n        this.container.isEmitRender = false;\n    }\n\n    /** \n     * 设置焦点 \n     */\n    public focus() {\n        this.htmlInputShared.focus();\n\n    }\n    /** \n     * 失去焦点 \n     */\n    public blur() {\n        this.htmlInputShared.blur();\n    }\n\n    /**\n     * 设置css style样式\n     * @param key 健\n     * @param value 值\n     */\n    public setInputStyle(key: any, value: any) {\n        if (key === \"fontSize\") {\n            value = value + \"px\";\n        }\n        if (key === \"color\") {\n            value = \"#\" + componentToHex(value);\n        }\n        this._inputStyle[key] = value;\n        this.htmlInputShared.setStyleValue(key, value);\n    }\n\n    protected onStateChange(ui: TextInput, state: string) {\n        if (this._oldState == state) {\n            return;\n        }\n        if (!this.enabled) {\n            this.currentState = \"disabled\";\n        }\n        this._oldState = state;\n        const img = this.img;\n        img.src = (this as any)[state];\n    }\n\n    // SETUP\n    private _onInputInput() {\n        this._updateSubstitution();\n    }\n\n    private _onFocused() {\n        this._setState('FOCUSED');\n    }\n\n    private _onBlurred() {\n        this._setState('DEFAULT');\n    }\n\n\n    private _setState(state: string) {\n        this.state = state;\n        this._updateSubstitution();\n    }\n\n    private _updateSubstitution() {\n        if (this.state === 'FOCUSED') {\n            this._domVisible = true;\n            this._text.visible = false;\n        } else {\n            this._domVisible = false;\n            this._text.visible = true;\n        }\n        this._updateDOMInput();\n        this._updatetext();\n    }\n\n\n    // RENDER & UPDATE\n    // for VF v5\n    public render(renderer: vf.Renderer) {\n        this._renderInternal(renderer);\n    }\n\n    private _renderInternal(renderer: vf.Renderer) {\n        this._resolution = renderer.resolution;\n        this._lastRenderer = renderer;\n        this._canvasBounds = this._getCanvasBounds();\n        if (this._needsUpdate()) {\n            this._updateSubstitution();\n        }\n\n    }\n\n    private _updateDOMInput() {\n        if (!this._canvasBounds)\n            return;\n        const cb = this._canvasBounds;\n        const transform = this._vfMatrixToCSS(this._getDOMRelativeWorldTransform());\n        this.htmlInputShared.updatePostion(cb.top, cb.left, transform, this.container.worldAlpha);\n        this.htmlInputShared.visible = this.container.worldVisible && this._domVisible;\n\n        this._previous.canvasBounds = this._canvasBounds;\n        this._previous.worldTransform = this.container.worldTransform.clone();\n        this._previous.worldAlpha = this.container.worldAlpha;\n        this._previous.worldVisible = this.container.worldVisible;\n    }\n\n    // STATE COMPAIRSON (FOR PERFORMANCE BENEFITS)\n    private _needsUpdate() {\n        return (\n            !this._comparevfMatrices(this.container.worldTransform, this._previous.worldTransform)\n            || !this._compareClientRects(this._canvasBounds, this._previous.canvasBounds)\n            || this.container.worldAlpha != this._previous.worldAlpha\n            || this.container.worldVisible != this._previous.worldVisible\n        )\n    }\n\n    private _updatetext() {\n\n        const padding = this._derivetextPadding();\n        const inputBounds = this.htmlInputShared.getDOMInputBounds();\n\n        this._text.style = this._derivetextStyle();\n        this._text.style.padding = Math.max(...padding);\n        this._text.y = this._inputStyle.multiline ? padding[0] : (inputBounds.height - this._text.height) / 2;\n        this._text.x = padding[3];\n        if (this._inputStyle.multiline) {\n            this._text.style.wordWrap = true;\n            this._text.style.wordWrapWidth = inputBounds.width;\n            this._text.style.breakWords = true;\n        }\n\n        this._text.text = this._derivetextText();\n\n        this._textHitbox.clear();\n        this._textHitbox.beginFill(0);\n        this._textHitbox.drawRect(0, 0, inputBounds.width, inputBounds.height);\n        this._textHitbox.endFill();\n        this._textHitbox.interactive = this.enabled;\n\n        this._textMask.clear();\n        this._textMask.beginFill(0);\n        this._textMask.drawRect(padding[3], 0, inputBounds.width - padding[3] - padding[1], inputBounds.height);\n        this._textMask.endFill();\n\n        this.img.width = inputBounds.width;\n        this.img.height = inputBounds.height;\n    }\n\n\n    private _ontextFocus() {\n        this.htmlInputShared.visible = true;\n        //sometimes the input is not being focused by the mouseclick\n        setTimeout(this._ensureFocus.bind(this), 10);\n    }\n\n    private _ensureFocus() {\n        if (!this._hasFocus())\n            this.focus();\n    }\n\n    private _derivetextStyle() {\n        const style: any = new vf.TextStyle()\n\n        for (const key in this._inputStyle) {\n            switch (key) {\n                case 'color':\n                    style.fill = this._inputStyle.color;\n                    break\n                case 'fontFamily':\n                case 'fontSize':\n                case 'fontWeight':\n                case 'fontVariant':\n                case 'fontStyle':\n                    style[key] = this._inputStyle[key];\n                    break\n                case 'letterSpacing':\n                    style.letterSpacing = parseFloat(this._inputStyle.letterSpacing as any);\n                    break\n            }\n        }\n\n        if (this._inputStyle.multiline) {\n            style.lineHeight = parseFloat(style.fontSize);\n            style.wordWrap = true;\n            style.wordWrapWidth = this.htmlInputShared.getDOMInputBounds().width;\n        }\n\n        if (this.htmlInputShared.value.length === 0)\n            style.fill = this.placeholderColor;\n\n        return style;\n    }\n\n    private _derivetextPadding() {\n        const indent = this._inputStyle.textIndent ? parseFloat(this._inputStyle.textIndent) : 0\n\n        if (this._inputStyle.padding && this._inputStyle.padding.length > 0) {\n            const components = this._inputStyle.padding.trim().split(' ');\n\n            if (components.length == 1) {\n                const padding = parseFloat(components[0]);\n                return [padding, padding, padding, padding + indent];\n            } else if (components.length == 2) {\n                const paddingV = parseFloat(components[0]);\n                const paddingH = parseFloat(components[1]);\n                return [paddingV, paddingH, paddingV, paddingH + indent];\n            } else if (components.length == 4) {\n                const padding = components.map(component => {\n                    return parseFloat(component);\n                })\n                padding[3] += indent;\n                return padding;\n            }\n        }\n\n        return [0, 0, 0, indent];\n    }\n\n    private _derivetextText() {\n        return this.htmlInputShared.value.length === 0 ? this.placeholder : this.htmlInputShared.value;\n    }\n\n    // private _updateFontMetrics() {\n    //     const style = this._derivetextStyle();\n    //     const font = style.toFontString();\n    //     this._fontMetrics = vf.TextMetrics.measureFont(font);\n    // }\n\n    // HELPER FUNCTIONS\n\n    private _hasFocus() {\n        return document.activeElement === this.htmlInputShared.domInput;\n    }\n\n    private _getCanvasBounds() {\n        if (this._lastRenderer) {\n            const rect = this._lastRenderer.view.getBoundingClientRect();\n            const bounds = { top: rect.top, left: rect.left, width: rect.width, height: rect.height };\n            bounds.left += window.scrollX;\n            bounds.top += window.scrollY;\n            return bounds;\n        }\n        return undefined;\n    }\n\n    private _getDOMRelativeWorldTransform() {\n        if (this._lastRenderer) {\n            const canvasBounds = this._lastRenderer.view.getBoundingClientRect();\n            const matrix = this.container.worldTransform.clone();\n\n            matrix.scale(this._resolution, this._resolution);\n            matrix.scale(canvasBounds.width / this._lastRenderer.width,\n                canvasBounds.height / this._lastRenderer.height)\n            return matrix;\n        }\n\n    }\n\n    private _vfMatrixToCSS(m: any) {\n        return 'matrix(' + [m.a, m.b, m.c, m.d, m.tx, m.ty].join(',') + ')';\n    }\n\n    private _comparevfMatrices(m1: any, m2: any) {\n        if (!m1 || !m2) return false\n        return (\n            m1.a == m2.a\n            && m1.b == m2.b\n            && m1.c == m2.c\n            && m1.d == m2.d\n            && m1.tx == m2.tx\n            && m1.ty == m2.ty\n        )\n    }\n\n    private _compareClientRects(r1: any, r2: any) {\n        if (!r1 || !r2) return false\n        return (\n            r1.left == r2.left\n            && r1.top == r2.top\n            && r1.width == r2.width\n            && r1.height == r2.height\n        )\n    }\n\n    public release() {\n        this._text.removeAllListeners();\n        this.container.removeChild(this._text);\n        this._text.destroy();\n        (this._text as any) = undefined;\n\n        this._textHitbox.removeAllListeners();\n        this.container.removeChild(this._textHitbox);\n        this._textHitbox && this._textHitbox.destroy();\n        (this._textHitbox as any) = undefined;\n\n        this.img && this.img.parent && this.img.parent.removeChild(this.img);\n        this.img.release();\n        (this.img as any) = undefined;\n\n        this._textMask.parent.removeChild(this._textMask);\n        this._textMask.destroy();\n        (this._textMask as any) = undefined;\n\n        this.htmlInputShared.release();\n        (this.htmlInputShared as any) = undefined;\n\n        this._lastRenderer = undefined;\n        (this._inputStyle as any) = undefined;\n        this._fontMetrics = undefined;\n        this.container.off(\"renderChange\", this.updateSystem, this);\n        this.offAll(ComponentEvent.STATE_CHANGE);\n\n        super.release();\n\n    }\n\n\n}\n\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { ClickEvent, TouchMouseEvent, InteractionEvent, ComponentEvent } from \"../interaction/Index\";\nimport { pointDistance, pointSub, pointSignAngle, deepCopy } from \"../utils/Utils\";\nimport { getTexture } from \"../utils/Utils\";\nimport { TracingEnum } from \"../enum/Index\";\nimport { Tween } from \"../tween/Tween\";\n\n/**\n * 临摹组件\n *\n * @example let Tracing = new vf.gui.Tracing();\n *\n * @namespace vf.gui\n *\n */\nconst GUIDE_SPRITE =\n    \"data:image/png;base64,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\";\nconst POS_DISTANCE = 7;\n/** 优化曲率，小于这个弧度视为直线，把当前点优化掉 */\nconst MAX_ARC = 0.09; // 5度\n\n/** 点数字转换成字符的数位 */\nconst DIGIT = 90;\n/** 字符列表 ascii */\nconst NUMBER_TO_STR = \"$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\";\n\n/** 压缩比例，有损压缩 */\nconst COMPRESS_RATE = 2;\n\n/** 最大宽度 */\nconst MAX_WIDTH = 1500;\n\n/** 为了把点都变成正数所用 */\nconst POSITIVE: number = MAX_WIDTH / 2;\n\n/** 将一个x，y坐标转换成3个字符，宽高不能超过MAX_WIDTH */\nfunction getStrFromPos(x: number, y: number) {\n    x = Math.min(Math.max(0, x), MAX_WIDTH);\n    y = Math.min(Math.max(0, y), MAX_WIDTH);\n\n    // 有损压缩\n    const compX = Math.floor(x / COMPRESS_RATE);\n    const compY = Math.floor(y / COMPRESS_RATE);\n\n    const n1 = compX % DIGIT;\n    const n2 = compY % DIGIT;\n    const n3 = Math.floor(compX / DIGIT) * 10 + Math.floor(compY / DIGIT);\n\n    return NUMBER_TO_STR[n1] + NUMBER_TO_STR[n2] + NUMBER_TO_STR[n3];\n}\n\n/** 将字符串转换成坐标数字列表 */\nfunction getVecListFromStr(str: string, from: number, to: number): number[] {\n    const list = [];\n    for (let index = from; index < to; index += 3) {\n        const n1 = str.charCodeAt(index) - 36;\n        const n2 = str.charCodeAt(index + 1) - 36;\n        const n3 = str.charCodeAt(index + 2) - 36;\n\n        const n12 = Math.floor(n3 / 10);\n        const n22 = n3 % 10;\n\n        const compX = n1 + n12 * DIGIT;\n        const compY = n2 + n22 * DIGIT;\n\n        const realX = compX * COMPRESS_RATE;\n        const realY = compY * COMPRESS_RATE;\n\n        list.push(realX);\n        list.push(realY);\n    }\n    return list;\n}\n\nexport class Tracing extends DisplayObject {\n    public constructor() {\n        super();\n        this._lines = new Map();\n        this.clickEvent = new ClickEvent(this, true);\n        this.clickEvent.isOpenLocalPoint = true;\n        vf.utils.deprecation(\"1.0.0\", \"组件已废弃，请使用插件TracingPlug\");\n    }\n\n    protected clickEvent: ClickEvent;\n    private _renderMode = 0; //绘图模式  0-graphics drawLine  1-mask\n    private _guideSprite: vf.Sprite | undefined;\n    private _bgSprite: vf.Sprite | undefined;\n    private _lines: Map<string, vf.Graphics>;\n    private _realTraceIndexArr: number[] = []; //实际临摹轨迹\n    private _tempTraceIndexArr: number[] = []; //暂存区\n    private _lineStyle: any = {}; //线条样式\n    private _posCache: vf.Point[] = []; //绘图的坐标缓存\n    private _drawing = false; //是否正在画线\n    private _lastLocalPos: vf.Point = new vf.Point(); //上一次的触点\n    private _curLocalPos: vf.Point = new vf.Point(); //当前触点\n    private _autoComplete = false; //自动绘制是否完成\n    private _curIndex = -1; //当前index\n    private _tracePointObjArr: { flag: boolean; point: vf.Point }[] = [];\n    private _result: TracingEnum.Result = TracingEnum.Result.Uncomplete; //临摹结果\n    private _groupStatusArr: { flag: boolean; points: number[] }[] = []; //每个笔画的状态\n    private _lineId = 0; //绘制笔画id\n    private _newLineFlag = true; //是否是新笔画\n    private _pointId = 0; //绘制的笔画的轨迹点id\n    private _messageCache: string[] = []; //需要处理的消息列表\n    private _tween: Tween | undefined;\n    private _guideTime: any; //引导的timeout\n    private _strictFlag = true; //严格模式是否检测通过\n    private _fillIndex = 0;//填充模式索引\n\n    /**\n     * debug\n     */\n    private _debug = false;\n    public get debug() {\n        return this._debug;\n    }\n    public set debug(value: boolean) {\n        this._debug = value;\n\n        if (this._tracePointObjArr.length > 0) {\n            const graphic: vf.Graphics = new vf.Graphics();\n            this.container.addChild(graphic);\n            this._tracePointObjArr.forEach((item) => {\n                graphic.beginFill(0x00ff00);\n                graphic.drawCircle(item.point.x, item.point.y, 5);\n                graphic.endFill();\n            });\n        }\n    }\n\n    /**\n     * 模式\n     */\n    private _mode: TracingEnum.Mode = TracingEnum.Mode.Check;\n    public set mode(value: TracingEnum.Mode) {\n        if (this._mode !== value) {\n            this._mode = value;\n            if (value == TracingEnum.Mode.Strict || value == TracingEnum.Mode.Teach) {\n                this._renderMode = 0;\n                this.removeRenderBgSprite();\n            }\n\n            this.clear();\n        }\n    }\n    public get mode() {\n        return this._mode;\n    }\n\n    /**\n     * 文字轨迹图\n     */\n    private _traceSprite:\n        | number\n        | string\n        | vf.Texture\n        | HTMLImageElement\n        | HTMLCanvasElement\n        | HTMLVideoElement\n        | undefined;\n    public get traceSprite() {\n        return this._traceSprite;\n    }\n    public set traceSprite(value) {\n        this._traceSprite = value;\n        this.setTraceSprite();\n    }\n\n    /**\n     * 背景图，mask模式用于画线后漏出来\n     */\n    private _renderBgSprite:\n        | number\n        | string\n        | vf.Texture\n        | HTMLImageElement\n        | HTMLCanvasElement\n        | HTMLVideoElement\n        | undefined;\n    public get renderBgSprite() {\n        return this._renderBgSprite;\n    }\n    public set renderBgSprite(value) {\n        this._renderBgSprite = value;\n        if (this.mode !== TracingEnum.Mode.Strict && this.mode !== TracingEnum.Mode.Teach) {\n            this._renderMode = 1;\n            this.setRenderBgSprite();\n        }\n    }\n\n    /**\n     * 轨迹点,二维数组\n     */\n    private _tracePoints: { x: number; y: number }[][] = [];\n    public get tracePoints() {\n        return this._tracePoints;\n    }\n    public set tracePoints(value) {\n        this._tracePoints = value;\n        let pointIndex = 0;\n        this._groupStatusArr = [];\n        this._tracePoints.forEach((group, index) => {\n            const groupStatus = {\n                flag: false,\n                points: [] as number[],\n            };\n            this._groupStatusArr.push(groupStatus);\n            group.forEach((point) => {\n                groupStatus.points.push(pointIndex++);\n                this._tracePointObjArr.push({\n                    flag: false,\n                    point: new vf.Point(point.x, point.y),\n                });\n            });\n        });\n\n        if (this.debug) {\n            const graphic: vf.Graphics = new vf.Graphics();\n            this.container.addChild(graphic);\n            this._tracePointObjArr.forEach((item) => {\n                graphic.beginFill(0x00ff00);\n                graphic.drawCircle(item.point.x, item.point.y, 5);\n                graphic.endFill();\n            });\n        }\n    }\n\n    /**\n     * 线宽\n     */\n    private _lineWidth = 10;\n    public get lineWidth() {\n        return this._lineWidth;\n    }\n    public set lineWidth(value) {\n        this._lineWidth = value;\n        this.setLineStyle();\n    }\n\n    /**\n     * 颜色\n     */\n    private _lineColor = 0xff0000;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        this._lineColor = value;\n        this.setLineStyle();\n    }\n\n    /**\n     * 检测精度\n     */\n    private _precision = 20;\n    public get precision() {\n        return this._precision;\n    }\n    public set precision(value) {\n        this._precision = value;\n    }\n\n    /**\n     * 位图\n     */\n    private _lineTexture: string | number | undefined;\n    public get lineTexture() {\n        return this._lineTexture;\n    }\n    public set lineTexture(value) {\n        this._lineTexture = value;\n        this.setLineStyle();\n    }\n\n    /**\n     * 线透明度\n     */\n    private _lineOpacity: number | undefined;\n    public get lineOpacity() {\n        return this._lineOpacity;\n    }\n    public set lineOpacity(value) {\n        this._lineOpacity = value;\n        this.setLineStyle();\n    }\n\n    /**\n     * 画笔样式\n     */\n    private setLineStyle() {\n        this._lineStyle = {\n            width: this.lineWidth,\n            color: this.lineColor,\n            texture: this.lineTexture,\n            alpha: this.lineOpacity\n        };\n    }\n\n    /**\n     * 轨迹图\n     */\n    private setTraceSprite() {\n        const { container, traceSprite } = this;\n        const texture = getTexture(traceSprite);\n        let sprite: vf.Sprite | undefined;\n        try {\n            sprite = new vf.Sprite(texture);\n        } catch (e) {\n            sprite = vf.Sprite.from(texture);\n        }\n        if (sprite && sprite.parent == undefined) {\n            container.addChild(sprite);\n        }\n    }\n\n    /**\n     * mask背景图\n     */\n    private setRenderBgSprite() {\n        const { container, renderBgSprite } = this;\n        const texture = getTexture(renderBgSprite);\n        let sprite: vf.Sprite | undefined;\n        try {\n            sprite = new vf.Sprite(texture);\n        } catch (e) {\n            sprite = vf.Sprite.from(texture);\n        }\n        if (sprite && sprite.parent == undefined) {\n            container.addChild(sprite);\n            this._bgSprite = sprite;\n        }\n        const graphic = this.getGraphics(\"mask\", this._lineStyle);\n        (this._bgSprite as vf.Sprite).mask = graphic;\n    }\n\n    /**\n     * 移出mask背景图\n     */\n    private removeRenderBgSprite() {\n        if (this._bgSprite) {\n            this.container.removeChild(this._bgSprite);\n        }\n    }\n\n    /**\n     * 开始，适用于audo和teach模式\n     */\n    private start() {\n        if (this.mode === TracingEnum.Mode.Auto) {\n            setTimeout(() => {\n                this.auto();\n            }, 1000); //自动播放，1s后开始\n        } else if (this.mode === TracingEnum.Mode.Teach) {\n            //教学模式，需要引导手势\n            if (!this._guideSprite) {\n                this._guideSprite = vf.Sprite.from(GUIDE_SPRITE);\n            }\n            setTimeout(() => {\n                this.container.removeChild(this._guideSprite as vf.Sprite);\n                this.container.addChild(this._guideSprite as vf.Sprite);\n                this.guide();\n            }, 1000);\n        }\n    }\n\n    /**\n     * 教学引导\n     */\n    private guide() {\n        const guideSprite = this._guideSprite as vf.Sprite;\n        if (this._pointId >= this.tracePoints[this._lineId].length) {\n            this._newLineFlag = true;\n            guideSprite.visible = false;\n            this._pointId = 0;\n            clearTimeout(this._guideTime);\n            this._guideTime = setTimeout(() => {\n                this.guide();\n            }, 3000);\n            return;\n        }\n        let point: { x: number; y: number } = this.tracePoints[this._lineId][this._pointId++];\n        if (this._newLineFlag) {\n            guideSprite.visible = true;\n            this._newLineFlag = false;\n            this._lastLocalPos.set(point.x, point.y);\n            point = this.tracePoints[this._lineId][this._pointId++];\n        }\n        this._curLocalPos.set(point.x, point.y);\n        this.playGuideAnimal();\n    }\n\n    private playGuideAnimal() {\n        const distance = pointDistance(this._lastLocalPos, this._curLocalPos);\n        const startPos = this._lastLocalPos.clone();\n        const endPos = this._curLocalPos.clone();\n        const curPos = this._curLocalPos.clone();\n        this._lastLocalPos.copyFrom(this._curLocalPos);\n        const from = { dt: 0 };\n        const to = { dt: distance };\n        this._tween = new Tween(from)\n            .to(to, 500)\n            .on(Tween.Event.update, (obj: any) => {\n                const dt = Math.ceil(obj.dt);\n                const x = (dt * (endPos.x - startPos.x)) / distance + startPos.x;\n                const y = (dt * (endPos.y - startPos.y)) / distance + startPos.y;\n                curPos.set(x, y);\n                (this._guideSprite as vf.Sprite).x = x;\n                (this._guideSprite as vf.Sprite).y = y;\n            })\n            .once(Tween.Event.complete, (obj: any) => {\n                if (this._tween) {\n                    this._tween.removeAllListeners();\n                    this._tween.release();\n                }\n                this.guide();\n            })\n            .start();\n    }\n\n    /**\n     * 清除教学引导\n     */\n    clearGuide() {\n        clearTimeout(this._guideTime);\n        const guideSprite = this._guideSprite as vf.Sprite;\n        if (guideSprite) {\n            guideSprite.visible = false;\n        }\n        this._newLineFlag = true;\n        this._pointId = 0;\n        this._tween && this._tween.release();\n    }\n\n    /**\n     * 自动绘制\n     */\n    private auto() {\n        let point: { x: number; y: number } = this.autoNextPoint() as { x: number; y: number };\n        if (this._newLineFlag) {\n            this._newLineFlag = false;\n            this._lastLocalPos.set(point.x, point.y);\n            this._posCache = [];\n            this._posCache.push(this._lastLocalPos.clone());\n            point = this.autoNextPoint() as { x: number; y: number };\n        }\n        this._curLocalPos.set(point.x, point.y);\n        if (this._autoComplete) {\n            this.emit(ComponentEvent.COMPLETE, this, { mode: this.mode, value: TracingEnum.Result.Complete });\n            return;\n        }\n        this.drawWithAnimation();\n    }\n    private _posLength = 2;\n    private drawWithAnimation() {\n        const distance = pointDistance(this._lastLocalPos, this._curLocalPos);\n        const startPos = this._lastLocalPos.clone();\n        const endPos = this._curLocalPos.clone();\n        const curPos = this._curLocalPos.clone();\n        this._lastLocalPos.copyFrom(this._curLocalPos);\n        const from = { dt: 0 };\n        const to = { dt: distance };\n        this._tween = new Tween(from)\n            .to(to, 500)\n            .on(Tween.Event.update, (obj: any) => {\n                const dt = Math.ceil(obj.dt);\n                const x = (dt * (endPos.x - startPos.x)) / distance + startPos.x;\n                const y = (dt * (endPos.y - startPos.y)) / distance + startPos.y;\n                curPos.set(x, y);\n\n                this._posCache.push(curPos.clone());\n                const graphics = this.getGraphics(this._lineId.toString(), this._lineStyle);\n                this.localDraw(graphics);\n            })\n            .once(Tween.Event.complete, (obj: any) => {\n                (this._tween as Tween).removeAllListeners();\n                (this._tween as Tween).release();\n\n                const length = this._posCache.length;\n                if (length > this._posLength) {\n                    this._posCache = this._posCache.slice(length - this._posLength, length - 1); //容错处理   没有全部清掉 因为最后节点可能没有画完\n                }\n                this.auto();\n            })\n            .start();\n    }\n\n    private autoNextPoint() {\n        if (this._pointId >= this.tracePoints[this._lineId].length) {\n            this._newLineFlag = true;\n            this._lineId++;\n            this._pointId = 0;\n            if (this._lineId >= this.tracePoints.length) {\n                //绘制全部完成\n                this._autoComplete = true;\n                this._pointId = 0;\n                this._lineId = 0;\n                return { x: 0, y: 0 };\n            }\n        }\n        const point = this.tracePoints[this._lineId][this._pointId];\n        this._pointId++;\n        return point;\n    }\n\n    /**\n     * 更新显示列表,子类重写，实现布局\n     */\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n        super.updateDisplayList(unscaledWidth, unscaledHeight);\n        this.container.hitArea = new vf.Rectangle(0, 0, this.width, this.height);\n    }\n\n    $onInit() {\n        //由于绑定的可能非当前显示对象，所以此处不可以使用this.on(\"xxxx\")\n        this.clickEvent.getTarget().on(TouchMouseEvent.onPress, this.onPress, this);\n        this.clickEvent.getTarget().on(TouchMouseEvent.onMove, this.onMove, this);\n        this.setLineStyle();\n    }\n\n    $onRelease() {\n        this.clickEvent.getTarget().off(TouchMouseEvent.onPress, this.onPress, this);\n        this.clickEvent.getTarget().off(TouchMouseEvent.onMove, this.onMove, this);\n        this.clickEvent.remove();\n    }\n\n    /**\n     * 检测触摸点和轨迹点\n     * @param point\n     */\n    private checkTrace(point: vf.Point) {\n        if (this.tracePoints.length == 0) {\n            this._result = TracingEnum.Result.Correct;\n            return;\n        }\n        this._curIndex = -1;\n        for (let i = 0; i < this._tracePointObjArr.length; ++i) {\n            if (\n                !this._tracePointObjArr[i].flag &&\n                pointDistance(point, this._tracePointObjArr[i].point) < this.precision\n            ) {\n                this._tracePointObjArr[i].flag = true;\n                this._curIndex = i;\n                break;\n            }\n        }\n        if (this._curIndex === -1) return;\n\n        if (this._realTraceIndexArr.length === 0 && this._curIndex === 0) {\n            this._realTraceIndexArr.push(this._curIndex);\n            return;\n        }\n\n        if (this._curIndex === this._realTraceIndexArr[this._realTraceIndexArr.length - 1] + 1) {\n            this._realTraceIndexArr.push(this._curIndex);\n            this._tempTraceIndexArr.forEach((item) => {\n                this._tracePointObjArr[item].flag = false;\n            });\n            this._tempTraceIndexArr = [];\n        } else {\n            this._tempTraceIndexArr.push(this._curIndex);\n            if (this._tempTraceIndexArr.length > 3) {\n                //暂存区超过4个，不再容错了\n                this._realTraceIndexArr = this._realTraceIndexArr.concat(this._tempTraceIndexArr);\n                this._tempTraceIndexArr = [];\n            } else {\n                //\n            }\n        }\n        if (this.debug) {\n            console.log(\n                \"实际轨迹：\",\n                this._realTraceIndexArr,\n                \"暂存区：\",\n                this._tempTraceIndexArr,\n                \"result:\",\n                this._result\n            );\n        }\n    }\n    /**\n     * 检查暂存区,抬起时检测暂存区中的点是否在一个笔画上\n     */\n    private checkTemp() {\n        if (this._tempTraceIndexArr.length < 2) return;\n        //检查temp中的点是否在一个笔画上,如果是，则认为这是一次有效画线而非误触,否则就算误触,退回到待触发数组\n        const groupIndexArr: number[] = [];\n        this._tempTraceIndexArr.forEach((element) => {\n            this._groupStatusArr.forEach((item, index) => {\n                if (item.points.indexOf(element) !== -1) {\n                    groupIndexArr.push(index);\n                }\n            });\n        });\n        if (new Set(groupIndexArr).size === 1) {\n            this._realTraceIndexArr = this._realTraceIndexArr.concat(this._tempTraceIndexArr);\n            this._tempTraceIndexArr = [];\n        } else {\n            this._tempTraceIndexArr.forEach((item) => {\n                this._tracePointObjArr[item].flag = false;\n            });\n            this._tempTraceIndexArr = [];\n        }\n    }\n\n    /**\n     * 检查group\n     */\n    // private checkGroup() {}\n\n    private checkResult() {\n        if (this._realTraceIndexArr.length === 0) return;\n        if (this._realTraceIndexArr.length + this._tempTraceIndexArr.length == this._tracePointObjArr.length) {\n            //结束了\n            this._realTraceIndexArr = this._realTraceIndexArr.concat(this._tempTraceIndexArr);\n            this._tempTraceIndexArr = [];\n            this._result = TracingEnum.Result.Correct;\n            let preIndex = -1;\n            this._realTraceIndexArr.forEach((item) => {\n                if (item > preIndex) {\n                    preIndex = item;\n                } else {\n                    this._result = TracingEnum.Result.Incorrect;\n                }\n            });\n            this.emit(ComponentEvent.COMPLETE, this, { mode: this.mode, value: this._result });\n        } else {\n            this._result = TracingEnum.Result.Uncomplete;\n            if (this._realTraceIndexArr[0] != 0) {\n                this._result = TracingEnum.Result.Incorrect;\n            } else {\n                let preIndex = -1;\n                this._realTraceIndexArr.forEach((item) => {\n                    if (item < preIndex) {\n                        this._result = TracingEnum.Result.Incorrect;\n                    } else {\n                        preIndex = item;\n                    }\n                });\n            }\n            if (this._result != TracingEnum.Result.Uncomplete) {\n                this.emit(ComponentEvent.COMPLETE, this, { mode: this.mode, value: this._result });\n            }\n        }\n    }\n\n    private checkStrictFirstPoint(point: vf.IPoint) {\n        //检测下笔处是否当前笔画的初始点位置\n        const index = this._groupStatusArr[this._lineId].points[0];\n        if (pointDistance(point, this._tracePointObjArr[index].point) <= this.precision) {\n            return true;\n        }\n        return false;\n    }\n\n    private checkStrict(): boolean {\n        let flag = true;\n        if (this._lineId != 1) {\n            this._realTraceIndexArr.shift();\n        }\n        if (this._realTraceIndexArr.length != this._groupStatusArr[this._lineId - 1].points.length) {\n            flag = false;\n        } else {\n            for (let i = 0; i < this._groupStatusArr[this._lineId - 1].points.length; ++i) {\n                if (this._realTraceIndexArr[i] != this._groupStatusArr[this._lineId - 1].points[i]) {\n                    flag = false;\n                    break;\n                }\n            }\n        }\n        if (!flag) {\n            this._lineId--;\n            this._realTraceIndexArr.forEach((item) => {\n                this._tracePointObjArr[item].flag = false;\n            });\n            //书写失败，清除当前线条\n            this.removeLine(this._lineId.toString());\n            // setTimeout(() => {\n            //     this.emitTracingMsg(\n            //         TracingEnum.Operate.Remove,\n            //         this._lineId.toString(),\n            //         this.getDataStrByPosCache(),\n            //         this._lineStyle,\n            //         this._realTraceIndexArr,\n            //         this._tempTraceIndexArr,\n            //         this._result\n            //     );\n            // }, 300);\n        }\n        if (this._lineId < this._groupStatusArr.length) {\n            this._realTraceIndexArr = [];\n            if (this._lineId != 0) {\n                const firstIndex = this._groupStatusArr[this._lineId].points[0] - 1;\n                this._realTraceIndexArr.push(firstIndex);\n            }\n        } else {\n            //书写完成\n            this.emit(ComponentEvent.COMPLETE, this, { mode: this.mode, value: TracingEnum.Result.Complete });\n        }\n        return flag;\n    }\n\n    private checkFill(curPoint: any, signalling = false) {\n        if(this._fillIndex >= this._tracePointObjArr.length) return;\n        const point = this._tracePointObjArr[this._fillIndex].point;\n\n\n        if (pointDistance(curPoint, point) <= this.precision) {\n            if(!signalling){\n                const obj = { mode: this.mode, fillIndex: this._fillIndex, lineIndex: this._lineId, pointIndex: this._pointId, complete: false };\n                this.emit(ComponentEvent.CHANGE, this, JSON.stringify(obj));\n            }\n            this._fillIndex++;\n            if (this._fillIndex >= this._tracePointObjArr.length) {\n                this.emit(ComponentEvent.COMPLETE, this, {mode: this.mode, complete: true});\n            }\n            else{\n                this.emit(ComponentEvent.COMPLETE, this, {mode: this.mode, complete: false, fillIndex: this._fillIndex - 1, lineIndex: this._lineId, pointIndex: this._pointId});\n            }\n\n            //触碰正确\n            this._posCache.push(point);\n            const graphics = this.getGraphics(this._lineId.toString(), this._lineStyle);\n            this.localDraw(graphics);\n\n            if(this._pointId >= this._groupStatusArr[this._lineId].points.length - 1){\n                //画完了一笔\n                this._pointId = 0;\n                this._lineId++;\n                this._posCache = [];\n            }\n            else{\n                this._pointId++;\n            }\n        }\n    }\n\n    /**\n     * 教学模式检查\n     */\n    private checkTeach(): boolean {\n        let flag = true;\n        if (this._lineId != 1) {\n            this._realTraceIndexArr.shift();\n        }\n        if (this._realTraceIndexArr.length != this._groupStatusArr[this._lineId - 1].points.length) {\n            flag = false;\n        } else {\n            for (let i = 0; i < this._groupStatusArr[this._lineId - 1].points.length; ++i) {\n                if (this._realTraceIndexArr[i] != this._groupStatusArr[this._lineId - 1].points[i]) {\n                    flag = false;\n                    break;\n                }\n            }\n        }\n        if (!flag) {\n            this._lineId--;\n            this._realTraceIndexArr.forEach((item) => {\n                this._tracePointObjArr[item].flag = false;\n            });\n\n            //书写失败，清除当前线条\n            this.removeLine(this._lineId.toString());\n            // setTimeout(() => {\n            //     this.emitTracingMsg(\n            //         TracingEnum.Operate.Remove,\n            //         this._lineId.toString(),\n            //         this.getDataStrByPosCache(),\n            //         this._lineStyle,\n            //         this._realTraceIndexArr,\n            //         this._tempTraceIndexArr,\n            //         this._result\n            //     );\n            // }, 300);\n        }\n        if (this._lineId < this._groupStatusArr.length) {\n            this._realTraceIndexArr = [];\n            if (this._lineId != 0) {\n                const firstIndex = this._groupStatusArr[this._lineId].points[0] - 1;\n                this._realTraceIndexArr.push(firstIndex);\n            }\n            this.guide();\n        } else {\n            //教学完成\n            this.emit(ComponentEvent.COMPLETE, this, { mode: this.mode, value: TracingEnum.Result.Complete });\n        }\n        return flag;\n    }\n    /**\n     * 画线\n     * @param lineId\n     * @param data\n     * @param from\n     * @param to\n     * @param lineStyle\n     */\n    private drawLine(lineId: string, data: string, from: number, to: number, lineStyle: any) {\n        console.log(\"drawLine----\", lineId);\n        const graphics = this.getGraphics(lineId, lineStyle);\n        const posList = getVecListFromStr(data, from, to);\n        this.draw(graphics, posList);\n    }\n\n    /**\n     * 绘图\n     * @param graphics\n     * @param posList\n     */\n    private draw(graphics: vf.Graphics, posList: number[]) {\n        let lastX = posList[0] - POSITIVE;\n        let lastY = posList[1] - POSITIVE;\n        graphics.moveTo(lastX, lastY);\n        // 利用贝塞尔将线平滑化\n        const realList = [];\n        for (let index = 2; index < posList.length; index += 2) {\n            const x = posList[index] - POSITIVE;\n            const y = posList[index + 1] - POSITIVE;\n\n            const halfX = lastX + (x - lastX) * 0.5;\n            const halfY = lastY + (y - lastY) * 0.5;\n\n            realList.push(halfX, halfY, x, y);\n\n            lastX = x;\n            lastY = y;\n        }\n\n        graphics.lineTo(realList[0], realList[1]);\n        for (let index = 2; index < realList.length - 2; index += 4) {\n            const cx = realList[index];\n            const cy = realList[index + 1];\n            const x = realList[index + 2];\n            const y = realList[index + 3];\n            graphics.quadraticCurveTo(cx, cy, x, y);\n        }\n\n        graphics.lineTo(realList[realList.length - 2], realList[realList.length - 1]);\n    }\n\n    /**\n     * 本地绘制\n     * @param graphics\n     */\n    private localDraw(graphics: vf.Graphics) {\n        //修改：仅拿最后的3个点绘制\n        const posCache = this._posCache;\n        const length = posCache.length;\n        if (length < 2) return;\n        graphics.moveTo(posCache[length - 2].x, posCache[length - 2].y);\n        graphics.lineTo(posCache[length - 1].x, posCache[length - 1].y);\n    }\n\n    private onPress(e: InteractionEvent, thisObj: DisplayObject, isPress: boolean) {\n        e.stopPropagation();\n        if (this.mode === TracingEnum.Mode.Auto) {\n            //自动播放，不可操作\n            return;\n        }\n        const curLocal = this.container.toLocal(e.local, thisObj.container);\n        if (isPress) {\n            if (this.mode === TracingEnum.Mode.Strict) {\n                const result = this.checkStrictFirstPoint(curLocal);\n                if (!result) {\n                    this._strictFlag = false;\n                    return;\n                }\n\n                this._strictFlag = true;\n            } else if (this.mode === TracingEnum.Mode.Teach) {\n                this.clearGuide();\n            }\n            else if (this.mode === TracingEnum.Mode.Fill) {\n                this._drawing = true;\n                return;\n            }\n            this._drawing = true;\n            this._lastLocalPos.copyFrom(curLocal);\n            this._posCache = [this._lastLocalPos.clone()];\n            this.checkTrace(this._lastLocalPos);\n        } else {\n            if (this.mode === TracingEnum.Mode.Fill) {\n                // ++this._lineId;\n                // this._posCache = [];\n                this._drawing = false;\n                return;\n            }\n            if (this.mode === TracingEnum.Mode.Strict && !this._strictFlag) {\n                return;\n            }\n            if (this._posCache.length === 1) {\n                //仅有一个点\n                const newPoint = this._lastLocalPos.clone(); //在附近新建一个点，保证第一个触点也能画出来\n                newPoint.set(newPoint.x, newPoint.y - POS_DISTANCE);\n                this._posCache.push(newPoint);\n                const graphics = this.getGraphics(this._lineId.toString(), this._lineStyle);\n                this.localDraw(graphics);\n            }\n            this._drawing = false;\n            this.checkTemp();\n            if (this.mode === TracingEnum.Mode.Check) {\n                this.checkResult();\n            }\n\n            this.emitTracingMsg(\n                TracingEnum.Operate.Add,\n                this._lineId.toString(),\n                this.getDataStrByPosCache(),\n                this._lineStyle,\n                this._realTraceIndexArr,\n                this._tempTraceIndexArr,\n                this._result\n            );\n            ++this._lineId;\n            if (this.mode === TracingEnum.Mode.Teach) {\n                this.checkTeach();\n            } else if (this.mode === TracingEnum.Mode.Strict) {\n                this.checkStrict();\n            }\n        }\n    }\n\n    private onMove(e: InteractionEvent, thisObj: DisplayObject) {\n        e.stopPropagation();\n        if (this.mode === TracingEnum.Mode.Fill && this._drawing) {\n            const curLocal = this.container.toLocal(e.local, thisObj.container);\n            this.checkFill(curLocal);\n            return;\n        }\n        if (this.mode == TracingEnum.Mode.Auto) {\n            //自动播放，不可操作\n            return;\n        }\n        if (this._drawing) {\n            const curLocal = this.container.toLocal(e.local, thisObj.container);\n            if (pointDistance(curLocal, this._lastLocalPos) >= POS_DISTANCE) {\n                this._lastLocalPos.copyFrom(curLocal);\n                this._posCache.push(this._lastLocalPos.clone());\n                const graphics = this.getGraphics(this._lineId.toString(), this._lineStyle);\n                this.localDraw(graphics);\n                this.checkTrace(this._lastLocalPos);\n            }\n        }\n    }\n\n    /**\n     *\n     * @param lineId\n     * @param lineStyle\n     */\n    private getGraphics(lineId: string, lineStyle: any = {}): vf.Graphics {\n        if (this._renderMode === 1) {\n            lineId = \"mask\";\n        }\n        const key = \"line_\" + lineId;\n        if (this._lines.has(key)) {\n            return this._lines.get(key) as vf.Graphics;\n        }\n        const graphics = new vf.Graphics();\n        graphics.interactive = false;\n        graphics.interactiveChildren = false;\n        graphics.name = key;\n        this.container.addChild(graphics);\n        this._lines.set(key, graphics);\n        lineStyle = deepCopy(lineStyle);\n        lineStyle.color = lineStyle.texture ? 0xffffff : lineStyle.color;\n        lineStyle.texture = lineStyle.texture ? getTexture(this.lineTexture) : vf.Texture.WHITE;\n        lineStyle.alpha = lineStyle.alpha ? lineStyle.alpha : 1;\n        lineStyle.cap = \"round\";\n        lineStyle.join = \"round\";\n        if (this._renderMode === 0) {\n            graphics.lineTextureStyle(lineStyle);\n        } else {\n            graphics.lineTextureStyle({\n                width: lineStyle.width,\n                color: 0xff0000,\n            });\n        }\n\n        return graphics;\n    }\n\n    private getDataStrByPosCache(): string {\n        const { _posCache } = this;\n        if (_posCache.length == 0) {\n            return \"\";\n        }\n        // 稀疏位置点，通过曲率\n        const finalX = [_posCache[0].x];\n        const finalY = [_posCache[0].y];\n\n        let lastLastPos = _posCache[0];\n        let lastPos = _posCache[1];\n\n        let sumAngle = 0;\n\n        for (let index = 2; index < _posCache.length; index++) {\n            const pos = _posCache[index];\n            const pos1 = pointSub(lastPos, lastLastPos);\n            const pos2 = pointSub(pos, lastPos);\n            const angle = pointSignAngle(pos1, pos2);\n\n            if (angle > MAX_ARC || angle < -MAX_ARC || sumAngle > MAX_ARC || sumAngle < -MAX_ARC) {\n                finalX.push(lastPos.x);\n                finalY.push(lastPos.y);\n                sumAngle = 0;\n            } else {\n                sumAngle += angle;\n            }\n\n            lastLastPos = lastPos;\n            lastPos = pos;\n        }\n\n        finalX.push(_posCache[_posCache.length - 1].x);\n        finalY.push(_posCache[_posCache.length - 1].y);\n\n        const finalStrList = [];\n        for (let index = 0; index < finalX.length; index++) {\n            const x = finalX[index] + POSITIVE;\n            const y = finalY[index] + POSITIVE;\n            const str = getStrFromPos(x, y);\n\n            finalStrList.push(str);\n        }\n\n        const finalStr = finalStrList.join(\"\");\n        return finalStr;\n    }\n\n    /**\n     * 发送一个笔画的msg\n     * @param lineId\n     * @param data\n     */\n    private emitTracingMsg(\n        operate: number = TracingEnum.Operate.Add,\n        lineId = \"\",\n        data = \"\",\n        lineStyle: any = {},\n        realTraceIndexArr: number[] = [],\n        tempTraceIndexArr: number[] = [],\n        result = 0\n    ) {\n        const obj: any = {\n            operate,\n            lineId,\n            data,\n            lineStyle,\n            realTraceIndexArr,\n            tempTraceIndexArr,\n            result,\n        };\n\n        this.emit(ComponentEvent.CHANGE, this, JSON.stringify(obj));\n    }\n\n    private onMessage() {\n        const { _messageCache } = this;\n        if (_messageCache.length > 0) {\n            while (_messageCache.length > 0) {\n                const message: string = _messageCache.shift() as string;\n                if(this.mode == TracingEnum.Mode.Fill){\n                    //填充模式特殊处理\n                    const {fillIndex} = JSON.parse(message);\n                    if(fillIndex < this._tracePointObjArr.length){\n                        const point = this._tracePointObjArr[fillIndex].point;\n                        this.checkFill(point, true);\n                    }\n                    continue;\n                }\n                \n                const { operate, lineId, data, lineStyle, realTraceIndexArr, tempTraceIndexArr, result } = JSON.parse(\n                    message\n                );\n                this._realTraceIndexArr = realTraceIndexArr;\n                this._tempTraceIndexArr = tempTraceIndexArr;\n                this._lineId = parseInt(lineId);\n                this._result = result;\n\n                ++this._lineId;\n                if (this.mode == TracingEnum.Mode.Teach) {\n                    this.clearGuide();\n                    this.checkTeach();\n                } else if (this.mode == TracingEnum.Mode.Strict) {\n                    this.checkStrict();\n                } else if (this._result != TracingEnum.Result.Uncomplete) {\n                    //临摹完成，返回结果\n                    this.emit(ComponentEvent.COMPLETE, this, { mode: this.mode, value: this._result });\n                }\n\n                switch (operate) {\n                    case TracingEnum.Operate.Add:\n                        this.drawLine(lineId, data, 0, data.length, lineStyle);\n                        break;\n                    case TracingEnum.Operate.Clear:\n                        this.clear();\n                        break;\n                    case TracingEnum.Operate.Remove:\n                        this.removeLine(lineId);\n                        break;\n                }\n            }\n        }\n    }\n\n    public removeLine(lineId: string) {\n        console.log(\"removeLine----\", lineId);\n        const graphics = this.getGraphics(lineId);\n        if (graphics.parent) {\n            graphics.parent.removeChild(graphics);\n            graphics.destroy();\n            const key = \"line_\" + lineId;\n            this._lines.delete(key);\n        }\n    }\n\n    /**\n     * clear\n     */\n    public clear() {\n        this._lines.forEach((value: vf.Graphics, key: string) => {\n            if (value.parent) {\n                value.parent.removeChild(value);\n                value.destroy();\n            }\n        });\n        this._lines.clear();\n        if (this._renderMode == 1) {\n            const graphic = this.getGraphics(\"mask\", this._lineStyle);\n            (this._bgSprite as vf.Sprite).mask = graphic;\n        }\n        this._fillIndex = 0;\n        this._lineId = 0;\n        this._pointId = 0;\n        this._realTraceIndexArr = [];\n        this._tempTraceIndexArr = [];\n        this._posCache = [];\n        this._autoComplete = false;\n        this._newLineFlag = true;\n        this._result = TracingEnum.Result.Uncomplete;\n        this._tracePointObjArr.forEach((item) => {\n            item.flag = false;\n        });\n        if (this._tween) {\n            (this._tween as Tween).release();\n        }\n        this.clearGuide();\n        this.start();\n    }\n\n    /**\n     * @private\n     * 提交属性，子类在调用完invalidateProperties()方法后，应覆盖此方法以应用属性\n     */\n    protected commitProperties(): void {\n        this.onMessage();\n    }\n\n    public setData(data: string | string[]) {\n        if (typeof data === \"string\") {\n            this._messageCache.push(data);\n        } else {\n            this._messageCache = this._messageCache.concat(data);\n        }\n\n        this.invalidateProperties();\n    }\n\n    public set source(data: string | string[]) {\n        this.setData(data);\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { getSource, getTexture, toDomRectangle } from \"../utils/Utils\";\nimport { VideoGroupController } from \"../interaction/Index\";\nimport { VideoBtn } from \"./VideoBtn\";\n/**\n * 播放器组件\n * \n */\nexport class Video extends DisplayObject {\n\n  private _video: HTMLVideoElement;\n\n  private _videoHasEvent = false;\n  private _src: any;\n  protected _canvasBounds: { top: number; left: number; width: number; height: number } | undefined;\n  protected _lastRenderer: vf.Renderer | undefined;\n  protected _resolution = 1;\n\n  // 事件回调 ~~~~~~~~~~~~~~~\n  private _canplayFun: any;\n  private _canplaythroughFun: any;\n  private _completeFun: any;\n  private _endedFun: any;\n  private _loadeddataFun: any; //视频数据获取  如果不支持纹理  在此时直接把标签渲染到dom上(目前有误杀可能 部分android设备 在完全预加载后才知道是否可以webgl渲染)\n  private _durationchangeFun: any;\n  private _pauseFun: any;\n  private _playFun: any;\n\n  // 内部属性 ~~~~~~~~~~\n  private _autoplay = false;\n  private _canPlayFirst = false; // canplay 事件在某些设备 设置currenttime 等也会触发  所以需要用这个属性过滤事件\n  private _videoTextrue: any;\n  private _sprite: any;\n  private _poster = \"\"; // 海报url\n  private _posterImg?: vf.Sprite; // 海报\n  private _videoBtn?: VideoBtn; // 播放控制组件\n  private _firstLoad = false; //首次加载\n  private _muted = false;\n  private _loop = false;\n  private _controls = true;\n  private _volume = 1;\n  private _currentTime = 0;\n  private _oldPoster = \"\";\n  private _oldSrc = \"\";\n  private _canPlay = false;\n  private _visibleStatus = true; // 视频显示 or 隐藏\n\n  private _elemDraw = false; //渲染模式 是否标签渲染  默认纹理\n  private _isplaying = false; //当前播放状态  play or pause\n\n  public forceElementDraw = false; // 强制标签渲染\n\n\n  public constructor() {\n    super();\n\n    this._sprite = new vf.Sprite();\n    this.container.addChildAt(this._sprite, 0); // 这里添加  便于有些需要获取dom渲染位置\n    this.videoGroup = \"\";\n    this._video = document.createElement('video');\n\n    vf.utils.deprecation(\"1.0.0\", \"在互动课件环境，Video组件仅支持最基础的播放、暂停功能。并且需要配置无声视频源：silentSrc以及对应的声音源：soundSrc\");\n  }\n\n  private createVideoBtn() {\n    if (!this._videoBtn) {\n      this._videoBtn = new VideoBtn();\n      this._videoBtn.width = 50;\n      this._videoBtn.height = 50;\n      this._videoBtn.interactabled = true;\n      this._videoBtn.on(vf.gui.Interaction.TouchMouseEvent.onClick, this.clickAudio, this);\n      this.addChild(this._videoBtn);\n      this._videoBtn.visible = this._controls;\n    }\n  }\n\n  private clickAudio(e: any, thisObj: any) {\n    if (this._isplaying === true) {\n      this.pause();\n    } else {\n      this.play();\n    }\n  }\n  /**  \n   *  目前 设置src才会添加sprite到舞台\n   *  创建sprite需要根据src获取纹理\n   */\n  private createVideoSource() {\n    if (this.useNativeAudio()) {\n      return;\n    }\n    if (!this._sprite) {\n      this._sprite = new vf.Sprite();\n      this.container.addChildAt(this._sprite, 0);\n    }\n\n    if (!this._video) {\n      this._video = document.createElement('video');\n    }\n    // 如果是mediaSteam  需要赋值给srcObject\n    const video = this._video;\n    if (window[\"MediaStream\"] && this._src instanceof MediaStream) {\n      video.srcObject = this._src || \"\";\n      this._autoplay = true;\n    } else {\n      video.src = this._src || \"\";\n    }\n\n    video.setAttribute('preload', 'auto');// 打开的话 标签的海报就不能生效\n    video.setAttribute('webkit-playsinline', '');\n    video.setAttribute('playsinline', '');\n    video.setAttribute('x5-video-player-type', 'h5');\n    video.setAttribute('x5-video-player-fullscreen', \"true\");\n    video.setAttribute('playsinline', \"true\");\n    video.crossOrigin = \"anonymous\";\n\n    this._videoTextrue = vf.Texture.from(video, { resourceOptions: { autoPlay: this._autoplay, autoLoad: true, crossorigin: true } });\n\n    const v = this._videoTextrue;\n    this._video.onseeked = function () {\n      if (v.baseTexture && v.baseTexture.resource) {\n        v.update();\n      }\n    };\n    this._sprite.texture = this._videoTextrue;\n\n    video.muted = this._muted;\n    video.loop = this._loop;\n    video.currentTime = this._currentTime;\n    video.volume = this._volume;\n    video.autoplay = this._autoplay;\n    video.controls = this._controls;\n\n    let url = this._poster;\n    if (this._poster && this._poster !== \"\") {\n      const o = getSource(this._poster);\n      if (typeof (o) === \"object\") {\n        if (o.baseTexture && o.baseTexture.resource && o.baseTexture.resource.url) {\n          url = o.baseTexture.resource.url;\n        }\n      }\n    }\n    video.poster = url;\n\n    if (this._autoplay && this.useNativeAudio()) {\n      if (this.stage?.syncManager && this.stage.syncManager.resumeStatusFlag) {\n        return;\n      }\n      this.nativeEmit(this._audio, 'playAudio');\n    }\n    /**\n    * 需要上报的事件\n    */\n    this.clearVideoEvent();\n    if (!this._videoHasEvent) { //当前没有添加事件监听\n      this._videoHasEvent = true;\n      this._canplayFun = this.canplayFun.bind(this);\n      this._canplaythroughFun = this.canplaythroughFun.bind(this);\n      this._completeFun = this.completeFun.bind(this);\n      this._endedFun = this.endedFun.bind(this);\n      this._loadeddataFun = this.loadeddataFun.bind(this);\n      this._durationchangeFun = this.durationchangeFun.bind(this);\n      this._pauseFun = this.pauseFun.bind(this);\n      this._playFun = this.playFun.bind(this);\n\n      //浏览器可以播放媒体文件了，但估计没有足够的数据来支撑播放到结束，不需要停止缓存更多的内容\n      video.addEventListener('canplay', this._canplayFun);\n      //浏览器估算可以播放到结束，不需要停止缓存更多的内容。\n      video.addEventListener('canplaythrough', this._canplaythroughFun);\n      //渲染完成\n      video.addEventListener('complete', this._completeFun);\n      //播放\n      video.addEventListener('play', this._playFun);\n      //暂停\n      video.addEventListener('pause', this._pauseFun);\n      //视频已经到达结束点\n      video.addEventListener('ended', this._endedFun);\n      //首帧已经加载\n      video.addEventListener('loadeddata', this._loadeddataFun);\n      //duration 属性的值改变时触发\n      video.addEventListener('durationchange', this._durationchangeFun);\n    }\n  }\n\n  private canplayFun(e: any) {\n    if (this._canPlayFirst === false) { // 某些设备 设置currentTime 也会触发canplay 这里统一video只抛出一次  后面看情况优化\n      this._canPlayFirst = true;\n      this.emit('canplay', e, this);\n    }\n  }\n  private canplaythroughFun(e: any) {\n    this.emit('canplaythrough', e, this);\n  }\n  private completeFun(e: any) {\n    this.emit('complete', e, this);\n  }\n  private pauseFun(e: any) {\n    (this._videoBtn && this._videoBtn.setStates(\"pause\"));\n    this._isplaying = false;\n    this.emit(\"paused\", e, this);\n  }\n  private playFun(e: any) {\n    (this._videoBtn && this._videoBtn.setStates(\"play\"));\n    this._isplaying = true;\n    VideoGroupController.updateVideoGroupStates(this);\n    this.emit(\"play\", e, this);\n  }\n\n  private endedFun(e: any) {\n    this._isplaying = false;\n    this.emit('ended', e, this);\n  }\n\n  private loadeddataFun(e: any) {\n    const video = this._video;\n    //这里判断当前版本支持问题\n    if (this._canPlay == false && (video.videoWidth <= 0) || this.checkComatibility() === true) {\n      this._canPlay = true;\n      this._elemDraw = true;\n      console.log(\"视频不支持纹理\");\n      this.clearSprite();\n      if (!video.parentElement && this.stage && this.stage.app) {\n        const canvas: HTMLCanvasElement = this.stage.app.view;\n        if (canvas && canvas.parentElement) {\n          canvas.parentElement.appendChild(this._video);\n          //调整标签位置\n          this.setPos();\n          //刷新宽高\n          this.invalidateDisplayList();\n        }\n      }\n    } else {\n      this._posterImg && (this._posterImg.visible = true);\n      this.createVideoBtn();\n    }\n\n    this._firstLoad = true;\n    if (this._fullStates == \"fulling\") {\n      this.fullScreen();\n    }\n    this.emit('loadeddata', e, this);\n  }\n  // 内核版本白名单\n  private checkComatibility(): boolean {\n    if (this.forceElementDraw === true) {\n      return true;\n    }\n    const agent = navigator.userAgent;\n    if (agent) {\n      if (agent.indexOf(\"HUAWEICMR-W09\") > -1) {\n        return true;\n      }\n\n      const info = vf.utils.getSystemInfo();\n      const bowser = info.browser;\n      const name = bowser.name as string;\n      const version = bowser.version;\n      const type = info.device.type;\n      let sing = Number.MAX_VALUE.toString();\n      if (name.toLocaleLowerCase() === \"chrome\") {\n        sing = version.split(\".\")[0];\n      }\n      // alert(\"bowser :\" + version + \"000000\" + type);\n      if (Number(sing) <= 62 && (type === \"tablet\" || type === \"mobile\")) {\n        //安卓 chrome版本小于62 暂用标签\n        return true;\n      }\n    }\n\n    return false;\n  }\n  private durationchangeFun(e: any) {\n    this.emit('durationchange', e, this);\n  }\n\n  private checkVideoPlay() {\n    const video = this._video;\n    this.updateSystem();\n    if (this._sprite) {\n      if (this._sprite.texture) {\n        this._sprite.texture.destroy();\n      }\n      this._sprite.destroy();\n    }\n\n    this._sprite = undefined;\n    video.width = this.width;\n    video.height = this.height;\n    video.style.position = \"absolute\";\n    //对位置\n    this.setPos();\n  }\n\n  public get x() {\n    return this.container.x;\n  }\n  public set x(value: number) {\n    this.container.position.x = value;\n    this.invalidateDisplayList();\n  }\n\n  public get y() {\n    return this.container.y;\n  }\n\n  public set y(value: number) {\n    this.container.position.y = value;\n    this.invalidateDisplayList();\n  }\n\n  private setPos() {\n    this._canvasBounds = this._getCanvasBounds();\n    const cb = this._canvasBounds;\n    this.stage && this.container.updateTransform();\n    const m = this.container.worldTransform.clone();\n    const transform = 'matrix(' + [m.a, m.b, m.c, m.d, 0, 0].join(',') + ')';\n    if (cb) {\n      const vleft = cb.left + m.tx + this.width * (m.a - 1) * 0.5;\n      const vtop = cb.top + m.ty + this.height * (m.d - 1) * 0.5;\n      this.updatePostion(vtop, vleft, transform, this.container.worldAlpha);\n    }\n  }\n\n  private _getCanvasBounds() {\n    if (this._lastRenderer) {\n      const rect = this._lastRenderer.view.getBoundingClientRect();\n      const bounds = { top: rect.top, left: rect.left, width: rect.width, height: rect.height };\n      bounds.left += window.scrollX;\n      bounds.top += window.scrollY;\n      return bounds;\n    }\n    return undefined;\n  }\n\n  private updateSystem() {\n    if (this.stage) {\n      const renderer = this.stage.app.renderer as vf.Renderer;\n      this._resolution = renderer.resolution;\n      this._lastRenderer = renderer;\n    }\n\n  }\n  private updatePostion(top: string | number, left: string | number, transform: string, opacity?: string | number) {\n    this._video.style.top = Number(top) + 'px'\n    this._video.style.left = Number(left) + 'px'\n    this._video.style.transform = transform;\n    if (opacity)\n      this._video.style.opacity = opacity.toString();\n\n  }\n\n\n\n  private _lastPostion = new vf.Rectangle();\n\n  protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n    super.updateDisplayList(unscaledWidth, unscaledHeight);\n\n    const lastPostion = this._lastPostion;\n    if (lastPostion.x !== this.x || lastPostion.y !== this.y ||\n      lastPostion.width !== this.width || lastPostion.height !== this.height) {\n      this._lastPostion.x = this.x;\n      this._lastPostion.y = this.y;\n      this._lastPostion.width = this.width;\n      this._lastPostion.height = this.height;\n      this.validateDisplayList();\n      // if (this.useNativeAudio()) {\n      //   this.nativeEmit(this.src, 'position')\n      // }\n\n    }\n\n    if (this.useNativeAudio()) {\n      if (this._silent) {\n        this._src = this._silent;\n      }\n      else {\n        console.warn('课件环境需要配置silent参数！');\n        return;\n      }\n    }\n\n    if (unscaledWidth === 0 && unscaledHeight === 0) {\n      return;\n    }\n\n    if (!this._src || this._src === undefined || this._src === \"\" || this._src != this._oldSrc) {\n      this._oldSrc = this._src;\n      this.clearSource();\n      if (this._src && this._src != \"\") {\n        this.createVideoSource();\n      }\n    }\n    if (this._canPlay) {\n      this.checkVideoPlay();\n    }\n\n    if (this._sprite && this._fullStates === \"noFull\") {\n      this._sprite.width = unscaledWidth;\n      this._sprite.height = unscaledHeight;\n    }\n\n\n    this.updataPoster();\n  }\n\n  private updataPoster() {\n\n    if (this._poster && this._poster !== this._oldPoster) {\n      if (!this._posterImg) {\n        this._posterImg = new vf.Sprite();\n        const index = this.container.getChildIndex(this._sprite);\n        this.container.addChildAt(this._posterImg, index + 1);\n      }\n      this._posterImg.texture = getTexture(this._poster);\n      this._oldPoster = this._poster;\n      this._posterImg.width = this.width;\n      this._posterImg.height = this.height;\n      this._posterImg.visible = false;\n    }\n  }\n\n  private clearPoster() {\n    if (this._posterImg) {\n      if (this._posterImg.parent) {\n        this._posterImg.parent.removeChild(this._posterImg);\n      }\n      this._posterImg.destroy();\n      this._posterImg = undefined;\n    }\n    this._oldPoster = \"\";\n  }\n\n  /**\n   * 支持的参数们~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n\n  //静音视频\n  private _silent: any;\n  public set silent(value: any) {\n    value = getSource(value);\n    this._silent = value;\n  }\n\n  public get silent() {\n    return this._silent;\n  }\n\n  //视频对应的音频\n  private _audio: any;\n  public set audio(value: any) {\n    value = getSource(value);\n    this._audio = value;\n  }\n  public get audio() {\n    return this._audio;\n  }\n\n  //设置src\n  public get src() {\n    return this._src;\n  }\n  public set src(value) {\n    const o = getSource(value);\n    let checkUrl = false;\n    checkUrl = (typeof value === 'string' && value.indexOf('//') !== -1);\n    let v = value;\n    if (!o && !checkUrl) { // 没有值 并且不是链接\n      this._src = null;\n      this._oldSrc = undefined as any;\n      //清除旧视频数据\n      this.clearSource();\n      this.clearVideoBtn();\n      this.clearPoster();\n      this.clearSprite();\n      this.clearVideo();\n      return;\n    }\n    if (o && typeof (o) === \"object\" && o.url) {\n      v = o.url\n      if (o[\"audio\"]) {\n        this._audio = o[\"audio\"];\n      }\n      if (o[\"silent\"]) {\n        this._silent = o[\"silent\"];\n      }\n    }\n\n    if (this._src == v) {\n      return;\n    }\n\n    if (v instanceof HTMLVideoElement) {\n      this._video = v;\n      this._src = this._video.src;\n    } else {\n      this._src = v;\n    }\n    // this.checkSrcLegal();\n    //受别的参数影响  下一帧生效\n    this.invalidateDisplayList();\n  }\n\n\n  public get srcObject() {\n    if (this._src && window[\"MediaStream\"] && this._src instanceof MediaStream) {\n      return this._src;\n    }\n    if (!window[\"MediaStream\"]) {\n      console.log(\"当前不支持 mediaStream\");\n    }\n    return undefined as any;\n  }\n\n  public set srcObject(value: any) {\n    if (this._src === value) {\n      return;\n    }\n    this._src = value;\n    this.invalidateDisplayList();\n  }\n\n  public get autoplay() {\n    return this._autoplay;\n  }\n\n  public set autoplay(value) {\n    this._autoplay = value;\n    this._video && (this._video.autoplay = value);\n  }\n\n  public get loop() {\n    return this._loop;\n  }\n  public set loop(value: boolean) {\n    this._loop = value;\n    this._video && (this._video.loop = value);\n  }\n\n  public get poster() {\n    return this._poster;\n  }\n\n  public set poster(value) {\n    if (this._poster === value) {\n      return;\n    }\n    this._poster = value;\n    this.invalidateDisplayList();\n  }\n  //静音\n  public get muted(): boolean {\n    return this._muted;\n  }\n  public set muted(boo: boolean) {\n    this._muted = boo;\n    this._video && (this._video.muted = boo);\n  }\n\n  public get controls(): boolean {\n    return this._controls;\n  }\n  public set controls(boo: boolean) {\n    this._controls = boo;\n    this._video && (this._video.controls = boo);\n    this._videoBtn && (this._videoBtn.visible = (this._controls && !this._elemDraw));\n  }\n\n  public get volume() {\n    return this._volume;\n  }\n  public set volume(value) {\n    value = value > 1 ? 1 : value;\n    value = value < 0 ? 0 : value;\n    this._volume = value;\n    this._video && (this._video.volume = value);\n  }\n\n  public get visible() {\n    return this._visibleStatus;\n  }\n\n  public set visible(boo: boolean) {\n    if (this._visibleStatus === boo) {\n      return;\n    }\n    this._visibleStatus = boo;\n    if (boo === true) {\n      this.validateNow();\n    }\n    this.container.visible = boo;\n    this._video && (this._video.style.visibility = this.visible ? \"visible\" : \"hidden\");\n  }\n\n  public get videoElement() {\n    return this._video;\n  }\n\n  //播放位置\n  public get currentTime(): number {\n    return this._currentTime;\n  }\n\n  public set currentTime(value: number) {\n\n    this._currentTime = value;\n    this._video && (this._video.currentTime = this._currentTime);\n  }\n\n  /** \n   * 设置分组名\n   */\n  public get videoGroup(): string | undefined {\n    return this._groupName;\n  }\n\n  public set videoGroup(value: string | undefined) {\n    if (value === undefined) {\n      VideoGroupController.unRegistrerVideoGroup(this)\n    }\n    if (this._groupName == value) {\n      return;\n    }\n    this._groupName = value;//需要在registrerCheckGroup之前\n    VideoGroupController.registrerVideoGroup(this);\n  }\n\n  /** \n   * 只读的属性们~~~~~~~~~~~~~~~~\n   * */\n  public get duration() {//视频长度\n    if (this._video) {\n      return this._video.duration;\n    }\n    return 0;\n  }\n\n  public get isPlaying() {\n    return this._isplaying;\n  }\n\n  /**\n  * 支持的方法们~~~··~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  **/\n  public play() {\n    //如果处于恢复状态，不播放声音\n    if (this.stage?.syncManager && this.stage.syncManager.resumeStatusFlag) {\n      return;\n    }\n\n    //在教室环境，使用nativeAudio\n    if (this.useNativeAudio()) {\n      if (!this._audio) {\n        console.warn('课件环境需要配置audio参数！');\n      }\n      this.nativeEmit(this._audio, 'playAudio');\n    }\n    if (this._video) {\n      this.clearPoster();\n      try {\n        this._video.play();\n      } catch (error) {\n        console.log(error);\n      }\n      return;\n    } else {\n      this.autoplay = true; // 正常不走这里\n    }\n    // throw new Error(\"Video is undefined!\");\n  }\n\n  public pause() {\n    //如果处于恢复状态，不播放声音\n    if (this.stage?.syncManager && this.stage.syncManager.resumeStatusFlag) {\n      return;\n    }\n\n    //在教室环境，使用nativeAudio\n    if (this.useNativeAudio()) {\n      this.nativeEmit(this._audio, 'pauseAudio');\n    }\n    this._video && this._video.pause();\n  }\n\n  private _oldX = 0;\n  private _oldY = 0;\n\n  private _fullStates: \"full\" | \"fulling\" | \"noFull\" = \"noFull\";\n  //进入全屏\n  public requestFullScreen() {\n    if (this._elemDraw == true) {\n      this.requestFullScreenDom();\n      return;\n    }\n\n    if (this._fullStates == \"full\") {\n      return;\n    }\n    //全屏是自己做的 需要记录小屏的数据  需要满足两个需求\n    //1 获取的到stage的宽高\n    //2.已经加载了第一帧  否则sprite的宽高记录不到\n    const stage = this.stage;\n    if (!stage || this._firstLoad == false) {\n      this._fullStates = \"fulling\";\n      return;\n    }\n    this.fullScreen();\n  }\n  private fullScreen() {\n    const stage = this.stage;\n    if (!stage || !this._sprite) {\n      return;\n    }\n    this._fullStates = \"full\";\n    this._oldX = this.x;\n    this._oldY = this.y;\n    const stageWidth = stage.width;\n    const stageHeight = stage.height;\n    const scale = Math.min(stageWidth / this.width, stageHeight / this.height);\n    const w = this.width * scale;\n    const h = this.height * scale;\n    this._sprite.width = w;\n    this._sprite.height = h;\n    if (this._posterImg) {\n      this._posterImg.width = w;\n      this._posterImg.height = h;\n    }\n\n    let disX = 0;\n    let disY = 0;\n    if (this.container.parent) {\n      const pos1 = this.container.parent.toLocal(new vf.Point(0, 0));\n      disX = pos1.x;\n      disY = pos1.y;\n    }\n\n    this.x = (stageWidth - this._sprite.width) * 0.5 + disX;\n    this.y = (stageHeight - this._sprite.height) * 0.5 + disY;\n\n  }\n\n  private requestFullScreenDom() {\n    const de: any = this._video;\n\n    if (de.requestFullscreen) {\n      de.requestFullscreen();\n    } else if (de.mozRequestFullScreen) {\n      de.mozRequestFullScreen();\n    } else if (de.webkitRequestFullScreen) {\n      de.webkitRequestFullScreen();\n    } else if (de.webkitEnterFullScreen) {\n      de.webkitEnterFullScreen();\n    }\n  }\n\n  //退出全屏\n  public exitFullscreen() {\n    if (this._elemDraw == true) {\n      this.exitFullscreenDom();\n      return;\n    }\n    if (this._fullStates == \"noFull\" || !this._sprite) {\n      return;\n    }\n    this._fullStates = \"noFull\";\n    this._sprite.width = this.width;\n    this._sprite.height = this.height;\n    if (this._posterImg) {\n      this._posterImg.width = this.width;\n      this._posterImg.height = this.height;\n    }\n    this.x = this._oldX;\n    this.y = this._oldY;\n  }\n  public exitFullscreenDom() {\n    const de: any = this._video;\n    if (de.exitFullscreen) {\n      de.exitFullscreen();\n    } else if (de.mozCancelFullScreen) {\n      de.mozCancelFullScreen();\n    } else if (de.webkitCancelFullScreen) {\n      de.webkitCancelFullScreen();\n    } else if (de.webkitExitFullScreen) {\n      de.webkitExitFullScreen();\n    }\n  }\n\n  private clearSource() {\n    const v = this._videoTextrue;\n    if (v) {\n      this.exitFullscreen();\n      if (v.baseTexture && v.baseTexture.resource.source) {\n        v.baseTexture.resource.source.onseeked = null;\n      }\n      v.destroy();\n    }\n\n  }\n\n  private clearVideoBtn() {\n    if (this._videoBtn) {\n      if (this._videoBtn.parent) {\n        this._videoBtn.parent.removeChild(this._videoBtn);\n      }\n      this._videoBtn.off(vf.gui.Interaction.TouchMouseEvent.onClick, this.clickAudio, this);\n      this._videoBtn.release();\n      this._videoBtn = undefined;\n    }\n  }\n\n  private clearVideoEvent() {\n    if (this._video) {\n      const video = this._video;\n      video.removeEventListener('canplay', this._canplayFun);\n      //浏览器估算可以播放到结束，不需要停止缓存更多的内容。\n      video.removeEventListener('canplaythrough', this._canplaythroughFun);\n      //渲染完成\n      video.removeEventListener('complete', this._completeFun);\n      //视频已经到达结束点\n      video.removeEventListener('ended', this._endedFun);\n      //首帧已经加载\n      video.removeEventListener('loadeddata', this._loadeddataFun);\n      //duration 属性的值改变时触发\n      video.removeEventListener('durationchange', this._durationchangeFun);\n      //暂停\n      video.removeEventListener('pause', this._pauseFun);\n      //播放\n      video.removeEventListener('play', this._playFun);\n    }\n    this._videoHasEvent = false;\n  }\n\n  private clearVideo() {\n    if (this._video) {\n      const video = this._video;\n      this.clearVideoEvent();\n      if (video.parentElement) {\n        video.parentElement.removeChild(this._video);\n      }\n    }\n    this._video && (this._video.pause());\n    this._video = null as any;\n    this._isplaying = false;\n  }\n\n  private clearSprite() {\n    if (this._sprite) {\n      this._sprite.parent && this._sprite.parent.removeChild(this._sprite);\n      this._sprite.texture && this._sprite.texture.destroy();\n      this._sprite.destroy();\n      this._sprite = undefined;\n    }\n  }\n\n  private useNativeAudio() {\n    return (this.stage as any)?.config?.vfvars.useNativeAudio;\n  }\n\n  private nativeEmit(url: string, typeTag: 'pauseAudio' | 'playAudio' | 'position',) {\n\n    this.stage?.getSystemEvent().emit('message', {\n      code: 'native',\n      type: 'native',\n      level: 'command',\n      target: this,\n      data: {\n        type: typeTag,\n        src: url,\n        mode: 'sound',\n        signalling: false,\n      }\n    });\n  }\n\n  public release() {\n    super.release();\n    //在教室环境，使用nativeAudio\n    if (this.useNativeAudio()) {\n      this.nativeEmit(this._audio, 'pauseAudio');\n    }\n\n    this._src = null;\n    this._oldSrc = null as any;\n    this._canvasBounds = undefined;\n    this._lastRenderer = undefined;\n    this._resolution = 1;\n    this._poster = this._oldPoster = \"\";\n    VideoGroupController.unRegistrerVideoGroup(this);\n    this._canplayFun = null;\n\n    this.clearSource();\n    this.clearPoster();\n    this.clearSprite();\n    this.clearVideo();\n    this.clearVideoBtn();\n\n    this._canplaythroughFun = null;\n    this._completeFun = null;\n    this._endedFun = null;\n    this._loadeddataFun = null;\n    this._durationchangeFun = null;\n    this._firstLoad = false;\n    this._fullStates = \"noFull\";\n    this._canPlay = false;\n    this._elemDraw = false;\n    this._canPlayFirst = false;\n  }\n}\n\n","import { Container } from \"./Container\";\nimport { Circle } from \"./Circle\";\nimport { Star } from \"./Star\";\nimport { Rect } from \"./Rect\";\nimport { TouchMouseEvent, InteractionEvent } from \"../interaction/Index\";\nimport { DisplayObject } from \"../core/DisplayObject\";\nexport class VideoBtn extends Container {\n\n    private _states: \"play\" | \"pause\" = \"pause\";\n    private _bgCircle?: Circle;\n    private _thumbTriangle?: Star;\n    private _rect1?: Rect;\n    private _rect2?: Rect;\n\n    public constructor() {\n        super();\n        this.updateDisplayList();\n    }\n\n    public setStates(states: \"play\" | \"pause\") {\n        this._states = states;\n        this.updateDisplayList();\n    }\n\n    public updateDisplayList() {\n        this.initBgCircle();\n        this.initTrangle();\n        this.initLine();\n        switch (this._states) {\n            case \"play\":\n                this.refreshPlay();\n                break;\n            case \"pause\":\n                this.refreshPause();\n                break;\n        }\n    }\n    private refreshPlay() {\n        this._rect1 && (this._rect1.visible = true);\n        this._rect2 && (this._rect2.visible = true);\n\n    }\n\n    private refreshPause() {\n        this._thumbTriangle && (this._thumbTriangle.visible = true);\n\n    }\n\n    private initBgCircle() {\n        if (!this._bgCircle) {\n            this._bgCircle = new Circle();\n            this._bgCircle.color = 0xef7f51;\n            this.on(TouchMouseEvent.onHover, this.onHover, this);\n            this.addChild(this._bgCircle);\n        }\n        this._bgCircle.width = this.width;\n        this._bgCircle.height = this.height;\n\n    }\n\n    private onHover(e: InteractionEvent, thisObj: DisplayObject, over: boolean) {\n        if (over) {\n            thisObj.style.cursor = 'pointer';\n        }\n        else {\n            thisObj.style.cursor = '';\n        }\n    }\n\n    private initTrangle() {\n        if (!this._thumbTriangle) {\n            this._thumbTriangle = new Star();\n            this._thumbTriangle.color = 0xffffff;\n            this._thumbTriangle.triangleNum = 3;\n            this._thumbTriangle.rotation = 90;\n            this._thumbTriangle.anchorX = 0.5;\n            this._thumbTriangle.anchorY = 0.5;\n            this.addChild(this._thumbTriangle);\n        }\n        this._thumbTriangle.visible = false;\n        this._thumbTriangle.x = this.width * 0.87;\n        this._thumbTriangle.y = this.width * 0.13;\n        this._thumbTriangle.width = this._thumbTriangle.height = this.width * 0.5;\n\n    }\n    private initLine() {\n        if (!this._rect1) {\n            this._rect1 = new Rect();\n            this._rect1.color = '0xffffff';\n            this.addChild(this._rect1);\n        }\n        this._rect1.width = this.width * 0.1;\n        this._rect1.height = this.width * 0.3;\n        this._rect1.x = this.width * 0.35;\n        this._rect1.y = this.width * 0.35;\n        this._rect1.visible = false;\n\n        if (!this._rect2) {\n            this._rect2 = new Rect();\n            this._rect2.color = '0xffffff';\n            this.addChild(this._rect2);\n        }\n        this._rect2.width = this.width * 0.1;\n        this._rect2.height = this.width * 0.3;\n        this._rect2.x = this.width * 0.55;\n        this._rect2.y = this.width * 0.35;\n        this._rect2.visible = false;\n    }\n\n    public release() {\n\n        if (this._bgCircle) {\n            this._bgCircle.parent && (this._bgCircle.parent.removeChild(this._bgCircle));\n            this._bgCircle.release();\n            this._bgCircle = undefined;\n        }\n        if (this._thumbTriangle) {\n            this._thumbTriangle.parent && (this._thumbTriangle.parent.removeChild(this._thumbTriangle));\n            this._thumbTriangle.release();\n            this._thumbTriangle = undefined;\n        }\n        if (this._rect1) {\n            this._rect1.parent && (this._rect1.parent.removeChild(this._rect1));\n            this._rect1.release();\n            this._rect1 = undefined;\n        }\n        if (this._rect2) {\n            this._rect2.parent && (this._rect2.parent.removeChild(this._rect2));\n            this._rect2.release();\n            this._rect2 = undefined;\n        }\n        this.off(TouchMouseEvent.onHover, this.onHover, this);\n        super.release();\n    }\n}","import { AnimationJitter } from \"./AnimationJitter\";\nimport { AnimationPath } from \"./AnimationPath\";\nexport class Animation {\n\n    private static _aniList: any[] = [];\n    public static play(type: string, sprite: any, options: any, durtime?: number, callBack?: Function) {\n        let cls: any;\n        switch (type) {\n            case \"jitter\":\n                cls = AnimationJitter;\n                break;\n            case \"path\":\n                cls = AnimationPath;\n                break;\n        }\n        const _ani = new cls(sprite, options, durtime);\n\n        Animation._aniList.push(_ani);\n        if (_ani) {\n            _ani.on(\"complete\", () => {\n                Animation.removeItem(_ani);\n                _ani.release();\n                callBack && callBack();\n            });\n            _ani.on('release', () => { //主动释放动画 需要从动画列表清除\n                Animation.removeItem(_ani);\n            })\n            _ani.play();\n        }\n        return _ani;\n    }\n\n    private static removeItem(_ani: any) {\n        if (!Animation._aniList) {\n            return;\n        }\n        for (let i = 0; i < Animation._aniList.length; i++) {\n            if (Animation._aniList[i] === _ani) {\n                Animation._aniList.splice(i, 1);\n                return;\n            }\n        }\n    }\n\n\n    public static releaseAll() {\n        if (Animation._aniList) {\n            for (let i = 0; i < Animation._aniList.length; i++) {\n                if (Animation._aniList[i]) {\n                    Animation._aniList[i].release();\n                }\n            }\n        }\n        Animation._aniList = [];\n    }\n\n}","import { AnimationBase, AnimationBaseData } from \"../private/AnimationBase\";\nimport { TweenEvent } from '../../event/TweenEvent';\nimport { Tween } from '../../tween/Tween';\n\nexport class AnimationJitter extends AnimationBase {\n    private tween: any;\n\n    constructor(sp?: any, options?: any, duratime?: number) {\n        super(sp, options, duratime);\n        this._revertAni = true;\n    }\n\n\n    public play(timer = 0) {\n        if (this.playing === true) {\n            return;\n        }\n        super.play(timer);\n        const sp = this.sprite; //显示对象\n        this.tween && this.clearTween();\n\n        if (!this.tween) {\n            this.tween = new Tween(sp)\n                .to(this.options, 35)\n                .repeat(Infinity)\n                .easing(vf.gui.Easing.Linear.None)\n                .yoyo(true)\n                .delay(10);\n            this.tween.on(TweenEvent.complete, this.complete.bind(this));\n        }\n\n\n        this.tween.start();\n\n\n    }\n\n    public gotoAndStop(timer: number) {\n        this.tween && this.tween.gotoAndStop(timer);\n        super.gotoAndStop(timer);\n    }\n\n\n    // public getTimeData(timer: number) {\n    //     const d = new AnimationBaseData();\n    //     if (timer <= 2000) {\n    //         d.x = 200 + 200 * (timer / 1000);\n    //     }\n\n    //     return d;\n    // }\n\n\n    private clearTween() {\n        const sp = this.sprite; //显示对象\n        if (this.tween) {\n            this.tween.release();\n            this.tween = undefined;\n        }\n    }\n\n    public complete() {\n        this.clearTween();\n        super.complete();\n\n    }\n\n    public release() {\n        this.clearTween();\n        super.release();\n\n    }\n\n\n\n\n}","import { AnimationBase } from \"../private/AnimationBase\";\nimport { PathTimeline } from './PathTimeline';\nimport { TickerShared } from \"../../core/Ticker\";\nexport class AnimationPath extends AnimationBase {\n    private pathTimeline?: PathTimeline;\n    constructor(sp?: any, options?: any, duratime?: number) {\n        super(sp, options, duratime);\n        this.pathTimeline = new PathTimeline(options.path);\n        this.pathTimeline.frames = options.frames;\n        if (options.frames && options.frames.length) {\n            this.pathTimeline.totalTime = options.frames[options.frames.length - 1].time;\n        }\n\n        this.pathTimeline.loop = !!options.loop;\n    }\n\n\n    public play(timer = 0) {\n        if (this.playing === true) {\n            return;\n        }\n        super.play(timer);\n\n    }\n\n\n    public gotoAndStop(timer: number) {\n        super.gotoAndStop(timer);\n    }\n\n    protected updata(delta: number) {\n        if (this.playing === false) {\n            return;\n        }\n        this._currenTimer += TickerShared.deltaMS;\n        const { pathTimeline, sprite } = this;\n        if (pathTimeline) {\n            pathTimeline.globalTime = this._currenTimer;\n            //因为path.getPointAtLength这个api比较耗性能，导致恢复时长较长，故恢复状态不实时获取坐标  by ziye+\n            if(sprite && sprite.stage && !sprite.stage.resumeStatusFlag){\n                let curPos = pathTimeline.curPos;\n                sprite.x = curPos[0];\n                sprite.y = curPos[1];\n            }\n\n            if (!pathTimeline.loop && this._currenTimer >= pathTimeline.totalTime) {\n                //校对位置\n                let curPos = pathTimeline.curPos;\n                sprite.x = curPos[0];\n                sprite.y = curPos[1];\n                this.complete();\n            }\n        }\n    }\n\n\n    public release() {\n        if (this.pathTimeline) {\n            this.pathTimeline.release();\n            this.pathTimeline = null as any;\n        }\n\n        super.release();\n\n    }\n\n\n\n\n}","import { Timeline } from './Timeline';\n\n\nexport class PathTimeline extends Timeline<number> {\n\n    private path: SVGPathElement;\n    private length: number = 0;\n    constructor(path: string) {\n        super();\n        this.path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        this.path.setAttribute(\"d\", path);\n        this.length = this.path.getTotalLength();\n    }\n\n\n    public get curPos(): [number, number] {\n        if (this.path) {\n            const p = this.path.getPointAtLength(this._curValue * this.length);\n            return [p.x, p.y];\n        }\n        return [0, 0]\n    }\n\n    public get angle(): number {\n        let p0 = this.path.getPointAtLength(this._curValue * this.length - 1);\n        let p1 = this.path.getPointAtLength(this._curValue * this.length + 1);\n        return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n    }\n\n    public release() {\n        if (this.path && this.path.parentElement) {\n            this.path.parentElement.removeChild(this.path);\n        }\n        this.path = null as any;\n        super.release();\n    }\n\n}\n","export class Timeline<T>  {\n\n    public set defaultValue(value: T) {\n        this._defaultValue = value;\n        this._curValue = value;\n    }\n    public get curValue(): T {\n        return this._curValue;\n    }\n\n    public set globalTime(v: number) {\n        this._globalTime = v;\n        this.tick();\n        this._lastGlobalTime = v;\n    }\n\n    public frames: Array<Frame<T>> = [];\n    private curTime = 0;\n    public lastTime = 0;\n    public loop = false;\n    public totalTime = 0;\n    protected _defaultValue: T = null as any;\n    protected _globalTime = 0;\n\n    protected _lastGlobalTime = 0;\n    protected _lastFrame: Frame<T> | null = null as any;\n    protected _curFrame: Frame<T> | null = null;\n    protected _nextFrame: Frame<T> = null as any;\n    protected _times = -1;\n\n    protected _curValue: T = null as any;\n\n    constructor() {\n        //\n    }\n\n    protected getProgress(cur: number, min: number, max: number, ease: ((k: number) => number) | any): number {\n        let lineProgress = 0;\n        let curveProgress = 0;\n        if (max === min) {\n            lineProgress = 0;\n        } else {\n            lineProgress = (cur - min) / (max - min);\n        }\n        curveProgress = lineProgress;\n        if (ease) {\n            curveProgress = ease(lineProgress);\n            // todo bezier\n        }\n        return curveProgress;\n    }\n\n    protected tick(): void {\n        this.curTime = this._globalTime;\n        if (this.loop) {\n            this._times = Math.floor(this.curTime / this.totalTime);\n            this.curTime = this.curTime - this.totalTime * this._times;\n        }\n        this.updateCurFrame();\n        this.updateCurValue();\n        this.lastTime = this.curTime;\n    }\n    protected updateCurFrame(): void {\n        if (this.frames.length === 0) {\n            return;\n        }\n        this._lastFrame = this._curFrame;\n        let i = 0;\n        let len = 0;\n        for (i = 0, len = this.frames.length; i < len; i++) {\n            if (this.frames[i].time > this.curTime) {\n                if (i === 0) {\n                    this._curFrame = null;\n                    this._nextFrame = this.frames[i];\n                } else {\n                    this._curFrame = this.frames[i - 1];\n                    this._nextFrame = this.frames[i];\n                }\n                return;\n            }\n        }\n        this._curFrame = this.frames[this.frames.length - 1];\n        this._nextFrame = this._curFrame;\n    }\n\n    protected updateCurValue(): void {\n        if (this._curFrame && this._nextFrame) {\n            const p = this.getProgress(this.curTime, this._curFrame.time,\n                this._nextFrame.time, this._curFrame.ease);\n\n            this._curValue = this._curFrame.getValue(p, this._nextFrame.value);\n        }\n    }\n\n\n    public release() {\n        this.frames = [];\n        this.curTime = 0;\n        this.lastTime = 0;\n        this.loop = false;\n        this.totalTime = 0;\n        this._defaultValue = null as any;\n        this._globalTime = 0;\n        this._lastGlobalTime = 0;\n        this._lastFrame = null as any;\n        this._curFrame = null;\n        this._nextFrame = null as any;\n        this._times = -1;\n    }\n}\n\n\nexport class Frame<T> {\n\n    public time = -1;\n    public ease?: ((k: number) => number) | any\n    public value: T = null as any;\n\n\n    public getValue(progress: number, value: T): T {\n        return null as any;\n    }\n}\nexport class NumberFrame extends Frame<number> {\n\n    constructor() {\n        super();\n    }\n\n    public getValue(progress: number, value: number): number {\n        return this.value + (value - this.value) * progress;\n    }\n}","import { TickerShared } from \"../../core/Ticker\";\nimport { deepCopy } from \"../../utils/Utils\";\nimport { Animation } from \"../animation/Animation\";\nexport class AnimationBaseData { //所有影响当前显示对象的数据 都要放在这里缓存  便于支持gotoplay等方法\n    public x = NaN;\n    public y = NaN;\n    public rotation = NaN;\n}\n\nexport class AnimationBase extends vf.utils.EventEmitter {\n\n    private _sprite: any;\n    protected _spriteData?: AnimationBaseData;//初始数据\n    private _options: any;\n    private _duratime = NaN; //持续\n    protected _currenTimer = NaN; //当前播放时间\n    protected _revertAni = false; //动画播放后 sprite是否重置最初状态\n    private _playing = false;\n    private _valuesStart: any;\n    protected _toValue: any;//子类赋值\n    private _addTick = false;\n\n    constructor(sp?: any, options?: any, duratime?: number) {\n        super();\n        if (sp) {\n            this.sprite = sp;\n        }\n        if (options) {\n            this._options = options;\n        }\n        if (duratime) {\n            this._duratime = duratime;\n        }\n    }\n    public get playing() {\n        return this._playing;\n    }\n\n    public get sprite() {\n        return this._sprite;\n    }\n\n    public set sprite(value) {\n        this._sprite = value;\n    }\n\n    public get options() {\n        return this._options;\n    }\n\n    public set options(value) {\n        this._options = value;\n    }\n\n    public get revertAni() {\n        return this._revertAni;\n    }\n\n    protected cacheSprite() {\n        if (this.sprite) {\n            const object = this.sprite;\n            const opt = this._options;\n            this._valuesStart = {};\n            for (const property in opt) {\n                const start = object && object[property] && deepCopy(object[property]);\n                this._valuesStart[property] = start;\n            }\n        }\n    }\n\n    //子类重写\n    public play(curTimer = NaN) {\n        // this.emit(\"play\", this);\n        if (this._revertAni === true) {\n            this.cacheSprite();\n        }\n        this._playing = true;\n        if (isNaN(curTimer)) {\n            isNaN(this._currenTimer) && (this._currenTimer = 0);\n        } else {\n            this._currenTimer = curTimer;\n        }\n        if (!this._addTick) {\n            this._addTick = true;\n            TickerShared.add(this.updata, this);\n        }\n    }\n\n    public pause() {\n        this._playing = false;\n        this.gotoAndStop(this._currenTimer);\n    }\n    /**\n     * 播放完成 \n     */\n    public complete() {\n        TickerShared.remove(this.updata, this);\n        this._playing = false;\n        if (this._revertAni === true) {\n            //还原状态\n            this.setTimeStates(0);\n        }\n        this.emit(\"complete\");\n    }\n\n    public gotoAndPlay(timer: number) {\n        this.goto(timer);\n        this._playing = true;\n        this.play(timer);\n    }\n\n    public gotoAndStop(timer: number) {\n        this._playing = false;\n        this.goto(timer);\n    }\n    /**\n     * 跳转\n     */\n    public goto(timer: number) {\n        //刷新当前显示对象的状态信息\n        this._currenTimer = timer;\n        this.setTimeStates(timer);\n    }\n    /**\n     * \n     * 设置当前sprite状态\n     */\n    private setTimeStates(timer: number) {\n        const d = this.getTimeData(timer);\n        if (this._sprite && d) {\n            !isNaN(d.x) && (this._sprite.x = d.x);\n            !isNaN(d.y) && (this._sprite.y = d.y);\n            !isNaN(d.rotation) && (this._sprite.rotation = d.rotation);\n        }\n    }\n    /**\n     * 获取当前时间的sprite数据\n     * 如果重播时重头播放就可以  子类可以不用重写\n     *  每个动画计算方式不同 这个方法需要重写\n     */\n    public getTimeData(timer: number) {\n        return this._spriteData;\n    }\n\n    /**\n     * \n     */\n    protected updata(delta: number) {\n        if (this._playing === false) {\n            return;\n        }\n        if (this._duratime > 0 && this._currenTimer >= this._duratime) {\n            this.complete();\n        } else {\n            this._currenTimer += TickerShared.deltaMS;\n        }\n    }\n\n    //子类重写\n    public release() {\n        this.emit(\"release\");\n        this.removeAllListeners();\n        TickerShared.remove(this.updata, this);\n        this._addTick = false;\n        this._sprite = undefined;\n        this._options = undefined;\n        this._duratime = NaN;\n        this._playing = false;\n    }\n\n\n\n\n}","import { getSource } from '../../utils/Utils';\nimport { GifFrame, GifFrames } from '../../utils/GifFrames';\nimport { GifSequence } from '../../utils/GifSequence';\nexport class GifSprite extends vf.Sprite {\n\n    static EVENT = {\n        FRAME_CHANGED: 'frameChanged',\n        PLAY: 'play',\n        STOP: 'stop',\n        COMPLETE: 'complete',\n        END: 'end'\n    };\n\n    private _frames: GifFrames;\n\n    private _sequences: { [key: string]: GifSequence } = {};\n\n    private _currentSequence: GifSequence;\n\n    private _currentFrame: any;\n\n\n    constructor(resource: vf.LoaderResource | string | GifFrames) {\n        super();\n        // eslint-disable-next-line no-debugger\n        // debugger;\n        if (typeof resource === 'string') {\n            resource = getSource(resource);\n            this._frames = (resource as any)['frames'];\n        } else if (resource && (\"gif\" in resource) && \"frames\" in resource) {\n            this._frames = resource;\n        } else {\n            this._frames = (resource as any)['frames'];\n        }\n\n        const allFrames = [];\n        for (let i = 0; i < this._frames.numFrames; ++i) {\n            allFrames.push(i);\n        }\n        this._currentSequence = this._addSequence('', this._frames.frames, this._frames.gif.loopCount);\n        this.setSequence('', true);\n    }\n\n    public get gifFrames(): GifFrames {\n        return this._frames;\n    }\n\n    public get totalFrames(): number {\n        return this._frames.numFrames;\n    }\n\n    public getSequence(name?: string): GifSequence {\n        return this._sequences[name as any] || this._sequences[''];\n    }\n\n    public addSequence(name: string, frames: Array<number>, loopCount?: number): GifSequence {\n        return this._addSequence(name, frames.map(f => this._frames.getFrame(f)), loopCount as any);\n    }\n\n    private _addSequence(name: string, frames: Array<GifFrame>, loopCount: number): GifSequence {\n        const seq = new GifSequence(this, name, frames, loopCount);\n        this._sequences[name] = seq;\n        return seq;\n    }\n\n    public setSequence(name: string, play?: boolean) {\n        const wasPlaying = this._currentSequence.playing;\n        if (play === undefined) {\n            play = wasPlaying;\n        }\n        this._currentSequence.stop(true);\n        this._currentSequence = this.getSequence(name);\n        this.setGifFrame(this._currentSequence.frames[0]);\n        if (!(play && this._currentSequence.play())) {\n            wasPlaying && this.emit(GifSprite.EVENT.STOP, this);\n        }\n    }\n\n    public destroy() {\n        this.stop();\n        super.destroy();\n    }\n\n    public play(): void {\n        this._currentSequence.play();\n    }\n\n    public stop(): void {\n        this._currentSequence.stop();\n    }\n\n    public setFrame(frame: number): void {\n        this.setGifFrame(this._frames.getFrame(frame));\n    }\n\n    public setGifFrame(frame: GifFrame): void {\n        if (this._currentFrame != frame) {\n            this._currentFrame = frame;\n            this.texture = frame ? frame.texture : null as any;\n            this.emit(GifSprite.EVENT.FRAME_CHANGED, this);\n        }\n    }\n\n    public gotoAndStop(frame: number): void {\n        this.setSequence('', false);\n        this.setFrame(frame);\n    }\n\n    public gotoAndPlay(frame: number): void {\n        this.setSequence('', true);\n        this.setFrame(frame);\n    }\n\n    public get currentFrame(): number {\n        return this._currentFrame ? this._currentFrame.index : 0;\n    }\n\n    public get currentGifFrame(): GifFrame {\n        return this._currentFrame;\n    }\n\n    public get currentSequence(): GifSequence {\n        return this._currentSequence;\n    }\n\n    public get playing(): boolean {\n        return this._currentSequence.playing;\n    }\n\n    public get speedScale(): number {\n        return this._currentSequence.speedScale;\n    }\n\n    public set speedScale(value: number) {\n        this._currentSequence.speedScale = value;\n    }\n}\n\n","import { DisplayObject } from \"../../core/DisplayObject\";\nimport { MaskSprite } from \"../../core/MaskSprite\";\nimport { hexToInt, rgbToNumber } from \"../../utils/Utils\";\nimport { GraphicsCore } from \"./GraphicsCore\"\n\n/**\n * 绘制图形基类\n */\nexport class GraphBase extends DisplayObject implements MaskSprite {\n\n    public constructor() {\n        super();\n        this.graphics = new GraphicsCore();\n        this.container.addChild(this.graphics);\n    }\n\n    public readonly graphics: GraphicsCore;\n\n    public canvas?: HTMLCanvasElement;\n    public context?: CanvasRenderingContext2D;\n    public texture?: vf.Texture;\n\n    /** 可以支持遮罩的组件 */\n    public maskSprite() {\n        return this.graphics;\n    }\n\n    /**\n     * 半径\n     */\n    protected _radius = 0;\n    public get radius() {\n        return this._radius;\n    }\n    public set radius(value) {\n        this._radius = value;\n        this.invalidateSize();\n        this.invalidateDisplayList();\n    }\n    /**\n     * \n     */\n    protected _alignment = 0.5;\n    public get alignment() {\n        return this._alignment;\n    }\n    public set alignment(value) {\n        this._alignment = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * 线条样式\n     */\n    protected _lineType: \"full\" | \"dash\" = \"full\";\n    public get lineType(): \"full\" | \"dash\" {\n        return this._lineType;\n    }\n    public set lineType(value: \"full\" | \"dash\") {\n        if (this._lineType === value) {\n            return;\n        }\n        this._lineType = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * 线条颜色\n     */\n    protected _lineColor: any = 0xffffff;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        if (this._lineColor === value) {\n            return;\n        }\n        if (Array.isArray(value)) {\n            value = rgbToNumber(value[0], value[1], value[2]);\n        }\n        let color = 0xffffff;\n        if(!isNaN(value))\n            color = hexToInt(value, color);\n        this._lineColor = color;\n        this.invalidateDisplayList();\n    }\n    /**\n     * 线条粗细\n     */\n    protected _lineWidth = 0;\n    public get lineWidth() {\n        return this._lineWidth;\n    }\n    public set lineWidth(value) {\n        this._lineWidth = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * 线条透明度\n     */\n    protected _lineAlpha = 1;\n    public get lineAlpha() {\n        return this._lineAlpha;\n    }\n    public set lineAlpha(value) {\n        this._lineAlpha = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * 填充透明度\n     */\n    protected _fillAlpha = 1;\n    public get fillAlpha() {\n        return this._fillAlpha;\n    }\n    public set fillAlpha(value) {\n        this._fillAlpha = value;\n        this.invalidateDisplayList();\n    }\n\n\n    /** \n     * 颜色 \n     */\n    public get fillColor() {\n        return this._color || this.style.fillColor;\n    }\n    public set fillColor(value: number[]) {\n        if (Array.isArray(value[0])) {\n            this._color = undefined;\n            if (this.canvas === undefined) {\n                this.canvas = document.createElement(\"canvas\");\n                this.context = this.canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n                this.texture = vf.Texture.from(this.canvas);\n            }\n            return; // 多颜色渐变，不走color\n        }\n        this.color = rgbToNumber(value[0], value[1], value[2]);\n    }\n\n    /** \n     * 颜色 \n     */\n    protected _color?: any;\n    public get color() {\n        return this._color;\n    }\n    public set color(value) {\n        if (this._color === value) {\n            return;\n        }\n        let color = undefined;\n        color = hexToInt(value, color)\n        this._color = color;\n        this.invalidateDisplayList();\n    }\n    /**\n     * 锚点，调整位图的坐标中点 0-1\n     */\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        this._anchorX = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * 锚点，调整位图的坐标中点 0-1\n     */\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        this._anchorY = value;\n        this.invalidateDisplayList();\n    }\n\n    /**\n     * 子类重写\n     */\n    public drawGraph() {\n        //\n    }\n\n    public release() {\n        super.release();\n        if (this.graphics.parent) {\n            this.graphics.parent.removeChild(this.graphics).destroy();\n        }\n\n        if (this.canvas) {\n            this.canvas.height = this.canvas.width = 0;\n            this.context = undefined;\n            this.canvas = undefined;\n        }\n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        this.drawGraph();\n        super.updateDisplayList(unscaledWidth, unscaledHeight);\n    }\n\n\n}","\n/**\n * 图形逻辑基类\n */\nexport class GraphicsCore extends vf.Graphics {\n    private _lineType: \"full\" | \"dash\" = \"full\";//full 实线   dash 虚线\n    public constructor(geometry?: vf.GraphicsGeometry | undefined) {\n        super(geometry);\n    }\n    private RatioLine = 3;\n    private RatioNone = 2;\n\n    public lineStyle(width?: number, color?: number, alpha?: number, alignment?: number, native?: boolean, lineType: \"full\" | \"dash\" = \"full\"): vf.Graphics {\n        this._lineType = lineType;\n        return super.lineStyle(width, color, alpha, alignment, native);\n    }\n\n    public lineTo(x: number, y: number): vf.Graphics {\n        if (this._lineType === \"full\") {\n            return super.lineTo(x, y);\n        }\n        const lineWidth = this._lineStyle.width;\n        if (lineWidth <= 0) {\n            return this;\n        }\n        const pointStartX = this.currentPath ? this.currentPath.points[0] : 0;\n        const pointStartY = this.currentPath ? this.currentPath.points[1] : 0;\n\n        const ratioLine = this.RatioLine;\n        const ratioNone = this.RatioNone;\n        const dis = lineWidth * ratioLine;\n        const dashDis = lineWidth * ratioNone;\n        const totaDis = Math.sqrt(Math.pow(x - pointStartX, 2) + Math.pow(y - pointStartY, 2));\n        const scale = lineWidth / totaDis;\n        let dashX = pointStartX;\n        let dashY = pointStartY;\n        const addX = scale * (x - pointStartX) * ratioLine;\n        const addY = scale * (y - pointStartY) * ratioLine;\n        const addDashX = scale * (x - pointStartX) * (ratioLine + ratioNone);\n        const addDashY = scale * (y - pointStartY) * (ratioLine + ratioNone);\n        const maxD = totaDis;\n        for (let i = 0; i < maxD; i = i + dis + dashDis) {\n            let toX = dashX + addX\n            let toY = dashY + addY;\n\n            dashX = dashX + addDashX;\n            dashY = dashY + addDashY;\n            if (i + dis + dashDis > maxD) {\n                dashX = toX = x;\n                dashY = toY = y;\n            }\n            super.lineTo(toX, toY);\n            this.moveTo(dashX, dashY);\n        }\n        return this;\n    }\n\n\n    public arc(cx: number, cy: number, radius: number, startAngle: number, endAngle: number, anticlockwise?: boolean): vf.Graphics {\n        const startAgl = startAngle * Math.PI / 180;\n        const endAgl = endAngle * Math.PI / 180\n        if (this._lineType === \"full\") {\n            if ((startAngle === 0 && endAngle === 360) || (startAngle === 360 && endAngle === 0)) {\n                return this.drawCircle(cx, cy, radius);\n            }\n            return super.arc(cx, cy, radius, startAgl, endAgl, anticlockwise);\n        }\n        const lineWidth = this._lineStyle.width;\n        if (lineWidth <= 0) {\n            return this;\n        }\n        let startA = startAgl;\n        const totalNum = radius * (Math.abs(endAgl - startAgl) / (Math.PI * 2));\n        for (let i = 0; i < totalNum; i++) {\n            const endA = (endAgl - startAgl) / (totalNum * 2) + startA;\n            super.arc(cx, cy, radius, startA, endA, anticlockwise);\n            startA = startA + (endAgl - startAgl) / totalNum;\n            const endX = cx + Math.cos(startA) * radius;\n            const endY = cy + Math.sin(startA) * radius;\n            super.moveTo(endX, endY);\n        }\n\n        return this;\n    }\n\n    /** \n     * 画椭圆\n    */\n    public drawEllipse(xx: number, yy: number, width: number, height: number): vf.Graphics {\n        if (this._lineType === \"full\") {\n            return super.drawEllipse(xx, yy, width, height);\n        }\n        const lineWidth = this._lineStyle.width;\n        if (lineWidth <= 0) {\n            return this;\n        }\n        const w = width * 2;\n        const h = height * 2;\n        const x = xx - (w / 2);\n        const y = yy - (h / 2);\n        const kappa = 0.5522848;\n        const ox = (w / 2) * kappa; // control point offset horizontal\n        const oy = (h / 2) * kappa; // control point offset vertical\n        const xe = x + w; // x-end\n        const ye = y + h; // y-end\n        const xm = x + (w / 2); // x-middle\n        const ym = y + (h / 2); // y-middle\n        super.moveTo(x, ym);\n        this.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n        this.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n        this.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n        this.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n\n        return this;\n    }\n\n    /**\n     * 圆角矩形\n     */\n    public drawRoundedRect(x: number, y: number, width: number, height: number, radius: number): vf.Graphics {\n        if (this._lineType === \"full\") {\n            return super.drawRoundedRect(x, y, width, height, radius);\n        }\n        const lineWidth = this._lineStyle.width;\n        if (lineWidth <= 0) {\n            return this;\n        }\n\n        const maxRadius = Math.min(width, height) / 2 | 0;\n        radius = radius > maxRadius ? maxRadius : radius;\n\n        const w = radius * 2;\n        const h = radius * 2;\n        const kappa = 0.5522848;\n        const xe = x + width; // x-end\n        const ye = y + height; // y-end\n        const ox = radius * kappa; // control point offset horizontal\n        const oy = radius * kappa; // control point offset vertical\n        const pI = Math.PI;\n        super.moveTo(x + radius, y);\n        this.lineTo(x + width - radius, y);\n        this.bezierCurveTo(xe - radius + ox, y, xe, y + oy, xe, y + radius);\n        this.lineTo(xe, ye - radius);\n        this.bezierCurveTo(xe, ye - radius + oy, xe - radius + ox, ye, xe - radius, ye);\n        this.lineTo(x + radius, ye);\n        this.bezierCurveTo(x + radius - ox, ye, x, ye - radius + oy, x, ye - radius);\n        this.lineTo(x, y + radius);\n        this.bezierCurveTo(x, y + radius - oy, x + radius - ox, y, x + radius, y);\n\n        return this;\n    }\n\n    /**\n     * 闭合路线\n     */\n    public drawPolygonOne(path: vf.Point[], closeStroke = true): vf.Graphics {\n        if (this._lineType === \"full\") {\n            const points = [];\n            for (let i = 0; i < path.length; i++) {\n                points.push(path[i].x, path[i].y);\n            }\n            const pt: any = { points: points, closeStroke: closeStroke };\n            return super.drawPolygon(pt);\n        }\n        const lineWidth = this._lineStyle.width;\n        if (lineWidth <= 0) {\n            return this;\n        }\n        const startPoint = path[0]; // 闭合回归到第0个点\n        this.moveTo(startPoint.x, startPoint.y);\n        for (let i = 0; i < path.length; i++) {\n            const item = path[i];\n            this.lineTo(item.x, item.y);\n        }\n        if (closeStroke) {\n            this.lineTo(startPoint.x, startPoint.y);\n        }\n\n\n        return this;\n    }\n\n    /**\n     * 判断一个点是否在贝塞尔曲线上\n     * B_{3}(t) = (1 - t)^3P_0 + 3t(1 - t)^2P_1 + 3t^2(1 - t)P_2 + t^3P_3 , t  in[0, 1]\n     * \n     * (x3-3*x2+3*x1-x0)t^3 + (3*x2-6*x1+3*x0)t^2 + (3*x1-3*x0)t + x0\n     * \n     * cpX cpY 控制点一\n     * cpX2 cpY2 控制点二\n     * toX toY 曲线目标点\n     * fromX fromY 曲线起始点\n     * x y 当前点\n     */\n    public checOnkBezier(cpX: number, cpY: number, cpX2: number, cpY2: number, toX: number, toY: number, fromX: number, fromY: number, x: number, y: number): number {\n\n        let start = 0.0;\n        let end = 1.0;\n        let half = 0.5;\n        const A = toX - 3 * cpX2 + 3 * cpX - fromX;\n        const B = 3 * cpX2 - 6 * cpX + 3 * fromX;\n        const C = 3 * cpX - 3 * fromX;\n        const D = fromX;\n        let fStart;\n        let fHalf;\n        let yEnd = 0;\n        let index = 0;\n        while (Math.abs(A * Math.pow(half, 3) + B * half * half + C * half + D - x) > 1) {\n            fStart = A * Math.pow(start, 3) + B * start * start + C * start + D - x\n            fHalf = A * Math.pow(half, 3) + B * half * half + C * half + D - x;\n            index++;\n            if (fStart * fHalf < 0) {\n                end = half;\n                half = (start + half) * 0.5;\n            } else {\n                start = half;\n                half = (half + end) * 0.5;\n            }\n            if (index >= 10) { //错误点\n                break;\n            }\n\n        }\n        const nt = 1 - half;\n        yEnd = Math.round(fromY * Math.pow(nt, 3) + 3 * Math.pow(nt, 2) * half * cpY + 3 * half * half * nt * cpY2 + toY * Math.pow(nt, 3));\n        if (Math.abs(yEnd - y) <= Math.ceil(this._lineStyle.width * 0.5)) { //灵敏度  目前按照线条宽度\n            return nt;\n        }\n        return -1;\n    }\n\n    /**\n     * \n     */\n    public quadraticCurveTo(cpX: number, cpY: number, toX: number, toY: number): vf.Graphics {\n        if (this._lineType === \"full\") {\n            return super.quadraticCurveTo(cpX, cpY, toX, toY);\n        }\n        const lineWidth = this._lineStyle.width;\n        if (lineWidth <= 0) {\n            return this;\n        }\n        const p = this.currentPath.points;\n        //取得曲线上点的数组\n        const bPoints: vf.Point[] = this.quadPointLength(p[p.length - 2], p[p.length - 1], cpX, cpY, toX, toY);\n        //取得区间近似长度\n        const totalLength = this.bezierLength(bPoints);\n        //获取虚线曲线数据\n        const dashPointList = this.bezierToLineData(bPoints, totalLength);\n\n        //画虚线\n        super.moveTo(p[p.length - 2], p[p.length - 1]);\n        this.drawBezierDash(dashPointList);\n        super.moveTo(toX, toY);\n\n        return this;\n\n    }\n\n\n\n    /**\n     * 贝塞尔曲线\n     */\n    public bezierCurveTo(cpX: number, cpY: number, cpX2: number, cpY2: number, toX: number, toY: number): vf.Graphics {\n        if (this._lineType === \"full\") {\n            return super.bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY);\n        }\n        const lineWidth = this._lineStyle.width;\n        if (lineWidth <= 0) {\n            return this;\n        }\n\n        const p = this.currentPath.points;\n\n        //取得曲线上点的数组\n        const bPoints: vf.Point[] = this.bezierPointLength(p[p.length - 2], p[p.length - 1], cpX, cpY, cpX2, cpY2, toX, toY);\n        //取得区间近似长度\n        const totalLength = this.bezierLength(bPoints);\n        //获取虚线曲线数据\n        const dashPointList = this.bezierToLineData(bPoints, totalLength);\n\n        //画虚线\n        this.moveTo(p[p.length - 2], p[p.length - 1]);\n        this.drawBezierDash(dashPointList);\n        this.moveTo(toX, toY);\n\n        return this;\n    }\n\n    private drawBezierDash(dashPointList: any) {\n        //画虚线\n        for (let i = 0; i < dashPointList.length; i++) {\n            const item = dashPointList[i];\n            const point = item.point;\n            if (item.type === false) {\n                super.moveTo(point.x, point.y);\n            } else {\n                super.lineTo(point.x, point.y);\n            }\n        }\n    }\n    /**\n    * 获取二阶贝塞尔曲线点信息(近似值 ， n越大值越准确)\n    */\n    public quadPointLength(fromX: number, fromY: number, cpX: number, cpY: number, toX: number, toY: number, n = 30): vf.Point[] {\n        let t = 0.0;\n        let xa = 0;\n        let ya = 0;\n        let x = 0.0;\n        let y = 0.0;\n        const points = [new vf.Point(fromX, fromY)];\n        for (let i = 1; i <= n; ++i) {\n            t = i / n;\n            xa = fromX + ((cpX - fromX) * t);\n            ya = fromY + ((cpY - fromY) * t);\n            x = xa + (((cpX + ((toX - cpX) * t)) - xa) * t);\n            y = ya + (((cpY + ((toY - cpY) * t)) - ya) * t);\n\n            points.push(new vf.Point(x, y));\n        }\n        return points;\n    }\n    /**\n     * 获取三阶贝塞尔曲线点信息(近似值 ， n越大值越准确)\n     */\n    public bezierPointLength(fromX: number, fromY: number, cpX: number, cpY: number, cpX2: number, cpY2: number, toX: number, toY: number, n = 30): vf.Point[] {\n        let t = 0.0;\n        let t2 = 0.0;\n        let t3 = 0.0;\n        let nt = 0.0;\n        let nt2 = 0.0;\n        let nt3 = 0.0;\n        let x = 0.0;\n        let y = 0.0;\n        const points = [new vf.Point(fromX, fromY)];\n        for (let i = 1; i <= n; ++i) {\n            t = i / n;\n            t2 = t * t;\n            t3 = t2 * t;\n            nt = (1.0 - t);\n            nt2 = nt * nt;\n            nt3 = nt2 * nt;\n            x = (nt3 * fromX) + (3.0 * nt2 * t * cpX) + (3.0 * nt * t2 * cpX2) + (t3 * toX);\n            y = (nt3 * fromY) + (3.0 * nt2 * t * cpY) + (3 * nt * t2 * cpY2) + (t3 * toY);\n\n            points.push(new vf.Point(x, y));\n        }\n        return points;\n    }\n\n\n    /**\n     * 根据点取长度\n     */\n\n    private bezierLength(points: vf.Point[]) {\n        if (!points || points.length <= 0) {\n            return 0;\n        }\n        let result = 0.0;\n        let x = 0.0;\n        let y = 0.0;\n        let dx = 0.0;\n        let dy = 0.0;\n        let prevX = points[0].x;\n        let prevY = points[0].y;\n        for (let i = 0; i < points.length; i++) {\n            x = points[i].x;\n            y = points[i].y;\n            dx = prevX - x;\n            dy = prevY - y;\n            prevX = x;\n            prevY = y;\n            result += Math.sqrt((dx * dx) + (dy * dy));\n        }\n        return result;\n    }\n\n    private bezierToLineData(points: vf.Point[], length: number, oldLength = 0, oldlineS = true) {\n        const lineWidth = this._lineStyle.width;\n        const ratioLine = this.RatioLine;\n        const ratioNone = this.RatioNone;\n        const dis = lineWidth * ratioLine;\n        const dashDis = lineWidth * ratioNone;\n\n        let pointOld = points[0];\n        let index = 1;\n        const result: any[] = [];\n        let oldX = oldLength;//当前状态剩余长度 //oldLength 外部传入用于以后两条线衔接处计算\n        let lineS: boolean = oldlineS;\n\n        while (index < points.length) {//转折处算两条线\n            const nextPoint = points[index];\n            const distanse = this.pointDistance(nextPoint, pointOld);\n            const curL = (oldX > 0 ? oldX : (lineS ? dis : dashDis));\n            const l = distanse - (curL);\n            if (l >= 0) {\n                // 当前线段够长了\n                const b = pointOld;\n                const end = points[index];\n                const scale = (curL) / distanse;\n                const x = b.x + (end.x - b.x) * scale;\n                const y = b.y + (end.y - b.y) * scale;\n                const p = new vf.Point(x, y);\n\n                result.push({ type: lineS, point: p });\n                oldX = 0;\n                pointOld = p;\n                lineS = !lineS;\n            } else {\n                pointOld = points[index];\n                index++;\n                oldX = Math.abs(l);\n                if (index >= points.length) {\n                    result.push({ type: lineS, point: pointOld });\n                    break;\n                }\n            }\n\n        }\n\n\n\n        return result;\n    }\n\n    private pointDistance(pointA: vf.Point, pointB: vf.Point) {\n        const dx = pointB.x - pointA.x;\n        const dy = pointB.y - pointA.y;\n\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n\n    /**\n     * 获取线段起始位置或者终止位置角度\n     */\n    public getLineRotation(lineTyle: \"M\" | \"L\" | \"Q\" | \"C\", isBeignPoint: boolean, fromX: number, fromY: number, toX: number, toY: number, cpX = 0, cpY = 0, cpX2 = 0, cpY2 = 0) {\n        if (lineTyle === \"M\") {\n            return 0;\n        }\n        let beginPoint;\n        let endPoint;\n        let bPoints: vf.Point[] = [];\n        switch (lineTyle) {\n            case \"L\":\n                if (isBeignPoint) {\n                    beginPoint = new vf.Point(toX, toY);\n                    endPoint = new vf.Point(fromX, fromY);\n                } else {\n                    beginPoint = new vf.Point(fromX, fromY);\n                    endPoint = new vf.Point(toX, toY);\n                }\n                break;\n            case \"Q\":\n            case \"C\":\n                //取得曲线上点的数组\n                if (lineTyle === \"Q\") {\n                    bPoints = this.quadPointLength(fromX, fromY, cpX, cpY, toX, toY)\n                } else {\n                    bPoints = this.bezierPointLength(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY);\n                }\n                if (isBeignPoint) {\n                    beginPoint = new vf.Point(bPoints[1].x, bPoints[1].y);\n                    endPoint = new vf.Point(fromX, fromY);\n                } else {\n                    beginPoint = new vf.Point(bPoints[bPoints.length - 2].x, bPoints[bPoints.length - 2].y);\n                    endPoint = new vf.Point(toX, toY);\n                }\n                break;\n        }\n\n        const x = endPoint.x - beginPoint.x;\n        const y = endPoint.y - beginPoint.y;\n        if (y > 0) {\n            return -(Math.atan(x / y));\n        } else if (y === 0) {\n            return (Math.PI + Math.atan(x / y));\n        } else if (y < 0) {\n            return Math.PI - Math.atan(x / y);\n        }\n        return 0;\n    }\n\n}","import { KeyEvent } from \"../../event/KeyEvent\";\n\n/**\n * 私有的，由于VFJS不支持文本输入，这里以HTML方式实现\n */\nexport default class HtmlInput extends vf.utils.EventEmitter {\n    public constructor(multiline: boolean) {\n        super();\n        console.log(\"创建HtmlInput\");\n        this._domInput = this.addDom(multiline);\n        this.visible = false;\n        document.body.appendChild(this._domInput);\n    }\n\n    private _domInput: HTMLInputElement | HTMLTextAreaElement;\n    private _selection = [0, 0];\n    private _restrictRegex: RegExp | undefined;\n    private _restrictValue = '';\n\n    public get domInput() {\n        return this._domInput;\n    }\n    public set visible(value: boolean) {\n        this._domInput.style.display = value ? 'block' : 'none'\n    }\n    public get visible() {\n        if (this._domInput.style.display === 'block')\n            return true;\n        return false;\n    }\n\n    public get value(): string {\n        return this._domInput.value;\n    }\n    public set value(value: string) {\n        this._domInput.value = value;\n    }\n\n    public set placeholder(value: string) {\n        this._domInput.placeholder = value;\n    }\n\n    public set disabled(value: boolean) {\n        this._domInput.disabled = value;\n    }\n\n    public get maxlength() {\n        return this._domInput.maxLength;\n    }\n\n    public set maxlength(value: number) {\n        this._domInput.maxLength = value;\n    }\n\n    /* 输入郑泽斌表达式 */\n    public get restrict() {\n        return this._restrictRegex;\n    }\n    public set restrict(regex) {\n        if (regex === undefined) {\n            return;\n        }\n        if (regex instanceof RegExp) {\n            let str = regex.toString().slice(1, -1);\n\n            if (str.charAt(0) !== '^')\n                str = '^' + str;\n\n            if (str.charAt(str.length - 1) !== '$')\n                str = str + '$';\n\n            regex = new RegExp(str);\n        } else {\n            regex = new RegExp('^[' + regex + ']*$');\n        }\n        this._restrictRegex = regex;\n    }\n\n    public setStyle(style: InputStyle) {\n        for (const key in style) {\n            this._domInput.style[key as any] = style[key];\n        }\n        //this._domInput.setAttribute(\"style\", stylestr);\n    }\n\n    public setStyleValue(key: any, value: any) {\n        this._domInput.style[key] = value;\n    }\n\n    public select() {\n        this._domInput.select();\n    }\n\n    /** 测量，需要对象添加到body中 */\n    public getDOMInputBounds() {\n\n        const orgTransform = this._domInput.style.transform;\n        const orgDisplay = this._domInput.style.display;\n        this._domInput.style.transform = '';\n        this._domInput.style.display = 'block';\n        const bounds = this._domInput.getBoundingClientRect();\n        this._domInput.style.transform = orgTransform;\n        this._domInput.style.display = orgDisplay;\n\n        return bounds;\n    }\n\n    public updatePostion(top: string | number, left: string | number, transform: string, opacity?: string | number) {\n        this._domInput.style.top = top + 'px'\n        this._domInput.style.left = left + 'px'\n        this._domInput.style.transform = transform;\n        if (opacity)\n            this._domInput.style.opacity = opacity.toString();\n    }\n\n    private addDom(multiline: boolean) {\n\n        if (multiline) {\n            this._domInput = document.createElement('textarea')\n            this._domInput.style.resize = 'none';\n        } else {\n            this._domInput = document.createElement('input')\n            this._domInput.type = 'text';\n        }\n        this.addEvent();\n        document.body.appendChild(this._domInput);\n        return this._domInput;\n    }\n\n    private removeDom() {\n        if (this._domInput) {\n            document.body.removeChild(this._domInput);\n        }\n    }\n\n    public release() {\n        this.removeDom();\n        this.removeEvent();\n        this.removeAllListeners();\n        (this._domInput as any) = undefined;\n        this._restrictRegex = undefined;\n    }\n\n\n\n\n    private _onInputKeyDownBind: any;\n    private _onInputInputBind: any;\n    private _onInputKeyUpBind: any;\n    private _onFocusedBind: any;\n    private _onBlurredBind: any;\n\n    private addEvent() {\n        if (this._onInputKeyDownBind) {\n            return;\n        }\n        this._onInputKeyDownBind = this._onInputKeyDown.bind(this);\n        this._onInputInputBind = this._onInputInput.bind(this);\n        this._onInputKeyUpBind = this._onInputKeyUp.bind(this);\n        this._onFocusedBind = this._onFocused.bind(this);\n        this._onBlurredBind = this._onBlurred.bind(this);\n        this._domInput.addEventListener('keydown', this._onInputKeyDownBind, { passive: false });\n        this._domInput.addEventListener('input', this._onInputInputBind, { passive: false });\n        this._domInput.addEventListener('keyup', this._onInputKeyUpBind, { passive: false });\n        this._domInput.addEventListener('focus', this._onFocusedBind, { passive: false });\n        this._domInput.addEventListener('blur', this._onBlurredBind, { passive: false });\n    }\n    private removeEvent() {\n        if (this._onInputKeyDownBind) {\n            this._domInput.removeEventListener('keydown', this._onInputKeyDownBind);\n            this._domInput.removeEventListener('input', this._onInputInputBind);\n            this._domInput.removeEventListener('keyup', this._onInputKeyUpBind);\n            this._domInput.removeEventListener('focus', this._onFocusedBind);\n            this._domInput.removeEventListener('blur', this._onBlurredBind);\n            this._onInputKeyDownBind = undefined;\n            this._onInputInputBind = undefined;\n            this._onInputKeyUpBind = undefined;\n            this._onFocusedBind = undefined;\n            this._onBlurredBind = undefined;\n        }\n    }\n    private _applyRestriction() {\n        if (this._restrictRegex) {\n            if (this._restrictRegex.test(this.value)) {\n                this._restrictValue = this.value;\n            } else {\n                this.value = this._restrictValue;\n                this._domInput.setSelectionRange(\n                    this._selection[0],\n                    this._selection[1]\n                )\n            }\n        }\n    }\n\n    private _onInputKeyDown(e: KeyboardEvent) {\n        this._selection = [\n            this._domInput.selectionStart || 0,\n            this._domInput.selectionEnd || 0\n        ]\n        this.emit(KeyEvent.keydown, this, e.keyCode);\n        //e.preventDefault();\n    }\n\n    private _onInputInput(e: KeyboardEvent) {\n        if ((e as any).data != null) {\n            if (this._restrictRegex)\n                this._applyRestriction();\n        }\n        this.emit(KeyEvent.input, this.value)\n        e.preventDefault();\n    }\n\n    private _onInputKeyUp(e: KeyboardEvent) {\n        this.emit(KeyEvent.keyup, this.value)\n        e.preventDefault();\n    }\n\n    private _onFocused(e: KeyboardEvent) {\n        this.emit('focus')\n        e.preventDefault();\n    }\n\n    private _onBlurred(e: KeyboardEvent) {\n        this.emit('blur')\n        e.preventDefault();\n    }\n\n    public focus() {\n\n        document.body.removeChild(this._domInput);\n        document.body.appendChild(this._domInput);\n        this._domInput.focus();\n\n    }\n    public blur() {\n        this._domInput.blur();\n    }\n\n}\n","import { DisplayObject } from \"../../core/DisplayObject\";\nimport { ClickEvent, InteractionEvent, InputController, TouchMouseEvent, ComponentEvent } from \"../../interaction/Index\";\n\n/**\n * 输入对象的基础类\n */\nexport class InputBase extends DisplayObject {\n    public constructor() {\n        super();\n        //this.container.interactive = true;\n        this.container.interactiveChildren = false;\n\n        // this.on(TouchMouseEvent.onMove,this.onMove,this);   默认不监听move，可使用 moveEvent = true开启\n        this.on(TouchMouseEvent.onHover, this.onHover, this);\n        this.on(TouchMouseEvent.onPress, this.onPress, this);\n        this.on(TouchMouseEvent.onClick, this.onClick, this);\n\n    }\n\n    /** 是否开启鼠标或触摸点击，开启后，接收TouchMouseEvent */\n    public get interactabled() {\n        return true;\n    }\n\n    public set interactabled(value: boolean) {\n       console.warn('Button cannot be set \"interactabled\" property');\n    }\n\n    protected clickEvent = new ClickEvent(this, true);\n    private _currentState: \"up\" | \"move\" | \"down\" | \"disabled\" = \"up\";\n    protected get currentState(): \"up\" | \"move\" | \"down\" | \"disabled\" {\n        return this._currentState;\n    }\n    protected set currentState(value: \"up\" | \"move\" | \"down\" | \"disabled\") {\n        if (this._currentState == value) {\n            return;\n        }\n        this._currentState = value;\n        this.emit(ComponentEvent.STATE_CHANGE, this, value);\n    }\n    protected _tabIndex: undefined | number;\n    protected _tabGroup: undefined | string;\n\n    protected _focused = false;\n    protected _useTab = true;\n    protected _usePrev = true;\n    protected _useNext = true;\n    protected _down = false;\n\n    private _clickSound?: string;\n    public get clickSound() {\n        return this._clickSound;\n    }\n    public set clickSound(value) {\n        if (this._clickSound === value) {\n            return;\n        }\n        this._clickSound = value;\n    }\n\n\n    public set double(value: boolean){\n        this.clickEvent.double = value;\n    }\n\n    public get double(){\n        return this.clickEvent.double;\n    }\n\n    private _useMoveEvent = false;\n    public set useMoveEvent(value: boolean) {\n        if (this._useMoveEvent !== value) {\n            this._useMoveEvent = value;\n            if (value) {\n                this.on(TouchMouseEvent.onMove, this.onMove, this);\n            }\n            else {\n                this.off(TouchMouseEvent.onMove, this.onMove, this);\n            }\n        }\n    }\n    public get useMoveEvent() {\n        return this._useMoveEvent;\n    }\n\n    /** \n     * 状态皮肤，\n     */\n    public up?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * 状态皮肤，\n     */\n    public down?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * 状态皮肤，\n     */\n    public move?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * 状态皮肤，\n     */\n    public disabled?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * 选中状态皮肤，\n     */\n    public upAndSelected?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * 选中状态皮肤，\n     */\n    public downAndSelected?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * 选中状态皮肤，\n     */\n    public moveAndSelected?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * 选中状态皮肤，\n     */\n    public disabledAndSelected?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n\n    protected onMove() {\n\n        if (this._down) {\n            return;\n        }\n        this.currentState = \"move\";\n    }\n\n    //e: InteractionEvent,thisObj: DisplayObject,over: boolean\n    protected onHover() {\n        if (this._down) {\n            return;\n        }\n        this.currentState = \"up\";\n\n    }\n\n    protected onPress(e: InteractionEvent, thisObj: DisplayObject, isPress: boolean) {\n        this._down = isPress;\n        if (isPress) {\n            this.focus();\n            this.currentState = \"down\";\n        } else {\n            this.currentState = \"up\";\n        }\n\n    }\n\n    protected onClick(e: InteractionEvent) {\n        if (this._clickSound) {\n            this.emit(ComponentEvent.PLAY_AUDIO, { name: this._clickSound, mode: 'effect' });\n        }\n    }\n\n    protected keyDownEvent(event: WheelEvent | Event) {\n        const e = event as WheelEvent;\n        if (e.which === 9) {\n            if (this._useTab) {\n                InputController.fireTab();\n                e.preventDefault();\n            }\n        }\n        else if (e.which === 38) {\n            if (this._usePrev) {\n                InputController.firePrev();\n                e.preventDefault();\n            }\n        }\n        else if (e.which === 40) {\n            if (this._useNext) {\n                InputController.fireNext();\n                e.preventDefault();\n            }\n        }\n    }\n\n    protected documentMouseDown() {\n        if (this.currentState !== \"down\") {\n            this.blur();\n        }\n    }\n\n    private keyDownEventBind: any;\n    protected _bindEvents() {\n        if (this.stage) {\n            this.stage.on(\"pointerdown\", this.documentMouseDown, this);\n            this.keyDownEventBind = this.keyDownEvent.bind(this);\n            document.addEventListener(\"keydown\", this.keyDownEventBind);\n        }\n    }\n\n    protected _clearEvents() {\n        if (this.stage) {\n            this.stage.off(\"pointerdown\", this.documentMouseDown, this);\n            document.removeEventListener(\"keydown\", this.keyDownEventBind);\n        }\n    }\n\n    public focus() {\n        if (!this._focused) {\n            this._focused = true;\n            this._bindEvents();\n            InputController.set(this);\n            this.emit(\"focusChanged\", true);\n            this.emit(\"focus\");\n        }\n    }\n\n    public blur() {\n        if (this._focused) {\n            InputController.clear();\n            this._focused = false;\n            this._clearEvents();\n            this.emit(\"focusChanged\", false);\n            this.emit(\"blur\");\n\n        }\n    }\n\n    public release() {\n        this.clickEvent && this.clickEvent.remove();\n        this.clickEvent = undefined as any;\n\n        this.off(TouchMouseEvent.onMove, this.onMove, this);\n        this.off(TouchMouseEvent.onHover, this.onHover, this);\n        this.off(TouchMouseEvent.onPress, this.onPress, this);\n        this.off(TouchMouseEvent.onClick, this.onClick, this);\n        if (this.keyDownEventBind)\n            document.removeEventListener(\"keydown\", this.keyDownEventBind);\n        if (this.documentMouseDown && this.stage)\n            this.stage.off(\"pointerdown\", this.documentMouseDown, this);\n\n        super.release();\n    }\n\n    public setTabIndex(index: number | undefined, group: string | undefined) {\n        this._tabIndex = index;\n        this._tabGroup = group;\n        if (index !== undefined && group !== undefined) {\n            InputController.registrer(this, index, group)\n        }\n    }\n}","import { DisplayObject } from \"../../core/DisplayObject\";\nimport { Interaction, Utils } from \"../../UI\";\nimport { Container } from \"../Container\";\nimport { Graphics } from \"../Graphics\";\nimport { Rect } from \"../Rect\";\n\nexport enum BoundsEventType {\n    boundsScale = 'boundsScale',   //边界缩放\n    boundsAngle = 'boundsAngle',    //边界旋转\n    selectedBoundsClicked = 'selectedBoundsClicked',  //边界被点击  \n}\n\nexport class SelectedBounds extends DisplayObject {\n    constructor() {\n        super()\n        this.addSelectedShapeRect();\n        this.interactabled = true;\n        this.container.hitArea = new vf.Rectangle(0, 0, 2000, 2000);\n        this.on('move', this.onMove);\n        this._lastPos = new vf.Point();\n    }\n\n    private _boundsRect?: Graphics;  //边框矩形\n    private _selectedRect?: Rect;  //选中的矩形\n    private _lastPos: vf.Point;\n    private _bounds: vf.Rectangle = new vf.Rectangle();\n    private _uiContainer?: Container;\n    private _cornerContainer?: Container;   //角框\n\n    private onMove(e: Interaction.InteractionEvent) {\n        if (this._selectedRect && this._boundsRect) {\n            let pos = this.container.toLocal(e.data.global);\n            const len = Utils.pointDistance(this._lastPos, pos);\n            if (len < 10) return;\n            let offx = this._lastPos.x - pos.x;\n            let offy = this._lastPos.y - pos.y;\n            switch (parseInt(this._selectedRect.id)) {\n                case 0: {\n                    //缩放\n                    let scaleX = (this._bounds.width + offx) / this._bounds.width;\n                    let scaleY = (this._bounds.height + offy) / this._bounds.height;\n                    this.emit(BoundsEventType.boundsScale, scaleX, scaleY);\n                }\n                    break;\n                case 1: {\n                    let scaleY = (this._bounds.height + offy) / this._bounds.height;\n                    this.emit(BoundsEventType.boundsScale, 1, scaleY);\n                }\n                    break;\n                case 2: {\n                    let scaleX = (this._bounds.width - offx) / this._bounds.width;\n                    let scaleY = (this._bounds.height + offy) / this._bounds.height;\n                    this.emit(BoundsEventType.boundsScale, scaleX, scaleY);\n                }\n                    break;\n                case 3: {\n                    let scaleX = (this._bounds.width - offx) / this._bounds.width;\n                    this.emit(BoundsEventType.boundsScale, scaleX, 1);\n                }\n                    break;\n                case 4: {\n                    let scaleX = (this._bounds.width - offx) / this._bounds.width;\n                    let scaleY = (this._bounds.height - offy) / this._bounds.height;\n                    this.emit(BoundsEventType.boundsScale, scaleX, scaleY);\n                }\n                    break;\n                case 5: {\n                    let scaleY = (this._bounds.height - offy) / this._bounds.height;\n                    this.emit(BoundsEventType.boundsScale, 1, scaleY);\n                }\n                    break;\n                case 6: {\n                    let scaleX = (this._bounds.width + offx) / this._bounds.width;\n                    let scaleY = (this._bounds.height - offy) / this._bounds.height;\n                    this.emit(BoundsEventType.boundsScale, scaleX, scaleY);\n                }\n                    break;\n                case 7: {\n                    let scaleX = (this._bounds.width + offx) / this._bounds.width;\n                    this.emit(BoundsEventType.boundsScale, scaleX, 1);\n                }\n                    break;\n                case 8: {\n                    // let offy = pos.y - (this._uiContainer as any).y;\n                    // let offx = pos.x - (this._uiContainer as any).x;\n                    // let angle = Math.tan(offy / offx) * 180 / Math.PI;\n                    // console.log(angle);\n                    // this.emit('boundsAngle', angle);\n                    let origin = new vf.Point(this._uiContainer?.x, this._uiContainer?.y);\n                    let angle = this.measureAngle(origin, this._lastPos, pos);\n                    this.emit(BoundsEventType.boundsAngle, angle);\n                }\n                    break;\n                default:\n                    break;\n            }\n\n            this._lastPos = pos;\n        }\n    }\n\n    /**\n     * 向量的夹角\n     */\n    private measureAngle(origin: vf.Point, point1: vf.Point, point2: vf.Point) {\n        let vector1x = origin.x - point1.x;\n        let vector1y = origin.y - point1.y;\n        let vector2x = origin.x - point2.x;\n        let vector2y = origin.y - point2.y;\n        let t = ((vector1x) * (vector2x) + (vector1y) * (vector2y)) / (Math.sqrt(Math.pow(vector1x, 2) + Math.pow(vector1y, 2)) * Math.sqrt(Math.pow(vector2x, 2) + Math.pow(vector2y, 2)));\n        let angle = Math.acos(t) * 180 / Math.PI;\n        if (point2.y > origin.y) {\n            if (point2.x > point1.x) {\n                angle = 0 - angle;\n            }\n        }\n        else {\n            if (point2.x < point1.x) {\n                angle = 0 - angle;\n            }\n        }\n        return angle;\n    }\n\n    /**\n     * 添加选中时的8个小方块\n     */\n    private addSelectedShapeRect() {\n\n        let container = new Container();\n        this._uiContainer = container;\n        this.addChild(container);\n\n        let boundsRect = new Graphics();\n        this._boundsRect = boundsRect;\n        container.addChild(boundsRect);\n\n        let cornerContainer = new Container();\n        container.addChild(cornerContainer);\n        this._cornerContainer = cornerContainer;\n\n        for (let i = 0; i < 9; ++i) {\n            let rect = new Rect();\n            rect.width = rect.height = 10;\n            rect.anchorX = rect.anchorY = 0.5;\n            rect.id = i.toString();\n            rect.lineWidth = 1;\n            rect.lineColor = 0x000088;\n            rect.color = 0xffffff;\n            cornerContainer.addChild(rect);\n\n            rect.interactabled = true;\n            rect.syncabled = false;\n            rect.on('down', (e: Interaction.InteractionEvent) => {\n                this._selectedRect = rect;\n                this._lastPos = this.container.toLocal(e.data.global);\n                this.emit(BoundsEventType.selectedBoundsClicked, true);\n            })\n            rect.on('up', () => {\n                this._selectedRect = undefined;\n                this.emit(BoundsEventType.selectedBoundsClicked, false);\n            })\n        }\n    }\n\n    private getBoundsPosList(bounds: vf.Rectangle) {\n        let posList = [];\n        posList.push(bounds.x);\n        posList.push(bounds.y);\n        posList.push(bounds.x + bounds.width * 0.5);\n        posList.push(bounds.y);\n        posList.push(bounds.x + bounds.width);\n        posList.push(bounds.y);\n        posList.push(bounds.x + bounds.width);\n        posList.push(bounds.y + bounds.height * 0.5);\n        posList.push(bounds.x + bounds.width);\n        posList.push(bounds.y + bounds.height);\n        posList.push(bounds.x + bounds.width * 0.5);\n        posList.push(bounds.y + bounds.height);\n        posList.push(bounds.x);\n        posList.push(bounds.y + bounds.height);\n        posList.push(bounds.x);\n        posList.push(bounds.y + bounds.height * 0.5);\n\n        posList.push(bounds.x + bounds.width * 0.5);\n        posList.push(bounds.y - 30);\n        return posList;\n    }\n\n    /**\n     * 显示\n     */\n    public show(parent: DisplayObject, bounds: vf.Rectangle, scaleX: number = 1, scaleY: number = 1, angle: number = 0, showCorner: boolean = true) {\n        parent.addChild(this);\n        this.update(parent, bounds, scaleX, scaleY, angle, showCorner);\n    }\n\n    /**\n     * 更新\n     */\n    public update(parent: DisplayObject, bounds: vf.Rectangle, scaleX: number = 1, scaleY: number = 1, angle: number = 0, showCorner: boolean = true) {\n        if (this.parent !== parent) {\n            this.parent && this.parent.removeChild(this);\n            parent.addChild(this);\n        }\n\n        bounds.x -= bounds.width * (scaleX - 1) * 0.5;\n        bounds.y -= bounds.height * (scaleY - 1) * 0.5;\n        bounds.width *= scaleX;\n        bounds.height *= scaleY;\n\n        if (this._uiContainer) {\n            this._uiContainer.x = bounds.x + bounds.width * 0.5;\n            this._uiContainer.y = bounds.y + bounds.height * 0.5;\n        }\n\n        bounds.x = -bounds.width * 0.5;\n        bounds.y = -bounds.height * 0.5;\n\n        this._bounds = bounds;\n\n        //边框\n        if (this._boundsRect) {\n            let graphic = this._boundsRect.graphics;\n            graphic.clear();\n            graphic.lineStyle(1, 0x000088, 1, undefined, undefined, 'dash');\n            graphic.moveTo(bounds.x, bounds.y);\n            graphic.lineTo(bounds.x + bounds.width, bounds.y);\n            graphic.lineTo(bounds.x + bounds.width, bounds.y + bounds.height);\n            graphic.lineTo(bounds.x, bounds.y + bounds.height);\n            graphic.lineTo(bounds.x, bounds.y);\n        }\n\n        if (showCorner) {\n            this._cornerContainer && (this._cornerContainer.visible = true);\n            //角框\n            let posList = this.getBoundsPosList(bounds);\n\n            for (let i = 0; i < posList.length; i += 2) {\n                let rect = this._cornerContainer?._getChildById(i * 0.5 + '') as Rect;\n                rect.x = posList[i];\n                rect.y = posList[i + 1];\n            }\n        }\n        else {\n            this._cornerContainer && (this._cornerContainer.visible = false);\n        }\n\n        this._uiContainer && (this._uiContainer.rotation = angle);\n    }\n\n    /**\n     * 隐藏\n     */\n    public hide() {\n        this.parent && this.parent.removeChild(this);\n    }\n}","\nexport const enum Role {\n    /** 老师 */\n    teacher = 'T',\n    /** 学生 */\n    student = 'S'\n};\n\nexport const enum Operate {\n    add = '1',\n    remove = '2',\n    clear = '3',\n};\n","import * as FollowLineEnum from \"./FollowLineEnum\";\nimport * as TracingEnum from \"./TracingEnum\"\n\nexport { FontWeight } from \"./FontWeight\"\nexport {FollowLineEnum, TracingEnum};","/**\n * 特定属性改变时,通常为了去系统事件区分，UI组件的事件名为大写\n * 1. CheckBox 的 checked 改变时\n * 2. Label 的 text 改变时\n * 3. SpriteAnimated 的 animationName 改变时\n * 4. Button 文字改变\n * 5. ScrollingContainer 拖动改变时\n * 6. Slider 滑动改变后\n * 7. SpriteAnimated 动画改变后\n * 8. ConnectLine 连线完成时\n */\nexport const CHANGE = \"CHANGE\";\n\n/**\n * 状态改变中\n * \n * slider 滑动时\n */\nexport const CHANGEING = \"CHANGEING\";\n\n/**\n * 状态切换完成时\n * \n * 1. SpriteAnimated 每次播放完时，触发(loop = false时)\n * 2. Image 图片加载完成时\n * 3. Slider 滑动完成\n * 4. Timeline  每次播放完时，触发(loop = false时)\n * 5. FollowLine 完成一次划线\n */\nexport const COMPLETE = \"COMPLETE\";\n\n/**\n * 状态发生改变时\n */\nexport const STATE_CHANGE = \"STATE_CHANGE\";\n\n/**\n * 状态切换完成时\n * \n * SpriteAnimated 每次播放完时，，触发(loop = true时)\n */\nexport const LOOP = \"LOOP\";\n\n/**\n * 组件被添加前\n */\nexport const ADD = \"add\";\n/**\n * 组件被添加时\n */\nexport const ADDED = \"added\";\n\n/**\n * 组件被移除时\n */\nexport const REMOVEED = \"removed\";\n/**\n * 组件大小改变后\n */\nexport const RESIZE = \"RESIZE\";\n/**\n * 组件位置移动\n */\nexport const MOVE = \"MOVE\";\n/**\n * 组件创建完成后\n */\nexport const CREATION_COMPLETE = \"CREATION_COMPLETE\";\n\n/**\n * 拖拽组件按下\n */\nexport const DRAG_DOWN = \"DRAG_DOWN\";\n\n/**\n * 拖拽组件按下\n */\nexport const DRAG_UP = \"DRAG_UP\";\n\n/**\n * 拖拽组件hover\n */\nexport const DRAG_HOVER = \"DRAG_HOVER\";\n\n/**\n * 拖拽组件mouseover\n */\nexport const DRAG_MOUSEENTER = \"DRAG_MOUSEENTER\";\n\n/**\n * 拖拽组件mouseleave\n */\nexport const DRAG_MOUSELEAVE = \"DRAG_MOUSELEAVE\";\n\n/**\n * 组件拖动开始之前\n */\nexport const DRAG_START_BEFORE = \"DRAG_START_BEFORE\";\n/**\n * 组件拖动开始时\n */\nexport const DRAG_START = \"DRAG_START\";\n\n/**\n * 组件拖动结束之前\n */\nexport const DRAG_END_BEFORE = \"DRAG_END_BEFORE\";\n/**\n * 组件拖动结束时 （如果绑定接收容器并拖动到接收容器中，不会触发此事件）\n */\nexport const DRAG_END = \"DRAG_END\";\n/**\n * 组件拖动中\n */\nexport const DRAG_MOVE = \"DRAG_MOVE\";\n\n/**\n * 组件拖动到接收目标中之前\n */\nexport const DRAG_TARGET_BEFORE = \"DRAG_TARGET_BEFORE\";\n/**\n * 组件拖动到接收目标中\n */\nexport const DRAG_TARGET = \"DRAG_TARGET\";\n\n/**\n * 有拖拽物掉落到此容器时触发\n */\nexport const DROP_TARGET = \"DROP_TARGET\";\n\n/**\n * 播放音效 {name,mode}\n */\nexport const PLAY_AUDIO = \"PLAY_AUDIO\";\n\n/**\n * 组件宽度发生变化(目前文本换行需要用到)\n */\nexport const WIDTH_CHANGE = \"WIDTH_CHANGE\";\n\n","import * as ComponentEvent from \"./ComponentEvent\";\nimport {InteractionEvent} from \"./InteractionEvent\";\n//import {KeyEvent} from \"./KeyEvent\";\nimport {TouchMouseEvent} from \"./TouchMouseEvent\";\nimport {TweenEvent} from \"./TweenEvent\";\nimport { SchedulerEvent } from \"./SchedulerEvent\";\n\nexport {\n    ComponentEvent,\n    InteractionEvent,\n    //KeyEvent,\n    TouchMouseEvent,\n    TweenEvent,\n    SchedulerEvent\n};","\nconst tempLocal = new vf.Point(0,0);\n/**\n * 事件的基础类\n * \n * 触摸或鼠标操作事件 可查看 -> TouchEventEnum.TouchEnum\n * \n * import InteractionEvent from \"../interaction/InteractionEvent\",\n */\nexport class InteractionEvent extends vf.InteractionEvent {\n    public constructor() {\n        super();\n        this.local = tempLocal;\n    }\n\n    public local: vf.Point;\n    public path?: number[];\n    public signalling = false;\n}\n","\n/**\n * 对外，封装的点击触摸事件\n * \n * import InteractionEvent,{Mouse} from \"../interaction/InteractionEvent\",\n */\nexport const TouchMouseEvent = {\n    /**\n     * 移出\n     * \n     * (e: InteractionEvent,thisObj:DisplayObject,over: boolean)=>{}\n     */\n    onHover : \"hover\",\n    /**\n     * 按下 \n     * \n     * (e: InteractionEvent,thisObj:DisplayObject, isPressed: boolean)=>void\n     */\n    onPress : \"press\",\n    /**\n     * 按下\n     */\n    onDown : \"down\",\n    /**\n     * 弹起\n     */\n    onUp : \"up\",\n    /**\n     * 点击\n     * \n     * (e: InteractionEvent,thisObj:DisplayObject)=>void\n     */\n    onClick : \"click\",\n    /**\n     * PC 特有，右键点击\n     * \n     * (e: InteractionEvent,thisObj:DisplayObject)=>void\n     */\n    onRightDown : \"rigthdown\",\n    /**\n     * 移动\n     * \n     * (e: InteractionEvent,thisObj:DisplayObject)=>void\n     */\n    onMove : \"move\",\n    /**\n     * 鼠标移入\n     * \n     * (e: InteractionEvent,thisObj:DisplayObject)=>void\n     */\n    onMouseEnter: \"mouseenter\",\n\n    /**\n     * 鼠标移出\n     * \n     * (e: InteractionEvent,thisObj:DisplayObject)=>void\n     */\n    onMouseLeave: \"mouseleave\"\n}\n","\n/**\n * 缓动事件\n */\nexport const TweenEvent = {\n    /**\n     * \n     */\n    Callback : 'Callback',\n    /**\n     * 每次改变\n     */\n    update : 'update',\n    /**\n     * 完成\n     */\n    complete : 'complete',\n    /**\n     * 开始时\n     */\n    start : 'start',\n    /**\n     * 每次重复时\n     */\n    repeat : 'repeat',\n    /**\n     * 反向时\n     */\n    reverse : 'reverse',\n    /**\n     * 暂停时\n     */\n    pause : 'pause',\n    /**\n     * 播放时\n     */\n    play : 'play',\n    /**\n     * 重新开始时\n     */\n    restart : 'restart',\n    /**\n     * 停止时\n     */\n    stop : 'stop'\n}","import { Audio, PlayerStates } from \"../display/Audio\";\n\ninterface AudioGroupObject {\n    groups: { [key: string]: { [value: string]: Audio } };\n    values: { [key: string]: string | undefined };\n}\n\nexport const _audioGroupObject: AudioGroupObject = {\n    groups: {},\n    values: {}\n}\n\n\n/* 注册分组，用于video组件的分组操作 \n* \n* checkGroups = [key]:{[\"value\"]:cb}\n*/\nexport function registrerAudioGroup(cb: Audio) {\n    const name = cb.audioGroup;\n    if (name || name === \"\") {\n        let group = _audioGroupObject.groups[name];\n        if (!group)\n            group = _audioGroupObject.groups[name] = {};\n\n        group[cb.uuid.toString()] = cb;\n\n        // if (cb.checked)\n        _audioGroupObject.values[name] = cb.uuid.toString();\n    }\n}\n\n/**\n * 注销指定分组或指定分组的子项\n * @param cb video\n */\nexport function unRegistrerAudioGroup(cb: Audio) {\n    if ((cb.audioGroup || cb.audioGroup === \"\") && _audioGroupObject.groups[cb.audioGroup]) {\n        delete _audioGroupObject.groups[cb.audioGroup][cb.uuid.toString()];\n        let isKey = false;\n        for (const key in _audioGroupObject.groups[cb.audioGroup]) {\n            if (key) isKey = true;\n            break;\n        }\n        if (!isKey) {\n            delete _audioGroupObject.groups[cb.audioGroup];\n        }\n        // if (cb.checked)\n        _audioGroupObject.values[cb.audioGroup] = undefined;\n    }\n}\n\n/** 更新分组中选中的checkbox组件  */\nexport function updateAudioGroupStates(cb: Audio) {\n    if (cb.audioGroup || cb.audioGroup === \"\") {\n        const group = _audioGroupObject.groups[cb.audioGroup];\n        for (const val in group) {\n            const b = group[val];\n            if (b !== cb && b.groupName === cb.groupName) {\n                // 不是自己 暂停\n                if (b) {\n                    if (b.playerStates === PlayerStates.play) {\n                        b.stop();\n                    }\n                    // if (b.playerStates === PlayerStates.end) {\n                    //     console.error(\" end other \");\n                    //     b.stop();\n                    // } else {\n                    //     console.error(\" pausee other \");\n                    //     b.pause();\n                    // }\n                }\n            }\n        }\n        _audioGroupObject.values[cb.audioGroup] = cb.uuid.toString();\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { TouchMouseEventEnum } from \"./TouchMouseEventEnum\";\nimport { InteractionEvent } from \"../event/InteractionEvent\";\nimport { TouchMouseEvent } from \"../event/TouchMouseEvent\";\nimport { debug } from \"../utils/Utils\";\nimport { SyncManager } from \"./SyncManager\";\n\n/**\n * 点击触摸相关的事件处理订阅类,UI组件内部可以创建此类实现点击相关操作\n *\n *  可侦听事件:\n * ```\n *  {InteractionEvent}.TouchEvent.onHover\n *  {InteractionEvent}.TouchEvent.onPress\n *  {InteractionEvent}.TouchEvent.onClick\n *  {InteractionEvent}.TouchEvent.onMove\n * ```\n *\n * @example 可查看 `TestSliceSprite` 示例\n *\n * @since 1.0.0\n */\nexport class ClickEvent {\n    /**\n     * ClickEvent 构造函数\n     * @param obj 调用的显示对象\n     * @param includeHover 是否监听鼠标移上与移出，默认true\n     * @param rightMouseButton 是否开启鼠标右键点击，默认false\n     * @param doubleClick 是否开启鼠标双击,默认false\n     */\n    public constructor(\n        obj: DisplayObject,\n        includeHover?: boolean,\n        rightMouseButton?: boolean,\n        doubleClick?: boolean\n    ) {\n        this.obj = obj;\n\n        if (includeHover !== undefined) {\n            this.hover = includeHover;\n        }\n        if (rightMouseButton !== undefined) {\n            this.right = rightMouseButton;\n            const type = vf.utils.getSystemInfo().device.type;\n            if (type === 'tablet' || type === 'mobile') {\n                this.right = false;\n            }\n        }\n        if (doubleClick !== undefined) {\n            this.double = doubleClick;\n        }\n\n        obj.interactive = true;\n\n        this.startEvent();\n    }\n\n    /** 当前按下状态的所有对象，为了弹起统一做处理 */\n    private static downObjects = new Map<string,ClickEvent>();\n\n    private obj: DisplayObject;\n    public id = 0;\n    /** 是否开启本地坐标转换，开启后，事件InteractionEvent中的localX localY为本地坐标，false情况下为0 */\n    public isOpenLocalPoint = false;\n    private localOffset = new vf.Point();\n    private offset = new vf.Point();\n    private movementX = 0;\n    private movementY = 0;\n    private ishover = false;\n    private mouse = new vf.Point();\n    private bound = false;\n    private right = false;\n    private hover = true;\n    public double = false;\n    private time = 0;\n    private isStop = true;\n    private deviceType = vf.utils.getSystemInfo().device.type;\n\n    public getTarget() {\n        return this.obj;\n    }\n\n    public startEvent() {\n        if (this.isStop) {\n            const container = this.obj.container;\n            container.on(TouchMouseEventEnum.mousedown, this._onMouseDown, this);\n            if (this.right) {\n                container.on(TouchMouseEventEnum.mouseRightDown, this._onMouseRight, this);\n            } else {\n                container.on(TouchMouseEventEnum.touchstart, this._onMouseDown, this);\n                if (this.hover) {\n                    // 信令恢复时需要用到，一端时PC，一端是移动时，所以需要都监听\n                    container.on(TouchMouseEventEnum.mouseover, this._onMouseOver, this);\n                    container.on(TouchMouseEventEnum.mouseout, this._onMouseOut, this);\n                    if (this.deviceType !== 'pc') {\n                        container.on(TouchMouseEventEnum.touchstart, this._onMouseOver, this);\n                        container.on(TouchMouseEventEnum.touchend, this._onMouseOut, this);\n                        container.on(TouchMouseEventEnum.touchendoutside, this._onMouseOut, this);\n                    }\n                }\n            }\n            this.isStop = false;\n        }\n    }\n\n    private _onStageTouchOutside(e: InteractionEvent){\n        this.obj.stage?.container.off(TouchMouseEventEnum.touchendoutside,this._onStageTouchOutside, this);\n        this._onMouseUpOutside(e);\n    }\n\n    private _onMouseRight(e: InteractionEvent) {\n        if (\n            this.obj.stage && this.obj.stage.syncInteractiveFlag &&\n            (this.obj.listenerCount(TouchMouseEvent.onRightDown) > 0)\n        ) {\n            (SyncManager.getInstance(this.obj.stage) as SyncManager).collectEvent(e, this.obj);\n        }\n        switch (e.type) {\n            case TouchMouseEventEnum.mouseRightDown:\n                this.emitTouchEvent(TouchMouseEvent.onRightDown, e, true);\n                break;\n            // case TouchMouseEventEnum.mouseRightup:\n            //     break;\n            // case TouchMouseEventEnum.mouseRightupoutside:\n            //     break;\n        }\n        if (this.obj.stage && this.obj.stage.originalEventPreventDefault && e.data.originalEvent) {\n            e.data.originalEvent.preventDefault();\n            e.data.originalEvent.stopImmediatePropagation(); // 移动设备\n        }\n    }\n\n    /** 清除拖动 */\n    public stopEvent() {\n        const container = this.obj.container;\n        if (this.bound) {\n            container.off(TouchMouseEventEnum.mouseup, this._onMouseUp, this);\n            container.off(TouchMouseEventEnum.mouseupoutside, this._onMouseUpOutside, this);\n\n            if (!this.right) {\n                container.off(TouchMouseEventEnum.touchend, this._onMouseUp, this);\n                container.off(TouchMouseEventEnum.touchendoutside, this._onMouseUpOutside, this);\n                container.off(TouchMouseEventEnum.touchcancel, this._onMouseUpOutside, this);\n            }\n            this.bound = false;\n        }\n        container.off(TouchMouseEventEnum.mousedown, this._onMouseDown, this);\n        if (this.right) {\n            container.off(TouchMouseEventEnum.mouseRightDown, this._onMouseRight, this);\n        } else {\n            container.off(TouchMouseEventEnum.touchstart, this._onMouseDown, this);\n        }\n\n\n        if (this.hover) {\n            container.off(TouchMouseEventEnum.mouseover, this._onMouseOver, this);\n            container.off(TouchMouseEventEnum.mouseout, this._onMouseOut, this);\n            container.off(TouchMouseEventEnum.mousemove, this._onMouseMove, this);\n            container.off(TouchMouseEventEnum.touchmove, this._onMouseMove, this);\n\n            container.off(TouchMouseEventEnum.touchstart, this._onMouseOver, this);\n            container.off(TouchMouseEventEnum.touchend, this._onMouseOut, this);\n            container.off(TouchMouseEventEnum.touchendoutside, this._onMouseOut, this);\n        }\n        this.isStop = true;\n    }\n\n    private _onMouseDown(e: InteractionEvent) {\n        ClickEvent.downObjects.set(this.obj.uuid.toString(),this);\n        if (\n            this.obj.stage && this.obj.stage.syncInteractiveFlag &&\n            (this.obj.listenerCount(TouchMouseEvent.onPress) > 0 ||\n                this.obj.listenerCount(TouchMouseEvent.onDown) > 0 ||\n                this.obj.listenerCount(TouchMouseEvent.onClick) > 0)\n        ) {\n            (SyncManager.getInstance(this.obj.stage) as SyncManager).collectEvent(e, this.obj);\n        }\n        this.setLocalPoint(e);\n        this.mouse.copyFrom(e.data.global);\n        this.id = e.data.identifier;\n        this.emitTouchEvent(TouchMouseEvent.onPress, e, true);\n        if (this.obj.listenerCount(TouchMouseEvent.onDown) > 0) {\n            this.emitTouchEvent(TouchMouseEvent.onDown, e, true);\n        }\n        const container = this.obj.container;\n        if (!this.bound) {\n            container.on(TouchMouseEventEnum.mouseup, this._onMouseUp, this);\n            container.on(TouchMouseEventEnum.mouseupoutside, this._onMouseUpOutside, this);\n            container.on(TouchMouseEventEnum.touchend, this._onMouseUp, this);\n            container.on(TouchMouseEventEnum.touchendoutside, this._onMouseUpOutside, this);\n            container.on(TouchMouseEventEnum.touchcancel, this._onMouseUpOutside, this);\n            this.bound = true;\n        }\n\n        if (this.double) {\n            const now = performance.now();\n            if (now - this.time < 210) {\n                this.emitTouchEvent('double', e);\n            } else {\n                this.time = now;\n            }\n        }\n\n        if (this.obj.stage && this.obj.stage.originalEventPreventDefault && e.data.originalEvent) {\n            e.data.originalEvent.preventDefault();\n            e.data.originalEvent.stopImmediatePropagation(); // 移动设备\n        }\n    }\n\n    private emitTouchEvent(event: string | symbol, e: InteractionEvent, args?: boolean) {\n        if (this.obj.listenerCount(event) <= 0) {\n            return;\n        }\n        if (debug) {\n            const stage = this.obj.stage;\n            if (stage && event !== TouchMouseEvent.onMove) {\n                stage.sendToPlayer({\n                    code: event,\n                    level: \"info\",\n                    target: this.obj,\n                    data: [args],\n                    action: e.type,\n                });\n            }\n        }\n        e.type = event.toString();\n        this.obj.emit(e.type, e, this.obj, args);\n    }\n\n    private _mouseUpAll(e: InteractionEvent) {\n        if (e.data.identifier !== this.id) return;\n        this.offset.set(e.data.global.x - this.mouse.x, e.data.global.y - this.mouse.y);\n        if (this.bound) {\n            this.obj.container.off(TouchMouseEventEnum.mouseup, this._onMouseUp, this);\n            this.obj.container.off(TouchMouseEventEnum.mouseupoutside, this._onMouseUpOutside, this);\n            this.obj.container.off(TouchMouseEventEnum.touchend, this._onMouseUp, this);\n            this.obj.container.off(TouchMouseEventEnum.touchendoutside, this._onMouseUpOutside, this);\n            this.obj.container.off(TouchMouseEventEnum.touchcancel, this._onMouseUpOutside, this);\n            this.bound = false;\n        }\n        this.emitTouchEvent(TouchMouseEvent.onUp, e, false);\n        this.emitTouchEvent(TouchMouseEvent.onPress, e, false);\n    }\n    private _onMouseUp(e: InteractionEvent) {\n        if (e.data.identifier !== this.id) return;\n        \n        if (\n            this.obj.stage && this.obj.stage.syncInteractiveFlag &&\n            (this.obj.listenerCount(TouchMouseEvent.onUp) > 0 ||\n                this.obj.listenerCount(TouchMouseEvent.onPress) > 0 ||\n                this.obj.listenerCount(TouchMouseEvent.onClick) > 0)\n        ) {\n            (SyncManager.getInstance(this.obj.stage) as SyncManager).collectEvent(e, this.obj);\n        }\n\n        this._mouseUpAll(e);\n\n        //prevent clicks with scrolling/dragging objects\n        if (this.obj.dragThreshold) {\n            this.movementX = Math.abs(this.offset.x);\n            this.movementY = Math.abs(this.offset.y);\n            if (Math.max(this.movementX, this.movementY) > this.obj.dragThreshold) return;\n        }\n\n        if (!this.double) {\n            this.emitTouchEvent(TouchMouseEvent.onClick, e, false);\n        }\n    }\n\n    private _onMouseUpOutside(e: InteractionEvent) {\n        if (e.data.identifier !== this.id) return;\n        \n        if (\n            this.obj.stage && this.obj.stage.syncInteractiveFlag &&\n            (this.obj.listenerCount(TouchMouseEvent.onUp) > 0 ||\n                this.obj.listenerCount(TouchMouseEvent.onPress) > 0)\n        ) {\n            (SyncManager.getInstance(this.obj.stage) as SyncManager).collectEvent(e, this.obj);\n        }\n\n        this._mouseUpAll(e);\n        if (this.deviceType !== 'pc') { // fix 移动设备按下后，移出组件，无法触发画线\n            this.removeAllMove();\n        }\n    }\n\n    private _onMouseOver(e: InteractionEvent) {\n        if (!this.ishover) {\n            if (this.obj.stage && this.obj.stage.syncInteractiveFlag && (this.obj.listenerCount(TouchMouseEvent.onHover) > 0 || this.obj.listenerCount(TouchMouseEvent.onMouseEnter) > 0)) {\n                (SyncManager.getInstance(this.obj.stage) as SyncManager).collectEvent(e, this.obj);\n            }\n\n            this.ishover = true;\n            if(this.obj.container.listeners(TouchMouseEventEnum.mousemove).length <= 0){\n                this.obj.container.on(TouchMouseEventEnum.mousemove, this._onMouseMove, this);\n            }\n            if(this.obj.container.listeners(TouchMouseEventEnum.touchmove).length <= 0){\n                this.obj.container.on(TouchMouseEventEnum.touchmove, this._onMouseMove, this);\n            } \n            this.emitTouchEvent(TouchMouseEvent.onHover, e, true);\n            this.emitTouchEvent(TouchMouseEvent.onMouseEnter, e);\n        }\n    }\n\n    private _onMouseOut(e: InteractionEvent) {\n        if (this.ishover) {\n            if (this.obj.stage && this.obj.stage.syncInteractiveFlag && (this.obj.listenerCount(TouchMouseEvent.onHover) > 0 || this.obj.listenerCount(TouchMouseEvent.onMouseLeave) > 0)) {\n                (SyncManager.getInstance(this.obj.stage) as SyncManager).collectEvent(e, this.obj);\n            }\n\n            this.ishover = false;\n            if (this.deviceType !== 'pc') { // fix 移动设备按下后，移出组件，无法触发画线\n                this.removeAllMove();\n            }\n            this.emitTouchEvent(TouchMouseEvent.onHover, e, false);\n            this.emitTouchEvent(TouchMouseEvent.onMouseLeave, e);\n        }\n    }\n\n    private _tempMovePoint = new vf.Point();\n    private _onMouseMove(e: InteractionEvent) {\n        if (this.obj.stage && this.obj.stage.syncInteractiveFlag && (this.obj.listenerCount(TouchMouseEvent.onMove) > 0)) {\n            (SyncManager.getInstance(this.obj.stage) as SyncManager).collectEvent(e, this.obj);\n        }\n        const container = this.obj.container;\n        container.toLocal(e.data.global, undefined, this._tempMovePoint);\n        if (container.hitArea && container.hitArea.contains(this._tempMovePoint.x, this._tempMovePoint.y)) {\n            this.setLocalPoint(e);\n            this.emitTouchEvent(TouchMouseEvent.onMove, e);\n        }\n        if (this.obj.stage && this.obj.stage.originalEventPreventDefault && e.data.originalEvent) {\n            e.data.originalEvent.preventDefault();\n            e.data.originalEvent.stopImmediatePropagation(); // 移动设备\n        }\n    }\n\n    private setLocalPoint(e: InteractionEvent) {\n        if (this.isOpenLocalPoint) {\n            this.obj.container.toLocal(e.data.global, undefined, this.localOffset);\n            e.local = this.localOffset;\n        }\n    }\n\n    private removeAllMove(){\n        ClickEvent.downObjects.forEach(value=>{\n            const obj = value.obj;\n            obj.container.off(TouchMouseEventEnum.mousemove, value._onMouseMove, value);\n            obj.container.off(TouchMouseEventEnum.touchmove, value._onMouseMove, value);\n        });\n        ClickEvent.downObjects.clear();\n    }\n\n    public remove() {\n        this.stopEvent();\n        this.obj.container.interactive = false;\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { InteractionEvent } from \"../event/InteractionEvent\";\n\n/**\n * 记录当前正在拖动的UI组件列表\n * @private\n */\nexport const _items: DisplayObject[] = [];\nexport const _dropTargets: any[] = [];  //拖拽掉落容器列表\n/**\n * 添加拖动组件到控制器\n * @param item 要添加的UI组件\n * @param e 传送的事件\n * @returns true|false\n * @since 1.0.0\n */\nexport function add(item: DisplayObject, e: InteractionEvent) {\n    item.attach.dragDropEventId = e.data.identifier;\n    if (_items.indexOf(item) === -1) {\n        _items.push(item);\n        return true;\n    }\n    return false;\n}\n\nexport function remove(item: DisplayObject) {\n    const index = _items.indexOf(item); \n    if (index > -1) {\n        _items.splice(index,1);\n        return true;\n    }\n    return false;\n}\n\n/**\n * 添加掉落容器\n * @param group \n * @param target \n */\nexport function addDropTarget(group: string, target: DisplayObject) {\n    let obj: any = {\n        group,\n        target\n    }\n    _dropTargets.push(obj);\n}\n\n/**\n * 获取对应的掉落容器\n * @param group \n */\nexport function getDropTargets(group: string) {\n    let list: DisplayObject[] = [];\n    _dropTargets.forEach(item => {\n        if (item.group === group) {\n            list.push(item.target);\n        }\n    })\n    return list;\n}\n\nexport function removeDropTarget(target: DisplayObject) {\n    let index: number | undefined;\n    for (let i = 0; i < _dropTargets.length; ++i) {\n        if (_dropTargets[i].target === target) {\n            index = i;\n            break;\n        }\n    }\n    if (index !== undefined) {\n        _dropTargets.splice(index, 1);\n    }\n}\n\n/**\n * 获取正在拖动组件\n * @param item 要获取的UI组件\n * @returns flase | item\n */\nexport function getItem(item: DisplayObject) {\n    let index: number | undefined;\n    for (let i = 0; i < _items.length; i++) {\n        if (_items[i] === item) {\n            index = i;\n            break;\n        }\n    }\n\n    if (index !== undefined) {\n        _items.splice(index, 1);\n        return item;\n    }\n    else {\n        return false;\n    }\n}\n\n/**\n * 根据事件对象与分组名获取拖动项\n * @param e 事件对象\n * @param group 分组名\n */\nexport function getEventItem(e: InteractionEvent, group: string | undefined) {\n    let item = null, index: number | undefined;\n    const id = e.data.identifier;\n\n    for (let i = 0; i < _items.length; i++) {\n        if (_items[i].attach.dragDropEventId === id) {\n            if (group !== _items[i].attach.dragGroup && _items[i].attach.dragGroup !== \"\") {\n                return false;\n            }\n            item = _items[i];\n            index = i;\n            break;\n        }\n    }\n\n    if (index !== undefined) {\n        _items.splice(index, 1);\n        return item;\n    }\n    else {\n        return false;\n    }\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { TouchMouseEventEnum } from \"./TouchMouseEventEnum\";\nimport { InteractionEvent } from \"../event/InteractionEvent\";\nimport { ComponentEvent } from \"./Index\";\nimport { SyncManager } from \"./SyncManager\";\nimport { DisplayObjectAbstract } from \"../core/DisplayObjectAbstract\";\n\n/**\n * 多拽相关的事件处理类\n *\n *  可侦听事件:\n * ```\n *  {InteractionEvent}.DraggableEvent.onDragPress\n *  {InteractionEvent}.DraggableEvent.onDragStart\n *  {InteractionEvent}.DraggableEvent.onDragMove\n *  {InteractionEvent}.DraggableEvent.onDragEnd\n * ```\n *  可赋值方法:\n * ```\n * onPress: ((e: InteractionEvent, isPressed: boolean,dragObj?: DragEvent) => void) | undefined;\n * onDragEnd: ((e: InteractionEvent,dragObj?: DragEvent) => void) | undefined\n * onDragMove: ((e: InteractionEvent, offset: vf.Point,dragObj?: DragEvent) => void) | undefined\n * onDragStart: ((e: InteractionEvent,dragObj?: DragEvent) => void) | undefined\n * ```\n *\n * @example 可查看 `Slider` 源码\n *\n * @since 1.0.0\n */\nexport class DragEvent {\n    public constructor(obj: DisplayObject) {\n        this.obj = obj;\n        obj.interactive = true;\n        this.startEvent();\n    }\n\n    private obj: DisplayObject;\n    public id = 0;\n    private offset = new vf.Point();\n    private movementX = 0;\n    private movementY = 0;\n    private bound = false;\n    public start = new vf.Point();\n    private mouse = new vf.Point();\n    private cancel = false;\n    private dragging = false;\n    private isStop = true;\n    private ishover = false;\n    /**\n     * 限制拖动抽,XY,X抽或Y抽\n     */\n    public dragRestrictAxis?: \"x\" | \"y\";\n\n    public startEvent() {\n        if (this.isStop) {\n            this.obj.container.on(TouchMouseEventEnum.mousedown, this._onDragStart, this);\n            this.obj.container.on(TouchMouseEventEnum.touchstart, this._onDragStart, this);\n            this.obj.container.on(TouchMouseEventEnum.mouseover, this._onDragOver, this);\n            this.obj.container.on(TouchMouseEventEnum.mouseout, this._onMouseOut, this);\n            this.isStop = false;\n        }\n    }\n\n    public executeAction(e: InteractionEvent) {\n        switch (e.type) {\n            case ComponentEvent.DRAG_START:\n                this._onDragStart(e);\n                break;\n            case ComponentEvent.DRAG_MOVE:\n                this._onDragMove(e);\n                break;\n            case ComponentEvent.DRAG_END:\n                this._onDragEnd(e);\n                break;\n        }\n    }\n\n    private _onDragOver(e: InteractionEvent){\n        if(!this.ishover){\n            this.ishover = true;\n            this.onDragHover && this.onDragHover.call(this.obj, e, true, this);\n        }\n    }\n    private _onMouseOut(e: InteractionEvent){\n        if(this.ishover){\n            this.ishover = false;\n            this.onDragHover && this.onDragHover.call(this.obj, e, false, this);\n        }\n    }\n\n    private _onDragStart(e: InteractionEvent) {\n        if(this.obj.stage && this.obj.stage.syncInteractiveFlag && (e.type == TouchMouseEventEnum.mousedown || e.type == TouchMouseEventEnum.touchstart)){\n            (SyncManager.getInstance(this.obj.stage) as SyncManager).collectEvent(e, this.obj);\n        }\n        \n        if (this.obj.dragStopPropagation && e.data.originalEvent && e.data.originalEvent.stopPropagation) {\n            e.data.originalEvent.stopPropagation();\n        }\n        this.id = e.data.identifier;\n\n        if (e.type == TouchMouseEventEnum.mousedown || e.type == TouchMouseEventEnum.touchstart) {\n            this.onDragPress && this.onDragPress.call(this.obj, e, true, this);\n        }\n\n        if (!this.bound && this.obj.parent && this.obj.stage) {\n            const stage = this.obj.stage.container;\n            this.start.copyFrom(e.data.global);\n            stage.off(TouchMouseEventEnum.mousemove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.touchmove, this._onDragMove, this);\n            stage.on(TouchMouseEventEnum.mousemove, this._onDragMove, this);\n            stage.on(TouchMouseEventEnum.touchmove, this._onDragMove, this);\n            stage.on(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.mouseupoutside, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.touchendoutside, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.touchcancel, this._onDragEnd, this);\n\n            //显示对象自身的抬起事件,为了解决显示对象既绑定拖拽事件，又绑定点击事件，且在点击事件有跳转场景操作时，信令恢复会丢失一个up事件  ziye+\n            this.obj.container.on(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            this.obj.container.on(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            this.bound = true;\n        }\n\n        if (\n            this.obj.stage &&\n            this.obj.stage.originalEventPreventDefault &&\n            e.data.originalEvent &&\n            e.data.originalEvent.preventDefault\n        ) {\n            e.data.originalEvent.preventDefault();\n        }\n    }\n\n    private _onDragMove(e: InteractionEvent) {\n        if (this.obj.dragStopPropagation && e.data.originalEvent && e.data.originalEvent.stopPropagation) {\n            e.data.originalEvent.stopPropagation();\n        }\n        if (e.data.identifier !== this.id) return;\n\n        if (this.obj.stage && this.obj.stage.syncInteractiveFlag && (e.type == TouchMouseEventEnum.mousemove || e.type == TouchMouseEventEnum.touchmove)) {\n            (SyncManager.getInstance(this.obj.stage) as SyncManager).collectEvent(e, this.obj.stage as DisplayObjectAbstract);\n        }\n\n        this.mouse.copyFrom(e.data.global);\n        this.offset.set(this.mouse.x - this.start.x, this.mouse.y - this.start.y);\n        if (!this.dragging) {\n            this.movementX = Math.abs(this.offset.x);\n            this.movementY = Math.abs(this.offset.y);\n            if (\n                (this.movementX === 0 && this.movementY === 0) ||\n                Math.max(this.movementX, this.movementY) < this.obj.dragThreshold\n            )\n                return; //thresshold\n            if (this.dragRestrictAxis !== undefined) {\n                this.cancel = false;\n                if (this.dragRestrictAxis == \"x\" && this.movementY > this.movementX) this.cancel = true;\n                else if (this.dragRestrictAxis == \"y\" && this.movementY <= this.movementX) this.cancel = true;\n                if (this.cancel) {\n                    this._onDragEnd(e);\n                    return;\n                }\n            }\n\n            this.onDragStart && this.onDragStart.call(this.obj, e, this);\n            this.dragging = true;\n        }\n        this.onDragMove && this.onDragMove.call(this.obj, e, this.offset, this);\n    }\n\n    private _onDragEnd(e: InteractionEvent) {\n        if (this.obj.dragStopPropagation && e.stopPropagation) e.stopPropagation();\n        if (e.data.identifier !== this.id) return;\n\n        if (\n            this.obj.stage && this.obj.stage.syncInteractiveFlag &&\n            (e.type == TouchMouseEventEnum.mouseup ||\n            e.type == TouchMouseEventEnum.mouseupoutside ||\n            e.type == TouchMouseEventEnum.touchend ||\n            e.type == TouchMouseEventEnum.touchendoutside ||\n            e.type == TouchMouseEventEnum.touchcancel)\n        ) {\n            (SyncManager.getInstance(this.obj.stage) as SyncManager).collectEvent(e, this.obj.stage as DisplayObjectAbstract);\n        }\n\n        if (this.bound && this.obj.stage) {\n            const stage = this.obj.stage.container;\n            stage.off(TouchMouseEventEnum.mousemove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.touchmove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.mouseupoutside, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchendoutside, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchcancel, this._onDragEnd, this);\n            this.obj.container.off(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            this.obj.container.off(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            this.dragging = false;\n            this.bound = false;\n            this.onDragEnd && this.onDragEnd.call(this.obj, e, this);\n            this.onDragPress && this.onDragPress.call(this.obj, e, false, this);\n        }\n    }\n\n    /** 清除拖动 */\n    public stopEvent() {\n        if (this.bound && this.obj.stage) {\n            const stage = this.obj.stage.container;\n            stage.off(TouchMouseEventEnum.mousemove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.touchmove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.mouseupoutside, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchendoutside, this._onDragEnd, this);\n            this.bound = false;\n        }\n        this.obj.container.off(TouchMouseEventEnum.mousedown, this._onDragStart, this);\n        this.obj.container.off(TouchMouseEventEnum.touchstart, this._onDragStart, this);\n        this.obj.container.off(TouchMouseEventEnum.mouseover, this._onDragOver, this);\n        this.obj.container.off(TouchMouseEventEnum.mouseout, this._onMouseOut, this);\n        this.obj.container.off(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n        this.obj.container.off(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n\n        this.isStop = true;\n    }\n\n    public remove() {\n        this.stopEvent();\n        this.onDragPress = undefined;\n        this.onDragEnd = undefined;\n        this.onDragMove = undefined;\n        this.onDragStart = undefined;\n        this.obj.interactive = false;\n    }\n\n    public onDragPress: ((e: InteractionEvent, isPressed: boolean, dragObj?: DragEvent) => void) | undefined;\n    public onDragEnd: ((e: InteractionEvent, dragObj?: DragEvent) => void) | undefined;\n    public onDragMove: ((e: InteractionEvent, offset: vf.Point, dragObj?: DragEvent) => void) | undefined;\n    public onDragStart: ((e: InteractionEvent, dragObj?: DragEvent) => void) | undefined;\n    public onDragHover: ((e: InteractionEvent, isHover: boolean, dragObj?: DragEvent) => void) | undefined;\n}","import { DisplayObject } from \"../core/DisplayObject\";\n\n/**\n * \n * @private\n */\nexport const _GroupObject = new Map<string, { [key: string]: DisplayObject }>();\n/**\n * 具有ID属性的组件都会添加到本组\n * @private\n */\nexport const _idObject = new Map<string, DisplayObject>();\n\nexport function getObjectById(id: string){\n    return _idObject.get(id);\n}\nexport function registrerID(ui: DisplayObject) {\n    if ( ui.id) {\n        if ( !_idObject.has( ui.id)) {\n            _idObject.set( ui.id, ui);\n            return true;\n        }\n    }\n    return false;\n}\n\nexport function unRegistrerID(ui: DisplayObject) {\n    if ( ui.id) {\n        if ( _idObject.has( ui.id)) {\n            _idObject.delete( ui.id);\n        }\n    }\n}\n\n\n/** \n * 注册分组，\n */\nexport function registrerGroup(ui: DisplayObject) {\n    if ( ui.groupName) {\n\n        let group = _GroupObject.get( ui.groupName);\n        if (!group) {\n            group = {};\n            _GroupObject.set( ui.groupName, group);\n        }\n        group[ui.uuid] = ui;\n    }\n}\n\n/**\n * 注销指定分组或指定分组的子项\n */\nexport function unRegistrerGroup(ui: DisplayObject) {\n    if (ui.groupName) {\n        const group = _GroupObject.get(ui.groupName);\n        if (group) {\n            delete group[ui.uuid];\n        }\n        let isKey = false;\n        for (const key in group) {\n            isKey = true;\n            break;\n        }\n        if (isKey) {\n            _GroupObject.delete(ui.groupName);\n        }\n    }\n}\n\n/** 设置选中 */\nexport function getGroup(name?: string): { [key: string]: DisplayObject } | undefined {\n    if (name == undefined) {\n        return undefined;\n    }\n    return _GroupObject.get(name);\n}\n","import { ClickEvent } from \"./ClickEvent\";\nimport * as DragDropController from \"./DragDropController\";\nimport { DragEvent } from \"./DragEvent\";\nimport * as InputController from \"./InputController\";\nimport * as VideoGroupController from \"./VideoGroupController\";\nimport { MouseScrollEvent } from \"./MouseScrollEvent\";\nimport { InteractionEvent } from \"../event/InteractionEvent\";\nimport { TouchMouseEvent } from \"../event/TouchMouseEvent\";\nimport * as ComponentEvent from \"../event/ComponentEvent\";\nimport * as GroupController from \"./GroupController\";\n\nexport {\n    ClickEvent,\n    DragDropController,\n    DragEvent,\n    InputController,\n    MouseScrollEvent,\n    InteractionEvent,\n    TouchMouseEvent,\n    ComponentEvent,\n    GroupController,\n    VideoGroupController\n};","import {DisplayObject} from \"../core/DisplayObject\";\nimport { CheckBox } from \"../display/CheckBox\";\n\ninterface CheckGroupObject{\n    groups: {[key: string]: {[value: string]: CheckBox}} ;\n    values: {[key: string]: string|undefined}; \n}\n/**\n * 记录当前正在拖动的UI组件列表\n * @private\n */\nlet _currentItem: DisplayObject|undefined;\n/**\n * \n * @private\n */\nexport const tabGroups: {[key: string]: DisplayObject[]} = {};\n/**\n * \n * @private\n */\nexport const _checkGroupObject: CheckGroupObject = {\n    groups: {},\n    values: {}\n} \n\n/**\n * 注册组件\n * @param item \n * @param tabIndex 切换位置\n * @param tabGroup 分组名\n * @returns 依据tabIndex返回是否需要排序 0，-1，1\n */\nexport function registrer(item: DisplayObject, tabIndex: number, tabGroup?: string) {\n    const groupName = tabGroup || \"default\";\n\n    let items = tabGroups[groupName];\n    if (!items)\n        items = tabGroups[groupName] = [];\n\n    const i = items.indexOf(item);\n    if (i === -1) {\n        item.attach._tabIndex = tabIndex !== undefined ? tabIndex : -1;\n        item.attach._tabGroup = items;\n        items.push(item);\n        items.sort(function (a, b) {\n            if (a.attach._tabIndex < b.attach._tabIndex)\n                return -1;\n            if (a.attach._tabIndex > b.attach._tabIndex)\n                return 1;\n            return 0;\n        });\n    }\n}\n/** 失去焦点时 */\nexport function blur(){\n    const obj = _currentItem as TInputBase;\n    if(obj){\n        if(obj.blur && typeof obj.blur == \"function\"){\n            obj.blur();\n        }\n    }     \n}\n/** 设置当前输入组件 */\nexport function set(item: DisplayObject){\n    blur();\n    _currentItem = item;\n}\n\n/** 清楚当前设置的组件 */\nexport function clear(){\n    _currentItem = undefined;\n}\n/** 一般再按下键盘tab健执行 焦点获取与设置 */\nexport function fireTab(){\n    if (_currentItem) {\n        const _tabGroup = _currentItem.attach._tabGroup as DisplayObject[];\n        let i = _tabGroup.indexOf(_currentItem) + 1;\n        if (i >= _tabGroup.length) \n            i = 0;\n        const obj = _tabGroup[i] as TInputBase;\n        if(obj.focus)\n            obj.focus();\n    }\n}\n\n/** 一般再按下键盘向下箭头执行 焦点获取与设置 */\nexport function fireNext(){\n    if (_currentItem) {\n        const _tabGroup = _currentItem.attach._tabGroup as DisplayObject[];\n        let i = _tabGroup.indexOf(_currentItem) + 1;\n        if (i >= _tabGroup.length) \n            i = _tabGroup.length - 1;\n        const obj = _tabGroup[i] as TInputBase;\n        if(obj.focus)\n            obj.focus();\n    }\n}\n\n/** 一般再按下键盘向上箭头执行 焦点获取与设置 */\nexport function firePrev(){\n    if (_currentItem) {\n        const _tabGroup = _currentItem.attach._tabGroup as DisplayObject[];\n        let i = _tabGroup.indexOf(_currentItem) - 1;\n        if (i < 0) \n            i = 0;\n        const obj = _tabGroup[i] as TInputBase;\n        if(obj.focus)\n            obj.focus();\n    }\n}\n\n/** \n * 注册分组，一般用于checkBox组件的分组操作 \n * \n *  ==== 目前没有实现卸载，如果无限制创建checkbox并设置分组可能引发泄露 ====\n * \n * checkGroups = [key]:{[\"value\"]:cb}\n */\nexport function registrerCheckGroup(cb: CheckBox){\n    const name = cb.checkGroup;\n    if(name){\n        let group = _checkGroupObject.groups[name];\n        if (!group) \n            group = _checkGroupObject.groups[name] = {};\n    \n        group[cb.uuid.toString()] = cb;\n    \n        if (cb.checked)\n            _checkGroupObject.values[name] = cb.uuid.toString();\n    }\n}\n\n/**\n * 注销指定分组或指定分组的子项\n * @param cb CheckBox\n */\nexport function unRegistrerCheckGroup(cb: CheckBox){\n    if(cb.checkGroup && _checkGroupObject.groups[cb.checkGroup]){\n        delete _checkGroupObject.groups[cb.checkGroup][cb.uuid.toString()];\n        let isKey = false;\n        for(const key in _checkGroupObject.groups[cb.checkGroup]){\n            if(key) isKey = true;\n            break;\n        }\n        if(!isKey){\n            delete _checkGroupObject.groups[name];\n        }\n        if (cb.checked)\n            _checkGroupObject.values[name] = undefined;\n    }\n}\n/** 更新分组中选中的checkbox组件  */\nexport function updateCheckGroupSelected(cb: CheckBox){\n    if(cb.checkGroup){\n        const group = _checkGroupObject.groups[cb.checkGroup];\n        for (const val in group) {\n            const b = group[val];\n            if (b !== cb)\n                b.checked = false;\n        }\n        _checkGroupObject.values[cb.checkGroup] = cb.uuid.toString();\n    }\n}\n\n/** 获取分组中选中的checkbox值 */\nexport function getCheckGroupSelectedValue(name: string){\n    const uuid = _checkGroupObject.values[name];\n    if(uuid){\n        const cb = _checkGroupObject.groups[name][uuid.toString()];\n        return cb.value;\n    }\n    return undefined;\n}\n\n/** 设置选中 */\nexport function setCheckGroupSelectedValue(name: string,uuid: string){\n    const group = _checkGroupObject.groups[name];\n    if (group) {\n        const cb = group[uuid];\n        if (cb) {\n            cb.checked = true;\n        }\n    }\n}\n","import {DisplayObject} from \"../core/DisplayObject\";\nimport { TouchMouseEventEnum } from \"./TouchMouseEventEnum\";\nimport { uid } from \"../utils/Utils\";\n\ninterface TWheelEvent extends WheelEvent{\n    /** 火狐 */\n    axis: number;\n}\n\n\n\n/**\n * 鼠标滑轮事件\n * \n *  可侦听事件(未实现):\n * ```\n *  {InteractionEvent}.MouseScroll.xxxxxx.\n * ```\n *  可赋值方法:\n * ```\n * oonMouseScroll: ((e: WheelEvent,delta: vf.Point) => void) | undefined\n * ```\n * \n * @example 可查看 `Slider` 源码\n * \n * @since 1.0.0\n */\nexport class MouseScrollEvent{\n    /**\n     * \n     * @param obj 需要绑定的对象\n     * @param preventDefault 是否组织系统默认的事件触发\n     */\n    public constructor(obj: DisplayObject, preventDefault: boolean){\n        this.obj = obj;\n        this.preventDefault = preventDefault;\n        obj.container.interactive = true;\n        this.startEvent();\n    }\n    public  id= 0;\n    private obj: DisplayObject\n    private preventDefault: boolean;\n    private delta = new vf.Point();\n    private mouseScrllBind: ((_e: TWheelEvent | Event) => void | undefined) | undefined;\n    private isStop = true;\n\n    public startEvent() {\n        if(this.isStop){\n            this.obj.container.on(TouchMouseEventEnum.mouseover, this._onHover, this);\n            this.obj.container.on(TouchMouseEventEnum.mouseout, this._onMouseOut, this);\n            this.isStop = false;\n        }\n\n    }\n\n    private _onMouseScroll(_e: TWheelEvent|Event) {\n        _e\n        const e = _e as TWheelEvent;\n        if (this.preventDefault)\n            e.preventDefault();\n\n        if (typeof e.deltaX !== \"undefined\")\n            this.delta.set(e.deltaX, e.deltaY);\n        else //Firefox{}\n            this.delta.set(e.axis == 1 ? e.detail * 60 : 0, e.axis == 2 ? e.detail * 60 : 0);\n\n        this.onMouseScroll && this.onMouseScroll.call(this.obj, e, this.delta);\n    }\n    //e?: interaction.InteractionEvent\n\n    private _onHover() {\n        if (this.mouseScrllBind === undefined) {\n            this.id = uid();\n            this.mouseScrllBind = this._onMouseScroll.bind(this);\n            document.addEventListener(\"mousewheel\", this.mouseScrllBind, { passive: false });\n            document.addEventListener(\"DOMMouseScroll\", this.mouseScrllBind, { passive: false });\n        }\n    }\n    //e?: interaction.InteractionEvent\n    private _onMouseOut() {\n        if (this.mouseScrllBind) {\n            document.removeEventListener(\"mousewheel\", this.mouseScrllBind);\n            document.removeEventListener(\"DOMMouseScroll\", this.mouseScrllBind);\n            this.mouseScrllBind = undefined;\n        }\n    }\n\n    public stopEvent() {\n        if (this.mouseScrllBind) {\n            document.removeEventListener(\"mousewheel\", this.mouseScrllBind);\n            document.removeEventListener(\"DOMMouseScroll\", this.mouseScrllBind);\n            this.mouseScrllBind = undefined;\n        }\n        this.obj.container.removeListener('mouseover',this. _onHover,this);\n        this.obj.container.removeListener('mouseout', this._onMouseOut,this);\n        this.isStop = true;\n    }\n\n    public remove(){\n        this.stopEvent();\n    }\n\n    public onMouseScroll: ((e: WheelEvent,delta: vf.Point) => void) | undefined\n}","/**\n * 用于同步输入事件\n * by ziye\n */\n\nimport { InteractionEvent } from \"../event/InteractionEvent\";\nimport { getDisplayPathById, debug } from \"../utils/Utils\";\nimport { Stage } from \"../core/Stage\";\nimport { DisplayObjectAbstract } from \"../core/DisplayObjectAbstract\";\nimport { TouchMouseEventEnum } from \"./TouchMouseEventEnum\";\nimport { TickerShared } from \"../core/Ticker\";\nimport { Role } from \"../enum/FollowLineEnum\";\n\nexport class SyncManager extends vf.utils.EventEmitter {\n    public constructor(stage: Stage) {\n        super();\n        this._interactionEvent = new InteractionEvent();\n        if (!this._interactionEvent.data) {\n            this._interactionEvent.data = new vf.InteractionData();\n        }\n        this._stage = stage;\n    }\n\n    /**\n     * 对应一个stage有一个syncManager的实例\n     */\n    public static getInstance(stage: Stage | undefined = undefined) {\n        return SyncManager.instance;\n    }\n    public static getIns(){\n        return SyncManager.instance;\n    }\n    public static instance?: SyncManager;\n    private _role = Role.teacher; //角色\n    public mode = 1;//模式  1-预览  2-直播   3-回放\n    public resumeStatusFlag = false; //是否正在恢复状态\n    public resumeImmediately = false; //是否为立即恢复状态\n    public offsetTime = 0; //本地Date.now()与中心服务器的差值\n    private _initTime = 0; //初始化成功时的时间\n    private _interactionEvent: InteractionEvent; //交互event对象\n    private _stage: Stage; //当前stage\n    private _lostMoveEvent: any[] = []; //move节流中的event\n    private _throttleMoveFlag = false; //move节流状态\n    private _throttleMoveTimer: any = null; //move节流时间函数\n    private _evtDataList: any[] = []; //历史信令整理后的数组\n    private _readystate = 1;\n    private _sendId = 0; //发送的eventId\n    private _lastSId = 0; //上一个学生的eventId\n    private _lastTId = 0; //上一个老师的eventId\n    private _lastSEventData: any = undefined;  //上一个收到的学生的eventData\n    private _lastTEventData: any = undefined;  //上一个收到的老师的eventData\n    private _swaitingEventList: any[] = []; //暂时寄存起来的学生的event\n    private _twaitingEventList: any[] = []; //暂时寄存起来的老师的event\n    private _waitTimer = 0;\n    private _resumeTimer = 0;\n    private _heartTimer: any = undefined;\n    private _autoHeartTimer: any = undefined;\n    public autoHeartFlag: any = true; //是否自动心跳\n    public _initDataTimer = 0;\n    public initDataFlag = false;  //初始化数据状态\n    private _resumeStoreList: any[] = [];  //恢复状态受到实时信令的暂存取\n    private _startFlag = false;\n    private _lostEvent: any[] = []; //节流的event\n    private _throttleEventTimer: any = null; //节流的timer\n    private _lastEventData?: any;  //上一条收集的事件,为了解决相同的事件触发两次的问题\n    \n\n    /**\n     * log\n     */\n    private log(...data: any[]) {\n        if ((window as any).syncManagerLog) {\n            console.log(...data);\n        }\n    }\n\n    /**\n     * 清理syncManager\n     */\n    public stop() {\n        this.reset();\n        this._readystate = 0;\n        this._startFlag = false;\n    }\n\n    /**\n     * 开始同步\n     */\n    public start(){\n        this.reset();\n        const stage = this._stage;\n        const systemEvent = stage.getSystemEvent();\n        if (systemEvent) {\n            systemEvent.on(\"sendCustomEvent\", this.sendCustomEvent, this);\n            systemEvent.on(\"sendHeartEvent\", this.sendHeartEvent, this);\n        }\n        this._startFlag = true;\n    }\n\n    /**\n     * 重置syncManager\n     */\n    private reset(){\n        //重置前把遗留的信令都发出去\n        this.dealLostEvent();\n\n        //重置变量\n        if(this._initDataTimer){\n            clearTimeout(this._initDataTimer);\n        }\n        if(this._throttleMoveTimer){\n            clearTimeout(this._throttleMoveTimer);\n        }\n        if(this._waitTimer){\n            clearTimeout(this._waitTimer);\n        }\n        if(this._resumeTimer){\n            clearTimeout(this._resumeTimer);\n        }\n        if (this._heartTimer) {\n            clearInterval(this._heartTimer);\n            this._heartTimer = undefined;\n        }\n        if(this._autoHeartTimer){\n            clearInterval(this._autoHeartTimer);\n            this._autoHeartTimer = undefined;\n        }\n        this.resumeStatusFlag = false; //是否正在恢复状态\n        this.resumeImmediately = false; //是否为立即恢复状态\n        this.offsetTime = 0; //本地Date.now()与中心服务器的差值\n        this._initTime = TickerShared.currentTickerTime;\n        this._lostMoveEvent = []; //节流中的event\n        this._throttleMoveFlag = false; //节流状态\n        this._throttleMoveTimer = null; //节流时间函数\n        this._readystate = 1;\n        this._sendId = 0; //发送的eventId\n        this._lastSId = 0; //上一个学生的eventId\n        this._lastTId = 0; //上一个老师的eventId\n        this._lastSEventData = undefined;\n        this._lastTEventData = undefined;\n        this._swaitingEventList = []; //暂时寄存起来的学生的event\n        this._twaitingEventList = []; //暂时寄存起来的老师的event\n        this._waitTimer = 0;\n        this._resumeTimer = 0;\n        this._heartTimer = undefined;\n        this._autoHeartTimer = undefined;\n        this.autoHeartFlag = true; //是否自动心跳\n        this._initDataTimer = 0;\n        this.initDataFlag = false;  //初始化数据状态\n        this._resumeStoreList = [];  //恢复状态受到实时信令的暂存取\n        this._lastEventData = undefined;\n\n        this._lostEvent = [];\n        this._throttleEventTimer && clearTimeout(this._throttleEventTimer);\n        const stage = this._stage;\n        const systemEvent = stage.getSystemEvent();\n        if (systemEvent) {\n            systemEvent.off(\"sendCustomEvent\", this.sendCustomEvent, this);\n            systemEvent.off(\"sendHeartEvent\", this.sendHeartEvent, this);\n        }\n    }\n\n    /**\n     * 角色\n     */\n    public set role(value: Role){\n        this._role = value;\n        this.initDataFlag = true;\n    }\n\n    public get role(){\n        return this._role;\n    }\n\n    /**\n     * 自动心跳，自动心跳基于每次输入操作之后，心跳10次，间隔0.5\n     * @param duration \n     * @param role \n     */\n    private autoHeartEvent(){\n        if(!this.autoHeartFlag) return;\n        if(this._autoHeartTimer){\n            clearInterval(this._autoHeartTimer);\n        }\n        let times = 0;\n        this._autoHeartTimer = setInterval(()=>{\n            this.sendHeartEvent();\n            times++;\n            if(times >= 5){\n                if(this._autoHeartTimer){\n                    clearInterval(this._autoHeartTimer);\n                }\n            }\n        }, 1000);\n    }\n\n    /**\n     * 同步心跳\n     * @duration 心跳间隔\n     * @role 1-老师  2-学生   12-老师学生均发心跳\n     */\n    public syncHeartEvent(duration: number, role = 12) {\n        if (role == 1 && this.role == Role.student) return;\n        if (role == 2 && this.role == Role.teacher) return;\n        if (duration < 2000) {\n            duration = 2000;\n        }\n        if (this._heartTimer) {\n            clearInterval(this._heartTimer);\n        }\n        //心跳js原生时间函数发送\n        this._heartTimer = setInterval(() => {\n            this.sendHeartEvent();\n        }, duration);\n    }\n\n    /**\n     * 发送心跳\n     */\n    public sendHeartEvent() {\n        const eventData: any = {};\n        const time = this.currentTime();\n        eventData.code = \"syncHeartEvent\";\n        eventData.time = time;\n        this.sendEvent(eventData);\n    }\n\n    /**\n     * 收集交互事件\n     */\n    public collectEvent(e: InteractionEvent, obj: DisplayObjectAbstract) {\n        if (!this._startFlag) return;\n        if (e.signalling) return; //不需要同步，或者已经是信令同步过来的，不再做处理\n        if (!obj.syncabled) return; //组件交互不需要同步\n\n        const eventData: any = this.createEventData(e, obj);\n        if(!eventData) return;\n\n        if(this._autoHeartTimer){\n            clearInterval(this._autoHeartTimer);\n        }\n\n        if (e.type === TouchMouseEventEnum.mousemove || e.type === TouchMouseEventEnum.touchmove) {\n            this.throttle(eventData);\n        } else {\n            //首先把之前未发送的move补发出去\n            if (this._lostMoveEvent.length > 0) {\n                clearTimeout(this._throttleMoveTimer);\n                this.sendEvent(this._lostMoveEvent[0]);\n                this._lostMoveEvent = [];\n                this._throttleMoveFlag = false;\n            }\n            this.sendEvent(eventData);\n\n            //启动自动心跳\n            if(e.type == TouchMouseEventEnum.mousedown ||\n               e.type == TouchMouseEventEnum.mouseup ||\n               e.type == TouchMouseEventEnum.touchstart ||\n               e.type == TouchMouseEventEnum.touchend ){\n                this.autoHeartEvent();\n               }\n        }\n    }\n\n    /**\n     * 发送自定义事件\n     * customData 自定义数据\n     */\n    public sendCustomEvent(customData: any) {\n        if(!this._startFlag) return;\n        const eventData: any = {};\n        const time = this.currentTime();\n        eventData.code = \"syncCustomEvent_\" + vf.utils.uid() + time;\n        eventData.time = time;\n        eventData.data = JSON.stringify(customData);\n        this.sendEvent(eventData);\n    }\n\n    /**\n     * 发送当前时间\n     */\n    private sendSyncTimeEvent() {\n        const eventData: any = {};\n        eventData.code = \"syncTimeEvent\";\n        eventData.time = this.currentTime();\n        this.sendEvent(eventData);\n    }\n\n    /**\n     * 接收操作\n     * @signalType 信令类型  live-实时信令   history-历史信令\n     */\n    public receiveEvent(eventData: any, signalType = \"live\") {\n        if (!this._startFlag) return;\n        if (signalType == \"history\") {\n            this.log(\"syncManager----receive history Event：\", eventData);\n            this.dealHistoryEvent(eventData);\n        } else {\n            this.log(\"syncManager----receive live Event：\", eventData.id, eventData.time, eventData.code, eventData);\n            this.dealLiveEvent(eventData);\n        }\n    }\n\n    private dealLiveEvent(eventData: any){\n        //如果是数组，先展开\n        if (eventData.code.indexOf('syncListEvent_') == 0){\n            eventData.data.forEach((element: any) => {\n                this.dealLiveEvent(element);\n            });\n            return;\n        }\n        if(eventData.role !== 'T' && eventData.role !== 'S') return;\n        if (eventData.code === \"syncTimeEvent\") {\n            //同步时间，恢复状态不做处理\n            if (!this.resumeStatusFlag) {\n                if (this.currentTime() > eventData.time + 300) {\n                    //当前端时间靠后，通知另一端向未来穿越\n                    this.sendSyncTimeEvent();\n                } else {\n                    //穿越到未来\n                    const duration = eventData.time - this.currentTime();\n                    this.timeTravel(duration);\n                }\n            }\n            return;\n        }\n        if (eventData.code === \"syncHeartEvent\") {\n            return;\n        }\n        if (eventData.code.indexOf(\"syncInteraction_\") != 0 && eventData.code.indexOf(\"syncCustomEvent_\") != 0) {\n            return;\n        }\n        if (this.resumeStatusFlag) {\n            this._resumeStoreList.push(eventData);\n            return;\n        }\n        //如果是回放模式，并且有历史信令未处理，则暂存实时信令\n        if(this.mode == 3 && this._evtDataList.length > 0){\n            this._resumeStoreList.push(eventData);\n            return;\n        }\n        if (this.checkEventId(eventData)) {\n            this.parseEventData(eventData);\n            this.checkWaitingEvent();\n        } else {\n            if (this._swaitingEventList.length > 0 || this._twaitingEventList.length) {\n                //启动一个定时器，等待0.5s，0.5s后如果还没有到等到正确的id，则执行wait中的event\n                clearTimeout(this._waitTimer);\n                this._waitTimer = setTimeout(() => {\n                    this.checkWaitingEvent(true);\n                }, 500);\n            }\n        }\n    }\n\n    /**\n     * 检查eventId是否正确\n     */\n    private checkEventId(eventData: any): boolean {\n        if (eventData.role == Role.teacher) {\n            if (this._lastTId != 0 && this._lastTId != eventData.id - 1) {\n                //如果id小于已经执行的id，说明是过去的信令，直接放弃\n                if(eventData.id <= this._lastTId){\n                    console.log('syncManager----Tid小于等于已执行eventId，直接放弃', this._lastTId, eventData.id)\n                    return false;\n                }\n                //不相等，暂时寄存起来\n                console.log('syncManager----Tid异常，暂存', this._lastTId, eventData.id)\n                this._twaitingEventList.push(eventData);\n                return false;\n            }\n            this._lastTId = eventData.id;\n            this._lastTEventData = eventData;\n        } else {\n            if (this._lastSId != 0 && this._lastSId != eventData.id - 1) {\n                //如果id小于已经执行的id，说明是过去的信令，直接放弃\n                if(eventData.id <= this._lastSId){\n                    console.log('syncManager----Sid小于等于已执行eventId，直接放弃', this._lastSId, eventData.id)\n                    return false;\n                }\n                //不相等，暂时寄存起来\n                console.log('syncManager----Sid异常，暂存', this._lastSId, eventData.id)\n                this._swaitingEventList.push(eventData);\n                return false;\n            }\n            this._lastSId = eventData.id;\n            this._lastSEventData = eventData;\n        }\n        return true;\n    }\n\n    /**\n     * 检查是否有暂存的event需要执行\n     * forceFlag: 是否强制执行\n     */\n    private checkWaitingEvent(forceFlag: boolean = false) {\n        clearTimeout(this._waitTimer);\n        if (this._twaitingEventList.length > 0) {\n            this._twaitingEventList.sort((a, b) => {\n                return a.id - b.id;\n            });\n            if(forceFlag){\n                this._lastTId = this._twaitingEventList[0].id - 1;\n            }\n            for (let i = 0; i < this._twaitingEventList.length; ++i) {\n                //执行操作\n                const eventData = this._twaitingEventList[i];\n                console.log('syncManager----deal 异常Tid', this._lastTId, eventData.id)\n                if(eventData.id == this._lastTId + 1){\n                    this.parseEventData(eventData);\n                    this._lastTId = eventData.id;\n                    this._lastTEventData = eventData;\n                    this._twaitingEventList.splice(i, 1);\n                    --i;\n                }\n            }\n        }\n\n        if (this._swaitingEventList.length > 0) {\n            this._swaitingEventList.sort((a, b) => {\n                return a.id - b.id;\n            });\n            if(forceFlag){\n                this._lastSId = this._swaitingEventList[0].id - 1;\n            }\n            for (let i = 0; i < this._swaitingEventList.length; ++i) {\n                //执行操作\n                const eventData = this._swaitingEventList[i];\n                console.log('syncManager----deal 异常Sid', this._lastSId, eventData.id)\n                if(eventData.id == this._lastSId + 1){\n                    this.parseEventData(eventData);\n                    this._lastSId = eventData.id;\n                    this._lastSEventData = eventData;\n                    this._swaitingEventList.splice(i, 1);\n                    --i;\n                }\n            }\n        }\n\n        //如果还没有执行完，则起一个定时器，0.5s后继续执行\n        if(this._swaitingEventList.length > 0 || this._twaitingEventList.length > 0){\n            this._waitTimer = setTimeout(() => {\n                this.checkWaitingEvent(true);\n            }, 500);\n        }\n    }\n\n    /**\n     * 获取当前时间\n     */\n    private currentTime() {\n        const time = TickerShared.currentTickerTime - this._initTime;\n        return Math.floor(time);\n    }\n\n    /**\n     * 构造一个新的e，用于同步，数据要尽量精简\n     */\n    private createEventData(e: InteractionEvent, obj: DisplayObjectAbstract) {\n        const event: any = {};\n        event.type = e.type;  //事件类型  mousedown、mouseup、mousemove....\n        event.path = getDisplayPathById(obj);//显示对象的唯一标识\n        const data: any = {};\n        event.data = data;\n        data.identifier = e.data.identifier;\n        data.global = { x: Math.floor(e.data.global.x), y: Math.floor(e.data.global.y) };\n        //!!!important: e.data.originalEvent  不支持事件继续传递\n        const time = this.currentTime();\n        const eventData = {\n            code: \"syncInteraction_\" + vf.utils.uid() + time,\n            time: time,\n            data: event,\n        };\n\n\n        if(this._lastEventData){\n            if(e.type !== 'mousemove' && e.type !== 'touchmove' && this._lastEventData.type == e.type && this._lastEventData.obj == obj && this._lastEventData.time == time){\n                // this.log('syncManager----抛弃相同的事件！', this._lastEventData.time, time)\n                return undefined;\n            }\n        }\n        this._lastEventData = {\n            type: e.type,\n            obj,\n            time\n        }\n\n\n        return eventData;\n    }\n\n    /**\n     * 发送操作(稀疏前的每一次单条发送)\n     */\n    private sendEvent(eventData: any) {\n        if(this.role !== 'T' && this.role !== 'S') return;//只有老师和学生才能发信令，其他角色不能发\n        if(this.mode == 3) return;  //回放不发送信令\n        //添加eventId\n        eventData.role = this.role;\n        //只有点击事件或自定义信令，才需要id连续\n        if(eventData.code.indexOf(\"syncInteraction\") == 0 || eventData.code.indexOf(\"syncCustomEvent\") == 0){\n            eventData.id = ++this._sendId;\n        }\n        else{\n            eventData.id = 0;\n        }\n\n        this.checkEventData(eventData);\n    }\n\n    /**\n     * 智能检测，如果是end，把所有暂存的一起立即发送\n     * 如果是start的，暂存起来，启动300ms的定时\n     * 如果是其他的，已经有暂存，则将继续暂存，否则立即发送\n     * @param eventData \n     */\n    private checkEventData(eventData: any){\n        if(eventData.code.indexOf(\"syncInteraction\") == 0){\n            //如果是操作事件，做智能判断\n            if(eventData.data.type == TouchMouseEventEnum.mouseup || eventData.data.type == TouchMouseEventEnum.touchend){\n                eventData.data = JSON.stringify(eventData.data);\n                this._lostEvent.push(eventData);\n                this._throttleEventTimer && clearTimeout(this._throttleEventTimer);\n                this.dealLostEvent();\n            }\n            else if(eventData.data.type == TouchMouseEventEnum.mousedown || eventData.data.type == TouchMouseEventEnum.touchstart){\n                eventData.data = JSON.stringify(eventData.data);\n                this._lostEvent.push(eventData);\n                if(this._lostEvent.length == 1){\n                    //启动定时器\n                    this._throttleEventTimer && clearTimeout(this._throttleEventTimer);\n                    this._throttleEventTimer = setTimeout(() => {\n                        this.dealLostEvent();\n                    }, 300);\n                }\n            }\n            else{\n                eventData.data = JSON.stringify(eventData.data);\n                this._lostEvent.push(eventData);\n                if(this._lostEvent.length == 1){\n                    this.dealLostEvent();\n                }\n            }\n        }\n        else{\n            this._lostEvent.push(eventData);\n            this._throttleEventTimer && clearTimeout(this._throttleEventTimer);\n            this.dealLostEvent();\n        }\n    }\n\n    private dealLostEvent(){\n        if(this._lostEvent.length == 0) return;\n        if(this._lostEvent.length == 1){\n            this.realSendEvent(this._lostEvent[0]);\n        }\n        else{\n            let event = {\n                code: \"syncListEvent_\" + vf.utils.uid() + this.currentTime(),\n                time: this.currentTime(),\n                data: this._lostEvent,\n            }\n            this.realSendEvent(event);\n        }\n        this._lostEvent = [];\n    }\n\n    /**\n     * 真实发送(稀疏后的真实发送，可能是单条，可能是数组)\n     */\n    private realSendEvent(eventData: any){\n        const stage = this._stage;\n        //派发至uistage\n        stage.emit(\"sendSyncEvent\", eventData);\n        //派发至player\n        const msg = {\n            level: \"command\",\n            code: \"syncEvent\",\n            data: eventData,\n        };\n        stage.sendToPlayer(msg);\n        this.log(\"syncManager----sendSyncEvent：\", eventData.id, eventData.time, eventData.code, eventData);\n    }\n\n    /**\n     * 更新节流状态\n     */\n    private throttleUpdate() {\n        this._throttleMoveFlag = false;\n        if (this._lostMoveEvent.length > 0) {\n            this.throttle(this._lostMoveEvent[0]);\n            this._lostMoveEvent = [];\n        }\n    }\n\n    /**\n     * 节流，每100ms发送一次\n     * @param eventData\n     */\n    private throttle(eventData: any) {\n        if (!this._throttleMoveFlag) {\n            this._throttleMoveFlag = true;\n            this.sendEvent(eventData);\n            this._throttleMoveTimer = setTimeout(() => {\n                this.throttleUpdate();\n            }, 200);\n        } else {\n            this._lostMoveEvent = [];\n            this._lostMoveEvent.push(eventData);\n        }\n    }\n\n    private resetStage() {\n        const stage = this._stage as any;\n        if (stage.reset) {\n            stage.reset(false);  //只重置场景，不派发事件  by ziye+\n        } else {\n            console.error(\"当前stage没有reset方法，使用输入同步需要自定义reset方法用于场景重置!!!\");\n        }\n        if(this._autoHeartTimer){\n            clearInterval(this._autoHeartTimer);\n        }\n    }\n\n    /**\n     * 解析收到的event\n     */\n    private parseEventData(eventData: any) {\n        const stage = this._stage;\n        const time = eventData.time;\n        //判断信令时间，是否需要向后穿越\n        const currentTime = this.currentTime();\n        if (currentTime < time) {\n            const druation = time - currentTime;\n            this.timeTravel(druation);\n        }\n        if (eventData.code.indexOf(\"syncInteraction_\") == 0) {\n            const event = JSON.parse(eventData.data);\n            this._interactionEvent.signalling = true;\n            this._interactionEvent.type = event.type;\n            const data = event.data;\n            this._interactionEvent.data.identifier = data.identifier;\n            this._interactionEvent.data.global.set(data.global.x, data.global.y);\n            let obj = stage.getChildByPath(event.path) as DisplayObjectAbstract;\n            if(obj){\n                if(this.resumeStatusFlag && !obj.resumeabled) return;\n                obj.container.emit(this._interactionEvent.type, this._interactionEvent);\n                this.log('syncManager----syncInteraction_success:', eventData);\n            }\n            else{\n                console.error('当前页面没有找到对应path的组件！', event.path);\n            }\n        } else if (eventData.code.indexOf(\"syncCustomEvent_\") == 0) {\n            //自定义事件\n            const data = JSON.parse(eventData.data);\n            const systemEvent = stage.getSystemEvent();\n            if (systemEvent) {\n                systemEvent.emit(\"receiveCustomEvent\", {\n                    code: 'receiveCustomEvent',\n                    level: 'command',\n                    data: data\n                });\n            }\n            stage.emit(\"receiveCustomEvent\", data);\n            this.emit(\"receiveCustomEvent\", data);\n            this.log('syncManager----syncCustomEvent_success:', eventData);\n        }\n    }\n\n    /**\n     * 时间未到，需要穿越到未来\n     */\n    private timeTravel(druation: number) {\n        if(druation <= 0) return;  //只能向后穿越，不能向前穿\n        let resetRenderFlag = false;\n        if (this._stage.renderable) {\n            this._stage.renderable = false;\n            resetRenderFlag = true;\n        }\n        TickerShared.timeTravel(druation);\n        if (resetRenderFlag) {\n            this._stage.renderable = true;\n        }\n    }\n\n    /**\n     * 模板初始化\n     * @param history \n     */\n    private initData(history: boolean){\n        const initData = {\n            level: 'command',\n            code: 'VFInitData',\n            data: {\n                history\n            }\n        }\n        //派发初始化状态\n        this._initDataTimer && clearTimeout(this._initDataTimer)\n        // this._initDataTimer = setTimeout(() => {\n            const stage = this._stage;\n            const systemEvent = stage.getSystemEvent();\n            if (systemEvent) {\n                systemEvent.emit(\"VFInitData\", initData);\n            }\n            stage.emit(\"VFInitData\", initData);\n        // }, 120);\n        this.emit('VFInitData', {history});\n    }\n\n    /**\n     * 处理历史信令，将历史输入事件按时间顺序放置到一个数组\n     * @param eventData\n     */\n    private dealHistoryEvent(eventData: any) {\n        for(const key in eventData){\n            if(key.indexOf(\"syncListEvent_\") == 0){\n                let event = eventData[key];\n                event.data.forEach((element: any) => {\n                    eventData[element.code] = element;\n                });\n                delete eventData[key];\n            }\n        }\n        this._initTime = TickerShared.currentTickerTime;\n        this._evtDataList = [];\n        if (!eventData){\n            this.sendSyncTimeEvent();\n            this.autoHeartEvent();\n            this.initData(false);\n            return;\n        }\n\n        let hasCustomEvent = false;\n        for (const key in eventData) {\n            if (\n                key.indexOf(\"syncInteraction_\") == 0 ||\n                key.indexOf(\"syncCustomEvent_\") == 0 ||\n                key.indexOf(\"syncHeartEvent\") == 0\n            ) {\n                this._evtDataList.push(eventData[key]);\n            }\n\n            if(key.indexOf(\"syncCustomEvent_\") == 0){\n                hasCustomEvent = true;\n            }\n        }\n        if (this._evtDataList.length == 0){\n            this.sendSyncTimeEvent();\n            this.autoHeartEvent();\n            this.initData(false);\n            return;\n        }\n        this.initData(hasCustomEvent);\n        //立即恢复表示不需要关心stage的状态，直接执行历史信令\n        if(this.resumeImmediately){\n            this.resumeStatusImmediately();\n        }\n        else{\n            this.resumeStatus();\n        }\n    }\n\n    private resumeStatusImmediately() {\n        if (this._readystate === 0) return;\n        //恢复过程只需要计算状态，不需要渲染\n        this.resumeStatusFlag = this._stage.resumeStatusFlag = true;\n        this._initTime = TickerShared.currentTickerTime;\n        this._stage.renderable = false;\n        this._evtDataList.sort((a: any, b: any) => {\n            if(a.time !== b.time){\n                return a.time - b.time;\n            }\n            else{\n                return a.id - b.id;\n            }\n        });\n        for (let i = 0; i < this._evtDataList.length; ++i) {\n            //执行操作\n            let eventData = this._evtDataList[i];\n            this.parseEventData(eventData);\n            if(eventData.code.indexOf(\"syncInteraction\") == 0 || eventData.code.indexOf(\"syncCustomEvent\") == 0){\n                if(eventData.role == 'T'){\n                    this._lastTId = eventData.id;\n                    this._lastTEventData = eventData;\n                    if(this.role == 'T'){\n                        this._sendId = eventData.id;\n                    }\n                }\n                else{\n                    this._lastSId = eventData.id;\n                    this._lastSEventData = eventData;\n                    if(this.role == 'S'){\n                        this._sendId = eventData.id;\n                    }\n                }\n            }\n        }\n\n        this._evtDataList = [];\n\n        //执行恢复状态的暂存信令\n        this._resumeStoreList.forEach(item => {\n            this.receiveEvent(item, 'live');\n        })\n        this._resumeStoreList = [];\n\n        this._stage.renderable = true;\n        this.resumeStatusFlag = this._stage.resumeStatusFlag = false;\n        //恢复完历史后，发一条同步指令，对齐时间\n        this.sendSyncTimeEvent();\n        this.autoHeartEvent();\n    }\n\n    /**\n     * 恢复状态\n     */\n    private resumeStatus() {\n        //恢复过程只需要计算状态，不需要渲染\n        //如果是回放模式，每次seek都是发送一次历史信令，需要resetStage\n        if(this.mode == 3){  \n            const systemEvent = this._stage.getSystemEvent();\n            if (systemEvent) {\n                systemEvent.on(\"status\", this.resetCallback, this);\n            }\n            this.resetStage();\n        }\n        else{\n            this.resumeStatusImmediately();\n        }\n    }\n\n    private resetCallback(event: any){\n        if(event.code == 'ScenComplete'){\n            const systemEvent = this._stage.getSystemEvent();\n            if(systemEvent){\n                systemEvent.off(\"status\", this.resetCallback, this);\n            }\n            this.resumeStatusImmediately();\n        }\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { Video } from \"../display/Video\";\n\ninterface VideoGroupObject {\n    groups: { [key: string]: { [value: string]: Video } };\n    values: { [key: string]: string | undefined };\n}\n\nexport const _videoGroupObject: VideoGroupObject = {\n    groups: {},\n    values: {}\n}\n\n\n/* 注册分组，用于video组件的分组操作 \n* \n* checkGroups = [key]:{[\"value\"]:cb}\n*/\nexport function registrerVideoGroup(cb: Video) {\n    const name = cb.videoGroup;\n    if (name || name === \"\") {\n        let group = _videoGroupObject.groups[name];\n        if (!group)\n            group = _videoGroupObject.groups[name] = {};\n\n        group[cb.uuid.toString()] = cb;\n\n        // if (cb.checked)\n        _videoGroupObject.values[name] = cb.uuid.toString();\n    }\n}\n\n/**\n * 注销指定分组或指定分组的子项\n * @param cb video\n */\nexport function unRegistrerVideoGroup(cb: Video) {\n    if ((cb.videoGroup || cb.videoGroup === \"\") && _videoGroupObject.groups[cb.videoGroup]) {\n        delete _videoGroupObject.groups[cb.videoGroup][cb.uuid.toString()];\n        let isKey = false;\n        for (const key in _videoGroupObject.groups[cb.videoGroup]) {\n            if (key) isKey = true;\n            break;\n        }\n        if (!isKey) {\n            delete _videoGroupObject.groups[cb.videoGroup];\n        }\n        // if (cb.checked)\n        _videoGroupObject.values[cb.videoGroup] = undefined;\n    }\n}\n\n/** 更新分组中选中的checkbox组件  */\nexport function updateVideoGroupStates(cb: Video) {\n    if (cb.videoGroup || cb.videoGroup === \"\") {\n        const group = _videoGroupObject.groups[cb.videoGroup];\n        for (const val in group) {\n            const b = group[val];\n            if (b !== cb) {\n                if (b.isPlaying) {\n                    b.pause();\n                }\n            } else {\n                if (!b.isPlaying) {\n                    b.play();\n                }\n            }\n        }\n        _videoGroupObject.values[cb.videoGroup] = cb.uuid.toString();\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport * as UIKeys from \"../core/DisplayLayoutKeys\";\n\nexport const $tempRectangle = new vf.Rectangle();\n\n/**\n * 布局尺寸>外部显式设置尺寸>测量尺寸 的优先级顺序返回尺寸\n */\n\n\nexport function formatRelative(value: number | string | undefined, total: number): number {\n    if (value == undefined) {\n        return NaN;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    const str = value;\n    const index = str.indexOf(\"%\");\n    if (index == -1) {\n        return +str;\n    }\n    const percent = +str.substring(0, index);\n    return percent * 0.01 * total;\n}\n\n\n/**\n * @private\n * 一个工具方法，使用BasicLayout规则布局目标对象。\n */\nexport function updateBasicDisplayList(target: DisplayObject|undefined,unscaledWidth: number, unscaledHeight: number){\n    if (!target)\n        return;\n    //console.log(target.container.name);\n    const values = target.$values;\n    const parent =  target.parent;\n    let parentWidth =  1;\n    let parentHeight = 1;\n    if(parent){\n        parentWidth = parent.width || 1;\n        parentHeight = parent.height || 1;\n    }\n    const hCenter = formatRelative(values[UIKeys.horizontalCenter], parentWidth * 0.5);\n    const vCenter = formatRelative(values[UIKeys.verticalCenter], parentHeight * 0.5);\n    const left = formatRelative(values[UIKeys.left], parentWidth || 1);\n    const right = formatRelative(values[UIKeys.right], parentWidth);\n    const top = formatRelative(values[UIKeys.top], parentHeight || 1);\n    const bottom = formatRelative(values[UIKeys.bottom], parentHeight);\n\n    let childWidth = unscaledWidth;\n    let childHeight = unscaledHeight;\n\n    if (!isNaN(left) && !isNaN(right)) {\n        childWidth = parentWidth - right - left;\n    }\n\n    if (!isNaN(top) && !isNaN(bottom)) {\n        childHeight = parentHeight - bottom - top;\n    }\n\n    target.setMeasuredSize(childWidth,childHeight);\n    target.setActualSize(childWidth,childHeight);\n    let childX = NaN;\n    let childY = NaN;\n\n    if (!isNaN(hCenter))\n        childX = Math.round((parentWidth - childWidth) / 2 + hCenter);\n    else if (!isNaN(left))\n        childX = left;\n    else if (!isNaN(right))\n        childX = parentWidth - childWidth - right;\n    else\n        childX = target.x;\n\n    if (!isNaN(vCenter))\n        childY = Math.round((parentHeight - childHeight) / 2 + vCenter);\n    else if (!isNaN(top))\n        childY = top;\n    else if (!isNaN(bottom))\n        childY = parentHeight - childHeight - bottom;\n    else\n        childY = target.y;\n\n    target.setPosition(childX, childY);\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { formatRelative } from \"../utils/Utils\";\nimport { $tempRectangle } from \"./CSSBasicLayout\";\n\nfunction getColumnRowValue(gridTemplate: number[] | string[] | [string, number, number] | undefined, parentValue: number) {\n    const list: number[] = [];\n    let isInfinity = false;\n    if (gridTemplate) {\n        if (gridTemplate[0] === \"repeat\") {\n            if (gridTemplate[1] === Infinity) {\n                isInfinity = true;\n                list.push(formatRelative(0, parentValue));\n            } else {\n                for (let i = 0; i < gridTemplate[1]; i++) {\n                    list.push(formatRelative(gridTemplate[2], parentValue));\n                }\n            }\n        } else {\n            for (let i = 0; i < gridTemplate.length; i++) {\n                list.push(formatRelative(gridTemplate[i], parentValue));\n            }\n        }\n    }\n    return { list, isInfinity };\n}\n\n/**\n *  更新网格布局\n * \n * 单位目前只支持数值或百分比：100 ，”100%“\n * \n *  网格布局中，子容器的位置与宽高可能失效\n * \n * 关于grid布局的词汇表\n * \n * 格网 https://developer.mozilla.org/zh-CN/docs/Glossary/Grid\n * \n * 网格行 gridTemplateRows https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-template-columns\n * \n * 网格列 gridTemplateColumns https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-template-rows\n * \n * 网格行间距 gridRowGap   https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-row-gap\n * \n * 网格列间距 gridColumnGap  https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-column-gap\n * \n * 网格轴 （未实现） 支持居中方式为：justifyContent，alignContent\n * \n * 网格线（未实现） https://developer.mozilla.org/en-US/docs/Glossary/Grid_Lines\n * \n * 网格面积（未实现）https://developer.mozilla.org/zh-CN/docs/Glossary/Grid_Areas\n */\nexport function updateGridLayout(target: DisplayObject) {\n\n    if (target.parent == undefined) {\n        return $tempRectangle;\n    }\n    if (target.style == undefined) {\n        return $tempRectangle;\n    }\n\n\n    let rowHeightTotal = 0;\n    let columnWidthTotal = 0;\n\n    const style = target.style;\n\n    const gridColumnGap = style.gridColumnGap || 0;\n    const gridRowGap = style.gridRowGap || 0;\n\n    const column = getColumnRowValue(style.gridTemplateColumns, target.parent.width);\n    const row = getColumnRowValue(style.gridTemplateRows, target.parent.height);\n\n\n\n    let child: DisplayObject;\n\n    let cloumnIndex = 0;\n    let rowIndex = 0;\n\n    let cloumnWidth = 0;\n    let rowHeight = 0;\n\n    let widthTotal = 0;\n    for (let i = 0; i < target.uiChildren.length; i++) {\n        child = target.uiChildren[i] as DisplayObject;\n        if (child.style.justifyContent || child.style.alignContent) {\n            continue;\n        }\n        if (column.isInfinity) {\n            cloumnWidth = column.list[0] || 0;\n        } else {\n            cloumnWidth = column.list[cloumnIndex] || 0;\n        }\n\n        if (row.isInfinity) {\n            rowHeight = row.list[0] || 0;\n        } else {\n            rowHeight = row.list[rowIndex] || 0;\n        }\n\n        child.width = child.explicitWidth || cloumnWidth;\n        child.height = child.explicitHeight || rowHeight;\n\n        child.x = widthTotal;\n        child.y = rowHeightTotal;\n\n        widthTotal += cloumnWidth + gridColumnGap;\n        cloumnIndex++;\n        if (widthTotal > columnWidthTotal) {\n            columnWidthTotal = widthTotal;\n        }\n        if (cloumnIndex >= column.list.length) {\n            cloumnIndex = 0;\n            widthTotal = 0;\n            if (rowHeight !== 0) {\n                rowHeightTotal += (rowHeight + gridRowGap);\n            } else {\n                rowHeightTotal += (child.height + gridRowGap);\n            }\n            if (!column.isInfinity)\n                rowIndex++;\n        }\n    }\n    columnWidthTotal = Math.max(target.width, columnWidthTotal - gridColumnGap);\n    rowHeightTotal = Math.max(target.height, rowHeightTotal - gridRowGap);\n\n    target.width = columnWidthTotal\n    target.height = rowHeightTotal\n    $tempRectangle.width = columnWidthTotal;\n    $tempRectangle.height = rowHeightTotal;\n    return $tempRectangle;\n\n}\n\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { updateGridLayout } from \"./CSSGridLayout\";\nimport { updateBasicDisplayList } from \"./CSSBasicLayout\";\nimport * as UIKeys from \"../core/DisplayLayoutKeys\";\nimport { DisplayLayoutAbstract } from \"../core/DisplayLayoutAbstract\";\n\nexport const $TempyAlignRectangle = new vf.Rectangle();\nexport const $TempLayoutRectangle = new vf.Rectangle();\nexport const $TempMeasureRectangle = new vf.Rectangle();\n\nfunction updateDisplayAlign(target: DisplayObject, parentWidth: number, parentHeight: number, marginTop = 0, marginLeft = 0) {\n\n\n    if (target.style == undefined) {\n        return false;\n    }\n    if (target.style.justifyContent == undefined && target.style.alignContent == undefined) {\n        return false;\n    }\n    const oldX = target.x;\n    const oldY = target.y;\n    let startX = 0;\n    let startY = 0;\n    const bounds = target.getPreferredBounds($TempyAlignRectangle);\n\n    switch (target.style.justifyContent) {\n        case \"center\":\n            startX = parentWidth - bounds.width >> 1;\n            break;\n        case \"flex-start\":\n            startX = marginLeft;\n            break;\n        case \"flex-end\":\n            startX = parentWidth - bounds.width - (marginLeft);\n            break;\n\n    }\n\n    switch (target.style.alignContent) {\n        case \"center\":\n            startY = parentHeight - bounds.height >> 1;\n            break;\n        case \"flex-start\":\n            startY = marginTop;\n            break;\n        case \"flex-end\":\n            startY = parentHeight - bounds.height - (marginTop);\n            break;\n\n    }\n    if (startX !== 0) target.x = startX;\n    if (startY !== 0) target.y = startY;\n\n    if (oldX !== startX || oldY !== startY) {\n        return true;\n    }\n    return false;\n\n}\n\n/**\n * @private\n * 一个工具方法，使用BasicLayout规则测量目标对象。\n */\nexport function measure(target: DisplayLayoutAbstract): void {\n    if (!target) {\n        return;\n    }\n    let width = 0;\n    let height = 0;\n    const bounds = $TempMeasureRectangle;\n    const count = target.uiChildren.length;\n    for (let i = 0; i < count; i++) {\n        const layoutElement = target.uiChildren[i] as DisplayObject;\n    \n        if (!layoutElement.includeInLayout) {\n            continue;\n        }\n\n        const values = layoutElement.$values;\n        const hCenter = +values[UIKeys.horizontalCenter];\n        const vCenter = +values[UIKeys.verticalCenter];\n        const left = +values[UIKeys.left];\n        const right = +values[UIKeys.right];\n        const top = +values[UIKeys.top];\n        const bottom = +values[UIKeys.bottom];\n\n        let extX: number;\n        let extY: number;\n\n        layoutElement.getPreferredBounds(bounds);\n\n        if (!isNaN(left) && !isNaN(right)) {\n            extX = left + right;\n        }\n        else if (!isNaN(hCenter)) {\n            extX = Math.abs(hCenter) * 2;\n        }\n        else if (!isNaN(left) || !isNaN(right)) {\n            extX = isNaN(left) ? 0 : left;\n            extX += isNaN(right) ? 0 : right;\n        }\n        else {\n            extX = bounds.x;\n        }\n\n        if (!isNaN(top) && !isNaN(bottom)) {\n            extY = top + bottom;\n        }\n        else if (!isNaN(vCenter)) {\n            extY = Math.abs(vCenter) * 2;\n        }\n        else if (!isNaN(top) || !isNaN(bottom)) {\n            extY = isNaN(top) ? 0 : top;\n            extY += isNaN(bottom) ? 0 : bottom;\n        }\n        else {\n            extY = bounds.y;\n        }\n\n        const preferredWidth = bounds.width;\n        const preferredHeight = bounds.height;\n        width = Math.ceil(Math.max(width, extX + preferredWidth));\n        height = Math.ceil(Math.max(height, extY + preferredHeight));\n    }\n\n    target.setMeasuredSize(width, height);\n}\n\n\n/**\n * 调整目标的元素的大小并定位这些元素。\n */\nexport function updateDisplayLayout(target: DisplayObject, unscaledWidth: number, unscaledHeight: number) {\n\n    if (target.style == undefined) {\n        return;\n    }\n    // if(target.parent){\n    //     target.parent.validateNow();\n    // }\n    if (target.style.display === \"block\") {\n        const pos = updateBasicDisplayList(target, unscaledWidth, unscaledHeight);\n        //console.log(pos);\n    } else if (target.style.display === \"grid\") {\n        const size = updateGridLayout(target);\n        updateBasicDisplayList(target, size.width, size.height);\n    }\n\n    let isUpdateTransform = false;\n    if (target.parent) {\n        isUpdateTransform = updateDisplayAlign(target, target.parent.width, target.parent.height, target.style.gridRowGap, target.style.gridColumnGap);\n    }\n\n    if (target.isContainer) {\n\n        const bounds = target.getPreferredBounds($TempLayoutRectangle);\n        let child: DisplayObject;\n        for (let i = 0; i < target.uiChildren.length; i++) {\n            child = target.uiChildren[i] as DisplayObject;\n            isUpdateTransform = updateDisplayAlign(child, bounds.width, bounds.height, child.style.gridRowGap, child.style.gridColumnGap);\n        }\n    }\n\n    if (isUpdateTransform) {\n        target.updateTransform();\n    }\n\n\n}\n\n","\n/** ===================== mask  ===================== */\n\nimport { rgbToHex } from \"../utils/Utils\";\n\n\n// export function maskPosition(target: DisplayObject) {\n//     if (target.style == undefined) {\n//         return;\n//     }\n//     if (target.$mask) {\n//         const style = target.style;\n//         if (style.maskPosition === undefined) {\n//             return;\n//         }\n\n//         if (target.$mask instanceof DisplayObject) {\n//             target.$mask.x = style.maskPosition[0];\n//             target.$mask.y = style.maskPosition[1];\n//         } else {\n//             target.$mask.position.set(style.maskPosition[0], style.maskPosition[1])\n//         }\n//     }\n// }\n\n// export function maskSize(target: DisplayObject) {\n//     if (target.style == undefined) {\n//         return;\n//     }\n//     if (target.$mask) {\n//         const style = target.style;\n//         if (style.maskSize === undefined) {\n//             return;\n//         }\n\n//         target.$mask.width = style.maskSize[0];\n//         target.$mask.height = style.maskSize[1];\n//         if (target.$mask instanceof vf.Graphics) {\n//             //target.$mask.clone\n//         }\n//         if (!(target.$mask instanceof DisplayObject))\n//             target.$mask.updateTransform();\n//     }\n// }\n\n// export function maskImage(target: DisplayObject) {\n//     if (target.style == undefined) {\n//         return;\n//     }\n//     target.container.mask = null as any;\n//     if (target.$mask && target.$mask.parent) {\n//         if (target.$mask instanceof DisplayObject) {\n//             target.removeChild(target.$mask);\n//         } else {\n//             target.$mask.parent.removeChild(target.$mask);\n//         }\n//     }\n\n//     for (let i = 0; i < target.uiChildren.length; i++) {\n//         if (target.uiChildren[i].name == \"maskImage\") {\n//             target.removeChild(target.uiChildren[i]);\n//             break;\n//         }\n//     }\n\n//     target.$mask = undefined;\n//     const style = target.style;\n//     const container = target.container;\n//     let maskdisplay = getDisplayObject(style.maskImage, target) as MaskSprite | vf.Graphics | string;\n\n//     if (maskdisplay == null && style.maskImage instanceof vf.Graphics) {\n//         maskdisplay = style.maskImage as vf.Graphics;\n//     }\n//     if (maskdisplay == null || maskdisplay === '') {\n//         return;\n//     }\n\n//     if (maskdisplay instanceof vf.Graphics) {\n//         target.$mask = maskdisplay;\n//         container.mask = target.$mask;\n//         container.addChild(target.$mask);\n//     } else if (maskdisplay instanceof DisplayObject) {\n\n//         if (maskdisplay.maskSprite) {\n//             target.$mask = maskdisplay;//gui组件\n//             target.$mask.name = \"maskImage\";\n//             if(maskdisplay.maskSprite() === undefined){ // 后续修复，原因是image组件中的sprite还没创建\n//                 setTimeout(() => {\n//                     container.mask = (maskdisplay as any).maskSprite() || null;//vf组件\n//                 }, 60);\n//             }else{\n//                 container.mask = maskdisplay.maskSprite() || null;//vf组件\n//             }\n\n\n//             if (maskdisplay.parent == undefined) {\n//                 target.addChild(maskdisplay);\n//             }\n\n//         }\n//     } else {\n//         target.$mask = vf.Sprite.from(getTexture(style.maskImage));\n//         container.mask = target.$mask;\n//         container.addChild(target.$mask);\n//     }\n\n//     maskSize(target);\n//     maskPosition(target)\n\n// }\n\n\n/** ===================== font  ===================== */\nexport function updateFontStyle(target: any, key: string, value: any) {\n\n    if (target.setInputStyle) {\n        target.setInputStyle(key, value);\n    } else if (target.setRichLabelStyle) { //富文本\n        target.setRichLabelStyle(key, value);\n    } else if (target.sprite && target.sprite.style) {\n        target.sprite.style[key] = value;\n    }\n}\n\nexport function color(target: any, key: string, value: any) {\n    if (target.setInputStyle) {\n        target.setInputStyle(key, value);\n    } else {\n        target.color = value;\n    }\n}\n\n// 图形文字通用\nexport function ColorRGBA(target: any, key: \"fillColor\" | \"lineColor\", value: number[] | number[][]) {\n\n    if(target[key] === undefined) {\n        console.warn(`访问的属性${key}不存在`,target);\n    }\n    switch (key) {\n        case \"fillColor\":\n            target.fillColor = value;\n            target.fillAlpha = value[3];\n            break;\n        case \"lineColor\":\n            target.lineColor = value;\n            target.lineAlpha = value[3];\n            break;\n    }\n\n\n    // if (target instanceof GraphBase) {\n\n    // } else if (target instanceof Label) {\n    //     if (value.length === 0) {\n    //         target.color = undefined;\n    //     } else {\n    //         target.color = `rgba(${value[0]}, ${value[1]}, ${value[2]}, ${value[3]})`;\n    //     }\n\n    // }\n}\n\n// 图形文字通用\nexport function lineWidth(target: any, key: \"lineWidth\", value: number) {\n    if(target[key] === undefined) {\n        console.warn(`访问的属性${key}不存在`,target);\n    }\n    target.lineWidth = value;\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport * as CSSFunction from \"./CSSSSystem\";\nimport { formatRelative, hexToInt, getSource, rgbToNumber } from \"../utils/Utils\";\nimport { FontWeight } from \"../enum/Index\";\nimport { deepCopy } from \"../utils/Utils\";\n\n/**\n * \t定位方式\n *\n *  元素的位置通过 \"left\", \"top\", \"right\" 以及 \"bottom\" 属性进行规定。\n *\n * \tabsolute 生成绝对定位的元素，相对于第一个父元素进行定位。\n *\n *  fixed 生成绝对定位的元素，相对于舞台进行定位。\n *\n *  static 没有定位，元素出现在正常的流中（忽略 top, bottom, left, right 或者 z-index 声明）。\n */\nexport type Position = \"absolute\" | \"fixed\" | \"static\";\n\n/** 对齐方式 父级如果是grid布局，会忽略当前居中模式 */\nexport type Align = \"flex-start\" | \"flex-end\" | \"center\";\n\n/** 布局模式 */\nexport type Display = \"none\" | \"block\" | \"grid\";\n\n\n/**\n * 组件样式表\n */\nexport class CSSStyle {\n\n    public constructor(target: DisplayObject) {\n        this.parent = target;\n    }\n    public parent: DisplayObject;\n\n    public release() {\n        //\n    }\n    /**\n     * 规定元素的显示类型。布局模式\n     *\n     * grid 模式下，子节点会忽略left,top,right，bottom,width,height等\n     *\n     * none 模式下，忽略style\n     * */\n    private _display: Display = \"block\";\n    public get display(): Display {\n        return this._display;\n    }\n    public set display(value: Display) {\n        this._display = value;\n    }\n    /**\n     * 规定元素的定位类型。\n     * */\n    private _position: Position = \"absolute\";\n    public get position(): Position {\n        return this._position;\n    }\n    public set position(value: Position) {\n        this._position = value;\n    }\n\n    /**\n     * 在容器里面的水平位置（左中右）\n     */\n    private _justifyContent?: Align;\n    public get justifyContent() {\n        return this._justifyContent;\n    }\n    public set justifyContent(value) {\n        this._justifyContent = value;\n    }\n\n    /**\n     * 在容器里面的垂直位置（上中下）\n     */\n    private _alignContent?: Align;\n    public get alignContent() {\n        return this._alignContent;\n    }\n    public set alignContent(value) {\n        this._alignContent = value;\n    }\n    /**\n     * 基于 网格列的维度，去定义网格线的名称和网格轨道的尺寸大小。\n     *\n     * 方式一 [80,90,100]|[\"30%\",\"40%\",\"30%\"] 第一列宽度80，第二列宽度，第三列宽度100\n     *\n     * 方式二 [\"repeat\",3,100] 三列，宽度都为100像素\n     */\n    private _gridTemplateColumns?: number[] | string[] | [string, number, number];\n    public get gridTemplateColumns() {\n        return this._gridTemplateColumns;\n    }\n    public set gridTemplateColumns(value) {\n        this._gridTemplateColumns = value;\n    }\n\n    /**\n     * 设置列间距\n     */\n    private _gridColumnGap?: number;\n    public get gridColumnGap() {\n        return this._gridColumnGap;\n    }\n    public set gridColumnGap(value) {\n        this._gridColumnGap = value;\n    }\n    /**\n     * 基于 网格行的维度，去定义网格线的名称和网格轨道的尺寸大小。\n     *\n     * 方式一 [80,90,100]|[\"30%\",\"40%\",\"30%\"] 第一行高度80，第二行高度90，第三行行高度100\n     *\n     * 方式二 [\"repeat\",3,100] 三行，宽度都为100像素\n     */\n    private _gridTemplateRows?: number[] | string[] | [string, number, number];\n    public get gridTemplateRows() {\n        return this._gridTemplateRows;\n    }\n    public set gridTemplateRows(value) {\n        this._gridTemplateRows = value;\n    }\n    /**\n     * 设置行间距\n     */\n    private _gridRowGap?: number;\n    public get gridRowGap() {\n        return this._gridRowGap;\n    }\n    public set gridRowGap(value) {\n        this._gridRowGap = value;\n    }\n\n    /**\n     * 表示显示对象的宽度，以像素为单位。\n     * */\n    public get width() {\n        return this.parent.width;\n    }\n    public set width(value: number | string) {\n        if (typeof value === 'number') {\n            this.parent.width = value;\n            this.parent.percentWidth = NaN;\n        }\n        else {\n            this.parent.percentWidth = formatRelative(value, 1);\n        }\n    }\n    /**\n     * 表示显示对象的高度，以像素为单位。\n     * */\n    public get height() {\n        return this.parent.height;\n    }\n    public set height(value: number | string) {\n        if (typeof value === 'number') {\n            this.parent.height = value;\n            this.parent.percentWidth = NaN;\n        }\n        else {\n            this.parent.percentHeight = formatRelative(value, 1);\n        }\n    }\n\n    /**\n     * 设置元素的最小宽度。\n     */\n    public get minWidth() {\n        return this.parent.minWidth;\n    }\n    public set minWidth(value) {\n        this.parent.minWidth = value;\n    }\n    /**\n     * 设置元素的最大宽度。\n     */\n    public get maxWidth() {\n        return this.parent.maxWidth;\n    }\n    public set maxWidth(value) {\n        this.parent.maxWidth = value;\n    }\n\n    /**\n     * 设置元素的最小高度。\n     */\n    public get maxHeight() {\n        return this.parent.maxHeight;\n    }\n    public set maxHeight(value) {\n        this.parent.maxHeight = value;\n    }\n    /**\n     * 设置元素的最大高度。\n     * */\n    public get minHeight() {\n        return this.parent.minHeight;\n    }\n    public set minHeight(value) {\n        this.parent.minHeight = value;\n    }\n\n    /**\n     * 设置定位元素左外边距边界与其容器左边界之间的偏移。\n     * */\n    public get left() {\n        return this.parent.left;\n    }\n    public set left(value) {\n        this.parent.left = value;\n    }\n    /**\n     * 设置定位元素的上外边距边界与其容器上边界之间的偏移。\n     * */\n    public get top() {\n        return this.parent.top;\n    }\n    public set top(value) {\n        this.parent.top = value;\n    }\n    /**\n     * 设置定位元素右外边距边界与其容器右边界之间的偏移。\n     * */\n    public get right() {\n        return this.parent.right;\n    }\n    public set right(value) {\n        this.parent.right = value;\n    }\n    /**\n     * 设置定位元素下外边距边界与其容器下边界之间的偏移。\n     * */\n    public get bottom() {\n        return this.parent.bottom;\n    }\n    public set bottom(value) {\n        this.parent.bottom = value;\n    }\n\n    /**\n     * 缩放\n     * */\n    public get scaleX() {\n        return this.parent.scaleX;\n    }\n    public set scaleX(value) {\n        const parent = this.parent;\n        parent.scaleX = value;\n        parent.invalidateSize();\n        parent.invalidateParentLayout();\n    }\n    /**\n     * 缩放\n     * */\n    public get scaleY() {\n        return this.parent.scaleY;\n    }\n    public set scaleY(value) {\n        const parent = this.parent;\n        parent.scaleY = value;\n        parent.invalidateSize();\n        parent.invalidateParentLayout();\n    }\n    /**\n     * 设置元素水平拉伸扭曲（角度）。\n     * */\n    public get skewX() {\n        return this.parent.skewX;\n    }\n    public set skewX(value) {\n        const parent = this.parent;\n        parent.skewX = value;\n        parent.invalidateDisplayList();\n    }\n    /**\n     * 设置元素垂直拉伸扭曲（角度）。\n     * */\n    public get skewY() {\n        return this.parent.skewY;\n    }\n    public set skewY(value) {\n        const parent = this.parent;\n        parent.skewY = value;\n        parent.invalidateDisplayList();\n    }\n\n    /**\n     * 设置元素旋转 （角度）\n    */\n    public get rotate() {\n        return this.parent.rotation;\n    }\n    public set rotate(value) {\n        this.rotation = value;\n    }\n    /**\n     * 设置元素旋转 （角度）\n    */\n    public get rotation() {\n        return this.parent.rotation;\n    }\n    public set rotation(value: number) {\n        const parent = this.parent;\n        parent.rotation = value;\n        parent.invalidateDisplayList();\n    }\n\n    /**\n     * 轴点 像素值\n     */\n    public get pivotX() {\n        return this.parent.pivotX;\n    }\n    public set pivotX(value) {\n        const parent = this.parent;\n        parent.pivotX = value;\n        parent.invalidateDisplayList();\n    }\n    /**\n     * 轴点 像素值\n     */\n    public get pivotY() {\n        return this.parent.pivotY;\n    }\n    public set pivotY(value) {\n        const parent = this.parent;\n        parent.pivotY = value;\n        parent.invalidateDisplayList();\n    }\n\n    /**\n      * 调整元素的色调，取消设置0xFFFFFF\n      */\n    public get tint() {\n        return this.parent.tint;\n    }\n    public set tint(value) {\n        this.parent.tint = value;\n    }\n\n    /**\n     * 表示指定对象的 Alpha 透明度值。有效值为0（完全透明）～ 1（完全不透明）。\n     * */\n    public get alpha() {\n        return this.parent.alpha;\n    }\n    public set alpha(value) {\n        this.parent.alpha = value;\n    }\n\n    /**\n     * 显示对象是否可见\n     * */\n    public get visible() {\n        return this.parent.visible;\n    }\n    public set visible(value) {\n        this.parent.visible = value;\n    }\n    public get visibility() {\n        return this.parent.visible ? \"visible\" : \"hidden\";\n    }\n    public set visibility(value: \"visible\" | \"hidden\") {\n        this.visible = value === \"hidden\" ? false : true;\n    }\n\n    /**\n     * 设置元件的背景颜色。（16进制数字0xffffff\n     * */\n    public get backgroundColor() {\n        return this.parent.$background.color;\n    }\n    public set backgroundColor(value: number | number[] | number[][] | undefined) {\n        const parent = this.parent;\n        parent.$background.type = 1;\n        parent.$background.fillColor = value as any;\n        parent.invalidateDisplayList();\n    }\n\n\n    /**\n     * 设置元素的背景圆角\n     */\n    public get backgroundRadius() {\n        return this.parent.$background.radius;\n    }\n    public set backgroundRadius(value) {\n        const parent = this.parent;\n        parent.$background.radius = value;\n        parent.invalidateDisplayList();\n    }\n\n    /**\n     * 设置元素的背景图像。backgroundImage = \"./xxx.png\"\n     * */\n    public get backgroundImage() {\n        return this.parent.$background.src;\n    }\n    public set backgroundImage(value) {\n        const parent = this.parent;\n        parent.$background.type = 2;\n        parent.$background.src = value;\n        parent.invalidateDisplayList();\n    }\n\n    /**\n     * 设置 backgroundImage 后 ，设置背景图像的X位置\n     * */\n    public get backgroundPositionX() {\n        return this.parent.$background.positionX;\n    }\n    public set backgroundPositionX(value) {\n        const parent = this.parent;\n        parent.$background.positionX = value;\n        parent.invalidateDisplayList();\n    }\n    /**\n     * 设置 backgroundImage 后 ，设置背景图像的Y位置\n     * */\n    public get backgroundPositionY() {\n        return this.parent.$background.positionY;\n    }\n    public set backgroundPositionY(value) {\n        const parent = this.parent;\n        parent.$background.positionY = value;\n        parent.invalidateDisplayList();\n    }\n    /**\n     * 设置 backgroundImage 后， 规定背景图像的尺寸。 [width,height]\n     * */\n    public get backgroundSize() {\n        return this.parent.$background.size;\n    }\n    public set backgroundSize(value) {\n        const parent = this.parent;\n        parent.$background.size = value;\n        parent.invalidateDisplayList();\n    }\n    /**\n     * 设置 backgroundImage 后，设置是否及如何重复背景图像。\n     * repeat重复\n     * no-repeat不重复，\n     */\n    public get backgroundRepeat() {\n        return this.parent.$background.repeat;\n    }\n    public set backgroundRepeat(value) {\n        const parent = this.parent;\n        parent.$background.repeat = value;\n        parent.invalidateDisplayList();\n    }\n    /**\n     * 设置背景透明度\n     */\n    public get backgroundAlpha() {\n        return this.parent.$background.alpha;\n    }\n    public set backgroundAlpha(value) {\n        const parent = this.parent;\n        parent.$background.alpha = value;\n    }\n    /**\n     * 遮罩图\n     */\n    public get maskImage() {\n        return this.parent.$mask.image;\n    }\n    public set maskImage(value) {\n        this.parent.$mask.image = value as any;\n        this.parent.invalidateDisplayList();\n    }\n    /**\n     * 设置位数 [x,y]\n     */\n    public get maskPosition() {\n        return this.parent.$mask.position;\n    }\n    public set maskPosition(value) {\n        this.parent.$mask.position = value;\n        this.parent.invalidateDisplayList();\n\n    }\n    /**\n     * 设置遮罩位图的大小\n     */\n    public get maskSize() {\n        return this.parent.$mask.size;\n    }\n    public set maskSize(value) {\n        this.parent.$mask.size = value;\n        this.parent.invalidateDisplayList();\n    }\n\n    /**\n     * 设置滤镜\n     */\n    public get filter() {\n        return this.parent.filter;\n    }\n\n    public set filter(value: any) {\n        console.error('[VF LOG] 只读属性 filter!')\n    }\n\n\n    /**\n     * 设置鼠标样式\n     */\n    public get cursor() {\n        return this.parent.container.cursor;\n    }\n    public set cursor(value: string) {\n        this.parent.container.cursor = value;\n    }\n\n    /**\n     * 填充颜色，后面取代Color\n     * 数组形式 [r,g,b,a]\n     */\n    private _fillColor: number[] | number[][] = [];\n    public get fillColor(): number[] | number[][] {\n        return this._fillColor;\n    }\n    public set fillColor(value: number[] | number[][]) {\n        this._fillColor = value;\n        CSSFunction.ColorRGBA(this.parent, \"fillColor\", value);\n    }\n\n    /**\n     * 支持：图形\n     * 边框线条颜色\n     * 数组形式 [r,g,b,a]\n     */\n    private _lineColor: number[] = [];\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        this._lineColor = value;\n        CSSFunction.ColorRGBA(this.parent, \"lineColor\", value);\n    }\n\n    /**\n     * 支持：图形\n     * 边框线条宽度\n     */\n    private _lineWidth: number = 0;\n    public get lineWidth(): number {\n        return this._lineWidth;\n    }\n    public set lineWidth(value: number) {\n        this._lineWidth = value;\n        CSSFunction.lineWidth(this.parent, \"lineWidth\", value);\n    }\n\n\n    /**\n     * 文本颜色\n     * 16进制RGB 0xffffff ｜ 16777215\n     * 数组形式 [r,g,b,a]\n     * \n     * 默认白色\n     * */\n    private _color?: number | number[] | string | string[] = [255, 255, 255, 1];\n    public get color() {\n        return this._color;\n    }\n    public set color(value) {\n        vf.utils.deprecation(\"1.0.0\", \"style.color API近期会被删除，请使用style.fillColor\");\n        this._color = value;\n        CSSFunction.color(this.parent, \"color\", value);\n    }\n\n    /** 字符间距 */\n    private _letterSpacing?: number;\n    public get letterSpacing() {\n        return this._letterSpacing;\n    }\n    public set letterSpacing(value) {\n        this._letterSpacing = value;\n        CSSFunction.updateFontStyle(this.parent, \"letterSpacing\", value);\n        this.parent.invalidateDisplayList();\n    }\n    /**\n     * 是否自动换行\n     * */\n    private _wordWrap = false;\n    public get wordWrap() {\n        return this._wordWrap;\n    }\n    public set wordWrap(value) {\n        this._wordWrap = value;\n        CSSFunction.updateFontStyle(this.parent, \"wordWrap\", value);\n        this.parent.invalidateDisplayList();\n    }\n    /**\n     * 自动换行的宽度\n     * */\n    private _wordWrapWidth?: number;\n    public get wordWrapWidth() {\n        return this._wordWrapWidth;\n    }\n    public set wordWrapWidth(value: any) {\n        this._wordWrapWidth = value;\n        if (isNaN(value!) || value === undefined || value === null) {\n            value = this.width;\n        }\n        CSSFunction.updateFontStyle(this.parent, \"wordWrapWidth\", value);\n        this.parent.invalidateDisplayList();\n    }\n\n    /**\n     * 下划线类型\n     * */\n    private _textDecoration: \"None\" | \"Overline\" | \"LineThrough\" | \"UnderLine\" = \"None\";\n    public get textDecoration() {\n        return this._textDecoration;\n    }\n    public set textDecoration(value) {\n        this._textDecoration = value;\n        CSSFunction.updateFontStyle(this.parent, \"textDecoration\", value);\n        this.parent.invalidateDisplayList();\n    }\n    /**\n    * 下划线颜色\n    * */\n    private _textDecorationColor = NaN;\n    public get textDecorationColor() {\n        return this._textDecorationColor;\n    }\n    public set textDecorationColor(value) {\n        let color: any = undefined;\n        color = hexToInt(value, color);\n\n        if (this._textDecorationColor === color) {\n            return;\n        }\n        this._textDecorationColor = color;\n        CSSFunction.updateFontStyle(this.parent, \"textDecorationColor\", value);\n        this.parent.invalidateDisplayList();\n    }\n\n    /**\n     * 多行文本(wordWrap = true) - 对齐方式\n     * */\n    private _textAlign: \"left\" | \"right\" | \"center\" = \"center\";\n    public get textAlign() {\n        return this._textAlign;\n    }\n    public set textAlign(value) {\n        this._textAlign = value;\n\n        CSSFunction.updateFontStyle(this.parent, \"textAlign\", value);\n        CSSFunction.updateFontStyle(this.parent, \"align\", value);\n        this.parent.invalidateDisplayList();\n    }\n    /**\n     * 多行文本(wordWrap = true) - 垂直对齐方式\n     * */\n    private _verticalAlign: \"top\" | \"bottom\" | \"middle\" = \"middle\";\n    public get verticalAlign() {\n        return this._verticalAlign;\n    }\n    public set verticalAlign(value) {\n        this._verticalAlign = value;\n        CSSFunction.updateFontStyle(this.parent, \"verticalAlign\", value);\n        // CSSFunction.updateFontStyle(this.parent, \"align\", value);\n        this.parent.invalidateDisplayList();\n    }\n    /**\n     * 多行文本(wordWrap = true) - 行高\n     * */\n    private _lineHeight?: number;\n    public get lineHeight() {\n        return this._lineHeight;\n    }\n    public set lineHeight(value) {\n        this._lineHeight = value;\n        CSSFunction.updateFontStyle(this.parent, \"lineHeight\", value);\n        this.parent.invalidateDisplayList();\n    }\n    /** 字体 示例：fontFamily = \"\\\"Comic Sans MS\\\", cursive, sans-serif\" */\n    private _fontFamily?: string | string[] = 'Arial';\n    private _whiteFamily = ['Arial']; //白名单 通用字体  肯定不走加载\n    public get fontFamily() {\n        return this._fontFamily;\n    }\n    public set fontFamily(value) {\n        this._fontFamily = value;\n\n        let familyList: string[] = [];\n        if (value) {\n            let list = [].concat(value as []);\n            if (list) {\n                list.forEach(element => {\n                    if (element && element !== \"\") {\n                        let item: any = element;\n                        if (element && this._whiteFamily.indexOf(element as any) < 0) {\n                            const o = getSource(element);\n                            if (typeof o === 'object' && o.name) {\n                                item = o.name;\n                            }\n                        }\n                        familyList.push(item);\n                    }\n                });\n            }\n        }\n        if (familyList.length === 0) {\n            familyList = ['Arial'];\n        }\n        CSSFunction.updateFontStyle(this.parent, \"fontFamily\", deepCopy(familyList));\n        this.parent.invalidateDisplayList();\n    }\n    /** 字体大小 */\n    private _fontSize = 22;\n    public get fontSize() {\n        return this._fontSize;\n    }\n    public set fontSize(value) {\n        this._fontSize = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontSize\", value);\n        this.parent.allInvalidate();\n    }\n    /** 字体样式 */\n    private _fontStyle: \"normal\" | \"italic\" | \"oblique\" = \"normal\";\n    public get fontStyle() {\n        return this._fontStyle;\n    }\n    public set fontStyle(value) {\n        this._fontStyle = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontStyle\", value);\n    }\n    /**  字体变形，普通或小写  */\n    private _fontVariant: \"normal\" | \"small-caps\" = \"normal\";\n    public get fontVariant() {\n        return this._fontVariant;\n    }\n    public set fontVariant(value) {\n        this._fontVariant = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontVariant\", value);\n    }\n\n    private _fontWeight: FontWeight = FontWeight.normal;\n    /** \n     * 字体粗细 \n     * 枚举 vf.gui.enum.FontWeight\n     * */\n    public get fontWeight() {\n        return this._fontWeight;\n    }\n    public set fontWeight(value) {\n        this._fontWeight = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontWeight\", value);\n    }\n    /** 内部填充,只支持文字 */\n    private _padding?: number;\n    public get padding() {\n        return this._padding;\n    }\n    public set padding(value) {\n        this._padding = value;\n        CSSFunction.updateFontStyle(this.parent, \"padding\", value);\n    }\n    /** 描边颜色 */\n    private _stroke?: string | number | number[];\n    public get stroke() {\n        return this._stroke;\n    }\n    public set stroke(value) {\n        this._stroke = value;\n        if (Array.isArray(value)) {\n            if (value.length === 0) {\n                value = undefined;\n            } else {\n                value = `rgba(${value[0]}, ${value[1]}, ${value[2]}, ${value[3]})`;\n            }\n        }\n        CSSFunction.updateFontStyle(this.parent, \"stroke\", value);\n    }\n    /** 描边的笔触粗细值 */\n    private _strokeThickness = 0;\n    public get strokeThickness() {\n        return this._strokeThickness;\n    }\n    public set strokeThickness(value) {\n        this._strokeThickness = value;\n        CSSFunction.updateFontStyle(this.parent, \"strokeThickness\", value);\n    }\n    /** 是否设置投影 */\n    private _dropShadow = false;\n    public get dropShadow() {\n        return this._dropShadow;\n    }\n    public set dropShadow(value) {\n        this._dropShadow = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadow\", value);\n        this.parent.invalidateDisplayList();\n    }\n    /** 投影的alpha值 */\n    private _dropShadowAlpha = false;\n    public get dropShadowAlpha() {\n        return this._dropShadowAlpha;\n    }\n    public set dropShadowAlpha(value) {\n        this._dropShadowAlpha = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowAlpha\", value);\n    }\n    /** 是否设置投影 */\n    private _dropShadowAngle = 0;//Math.PI / 6;\n    public get dropShadowAngle() {\n        return this._dropShadowAngle;\n    }\n    public set dropShadowAngle(value) {\n        this._dropShadowAngle = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowAngle\", value);\n        this.parent.invalidateDisplayList();\n    }\n    /** 投影的模糊半径 */\n    private _dropShadowBlur = 0;\n    public get dropShadowBlur() {\n        return this._dropShadowBlur;\n    }\n    public set dropShadowBlur(value) {\n        this._dropShadowBlur = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowBlur\", value);\n    }\n    /** 投影填充颜色值 */\n    private _dropShadowColor: string | number | number[] | undefined = 0x000000;\n    public get dropShadowColor() {\n        return this._dropShadowColor;\n    }\n    public set dropShadowColor(value) {\n        this._dropShadowColor = value;\n        if (Array.isArray(value)) {\n            if (value.length === 0) {\n                value = undefined;\n            } else {\n                CSSFunction.updateFontStyle(this.parent, \"dropShadowAlpha\", value[3]);\n                value = rgbToNumber(value[0], value[1], value[2]);// `rgba(${value[0]}, ${value[1]}, ${value[2]}, ${value[3]})`;\n            }\n        }\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowColor\", value);\n    }\n    /** 投影深度 */\n    private _dropShadowDistance = 5;\n    public get dropShadowDistance() {\n        return this._dropShadowDistance;\n    }\n    public set dropShadowDistance(value) {\n        this._dropShadowDistance = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowDistance\", value);\n        this.parent.invalidateDisplayList();\n    }\n\n    /** \n     * 渐变类型\n     *  0 = 垂直渐变\n     *  1 = 水平渐变\n     */\n    private _fillGradientType: 0 | 1 = 0;\n    public get fillGradientType(): 0 | 1 {\n        return this._fillGradientType;\n    }\n\n    public set fillGradientType(value: 0 | 1) {\n        this._fillGradientType = value;\n        CSSFunction.updateFontStyle(this.parent, \"fillGradientType\", value);\n        this.parent.invalidateDisplayList();\n    }\n    /** 渐变区间 */\n    private _fillGradientStops: number[] = [];\n    public get fillGradientStops(): number[] {\n        return this._fillGradientStops;\n    }\n\n    public set fillGradientStops(value) {\n        this._fillGradientStops = value;\n        CSSFunction.updateFontStyle(this.parent, \"fillGradientStops\", value);\n        this.parent.invalidateDisplayList();\n    }\n\n\n    /** 中文换行 */\n    private _breakWords = true;\n    public get breakWords() {\n        return this._breakWords;\n    }\n    public set breakWords(value) {\n        this._breakWords = value;\n        CSSFunction.updateFontStyle(this.parent, \"breakWords\", value);\n    }\n}\n\n\n\n/*\nCSS3.0 所有样式属性\n\n    background: string | null;\n    backgroundAttachment: string | null;\n    backgroundClip: string | null;\n    // backgroundColor: string | null;\n    // backgroundImage: string | null;\n    backgroundOrigin: string | null;\n    backgroundPosition: string | null;\n    // backgroundPositionX: string | null;\n    // backgroundPositionY: string | null;\n    backgroundRepeat: string | null;\n    // backgroundSize: string | null;\n\n\n    alignContent: string;\n    alignItems: string;\n    alignSelf: string;\n    alignmentBaseline: string | null;\n    animation: string;\n    animationDelay: string;\n    animationDirection: string;\n    animationDuration: string;\n    animationFillMode: string;\n    animationIterationCount: string;\n    animationName: string;\n    animationPlayState: string;\n    animationTimingFunction: string;\n    backfaceVisibility: string | null;\n\n    baselineShift: string | null;\n    border: string | null;\n    borderBottom: string | null;\n    borderBottomColor: string | null;\n    borderBottomLeftRadius: string | null;\n    borderBottomRightRadius: string | null;\n    borderBottomStyle: string | null;\n    borderBottomWidth: string | null;\n    borderCollapse: string | null;\n    borderColor: string | null;\n    borderImage: string | null;\n    borderImageOutset: string | null;\n    borderImageRepeat: string | null;\n    borderImageSlice: string | null;\n    borderImageSource: string | null;\n    borderImageWidth: string | null;\n    borderLeft: string | null;\n    borderLeftColor: string | null;\n    borderLeftStyle: string | null;\n    borderLeftWidth: string | null;\n    borderRadius: string | null;\n    borderRight: string | null;\n    borderRightColor: string | null;\n    borderRightStyle: string | null;\n    borderRightWidth: string | null;\n    borderSpacing: string | null;\n    borderStyle: string | null;\n    borderTop: string | null;\n    borderTopColor: string | null;\n    borderTopLeftRadius: string | null;\n    borderTopRightRadius: string | null;\n    borderTopStyle: string | null;\n    borderTopWidth: string | null;\n    borderWidth: string | null;\n    // bottom: string | null;\n    boxShadow: string | null;\n    boxSizing: string;\n    breakAfter: string | null;\n    breakBefore: string | null;\n    breakInside: string | null;\n    captionSide: string | null;\n    caretColor: string;\n    clear: string | null;\n    clip: string;\n    clipPath: string;\n    clipRule: string;\n    // color: string | null;\n    colorInterpolationFilters: string;\n    columnCount: string;\n    columnFill: string;\n    columnGap: string;\n    columnRule: string;\n    columnRuleColor: string;\n    columnRuleStyle: string;\n    columnRuleWidth: string;\n    columnSpan: string;\n    columnWidth: string;\n    columns: string;\n    content: string | null;\n    counterIncrement: string | null;\n    counterReset: string | null;\n    cssFloat: string | null;\n    cssText: string;\n    cursor: string;\n    direction: string;\n    // display: string | null;\n    dominantBaseline: string | null;\n    emptyCells: string | null;\n    enableBackground: string | null;\n    fill: string | null;\n    fillOpacity: string | null;\n    fillRule: string | null;\n    filter: string;\n    flex: string | null;\n    flexBasis: string | null;\n    flexDirection: string | null;\n    flexFlow: string | null;\n    flexGrow: string | null;\n    flexShrink: string | null;\n    flexWrap: string | null;\n    floodColor: string;\n    floodOpacity: string;\n    font: string;\n    // fontFamily: string;\n    fontFeatureSettings: string;\n    fontKerning: string;\n    // fontSize: string;\n    fontSizeAdjust: string;\n    fontStretch: string;\n    // fontStyle: string;\n    fontSynthesis: string;\n    // fontVariant: string;\n    fontVariantCaps: string;\n    fontVariantEastAsian: string;\n    fontVariantLigatures: string;\n    fontVariantNumeric: string;\n    fontVariantPosition: string;\n    // fontWeight: string;\n    gap: string;\n    glyphOrientationHorizontal: string | null;\n    glyphOrientationVertical: string;\n    grid: string | null;\n    gridArea: string | null;\n    gridAutoColumns: string | null;\n    gridAutoFlow: string | null;\n    gridAutoRows: string | null;\n    gridColumn: string | null;\n    gridColumnEnd: string | null;\n    gridColumnGap: string;\n    gridColumnStart: string | null;\n    gridGap: string;\n    gridRow: string | null;\n    gridRowEnd: string | null;\n    gridRowGap: string;\n    gridRowStart: string | null;\n    gridTemplate: string | null;\n    gridTemplateAreas: string | null;\n    gridTemplateColumns: string | null;\n    gridTemplateRows: string | null;\n    // height: string | null;\n    hyphens: string;\n    imageOrientation: string;\n    imageRendering: string;\n    imeMode: string | null;\n    justifyContent: string;\n    justifyItems: string;\n    justifySelf: string;\n    kerning: string | null;\n    layoutGrid: string | null;\n    layoutGridChar: string | null;\n    layoutGridLine: string | null;\n    layoutGridMode: string | null;\n    layoutGridType: string | null;\n    // left: string | null;\n    readonly length: number;\n    // letterSpacing: string;\n    lightingColor: string;\n    lineBreak: string;\n    // lineHeight: string | null;\n    listStyle: string | null;\n    listStyleImage: string | null;\n    listStylePosition: string | null;\n    listStyleType: string | null;\n\n    margin: string | null;\n    marginBottom: string | null;\n    marginLeft: string | null;\n    marginRight: string | null;\n    marginTop: string | null;\n\n    marker: string | null;\n    markerEnd: string | null;\n    markerMid: string | null;\n    markerStart: string | null;\n    mask: string;\n    maskComposite: string;\n    maskImage: string;\n    maskPosition: string;\n    maskRepeat: string;\n    maskSize: string;\n    maskType: string;\n\n    // maxHeight: string | null;\n    // maxWidth: string | null;\n    // minHeight: string | null;\n    // minWidth: string | null;\n\n    objectFit: string;\n    objectPosition: string;\n    opacity: string | null;\n    order: string | null;\n    orphans: string | null;\n    outline: string;\n    outlineColor: string;\n    outlineOffset: string;\n    outlineStyle: string;\n    outlineWidth: string;\n\n    overflow: string;\n    overflowAnchor: string;\n    overflowWrap: string;\n    overflowX: string;\n    overflowY: string;\n\n    padding: string | null;\n    paddingBottom: string | null;\n    paddingLeft: string | null;\n    paddingRight: string | null;\n    paddingTop: string | null;\n\n    pageBreakAfter: string | null;\n    pageBreakBefore: string | null;\n    pageBreakInside: string | null;\n    readonly parentRule: CSSRule;\n    penAction: string | null;\n    perspective: string | null;\n    perspectiveOrigin: string | null;\n    placeContent: string;\n    placeItems: string;\n    placeSelf: string;\n    pointerEvents: string | null;\n    // position: string | null;\n    quotes: string | null;\n    resize: string;\n    // right: string | null;\n    rotate: string | null;\n    rowGap: string;\n    rubyAlign: string | null;\n    rubyOverhang: string | null;\n    rubyPosition: string | null;\n    // scale: string | null;\n    scrollBehavior: string;\n    stopColor: string | null;\n    stopOpacity: string | null;\n\n    stroke: string | null;\n    strokeDasharray: string | null;\n    strokeDashoffset: string | null;\n    strokeLinecap: string | null;\n    strokeLinejoin: string | null;\n    strokeMiterlimit: string | null;\n    strokeOpacity: string | null;\n    strokeWidth: string | null;\n\n    tabSize: string;\n    tableLayout: string | null;\n    // textAlign: string;\n    textAlignLast: string;\n    textAnchor: string | null;\n    textCombineUpright: string;\n    textDecoration: string;\n    textDecorationColor: string;\n    textDecorationLine: string;\n    textDecorationStyle: string;\n    textEmphasis: string;\n    textEmphasisColor: string;\n    textEmphasisPosition: string;\n    textEmphasisStyle: string;\n    textIndent: string;\n    textJustify: string;\n    textKashida: string | null;\n    textKashidaSpace: string | null;\n    textOrientation: string;\n    textOverflow: string;\n    textShadow: string;\n    textTransform: string;\n    textUnderlinePosition: string;\n    // top: string | null;\n    touchAction: string;\n    transform: string;\n    transformBox: string;\n    transformOrigin: string;\n    transformStyle: string | null;\n    transition: string;\n    transitionDelay: string;\n    transitionDuration: string;\n    transitionProperty: string;\n    transitionTimingFunction: string;\n    translate: string | null;\n    unicodeBidi: string;\n    userSelect: string;\n    verticalAlign: string | null;\n    visibility: string | null;\n\n    whiteSpace: string;\n    widows: string | null;\n    // width: string | null;\n    willChange: string;\n    wordBreak: string;\n    wordSpacing: string;\n    // wordWrap: string;\n    writingMode: string;\n    // zIndex: string | null;\n    zoom: string | null;\n    */\n","/**\n * 完整的缓动曲线列表\n * \n * @example vf.gui.Easing.Linear.None;\n * \n */\nexport const Easing = {\n    Linear: {\n        None(k: number) {\n            return k;\n        }\n    },\n\n    Quadratic: {\n        In(k: number) {\n            return Math.pow(k, 2);\n        },\n\n        Out(k: number) {\n            return k * (2 - k);\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 2);\n            }\n\n            return -0.5 * (--k * (k - 2) - 1);\n        }\n    },\n\n    Cubic: {\n        In(k: number) {\n            return Math.pow(k, 3);\n        },\n\n        Out(k: number) {\n            return --k * k * k + 1;\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 3);\n            }\n\n            return 0.5 * ((k -= 2) * k * k + 2);\n        }\n    },\n\n    Quartic: {\n        In(k: number) {\n            return Math.pow(k, 4);\n        },\n\n        Out(k: number) {\n            return 1 - --k * k * k * k;\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 4);\n            }\n\n            return -0.5 * ((k -= 2) * k * k * k - 2);\n        }\n    },\n\n    Quintic: {\n        In(k: number) {\n            return Math.pow(k, 5);\n        },\n\n        Out(k: number) {\n            return --k * k * k * k * k + 1;\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 5);\n            }\n\n            return 0.5 * ((k -= 2) * k * k * k * k + 2);\n        }\n    },\n\n    Sinusoidal: {\n        In(k: number) {\n            return 1 - Math.cos((k * Math.PI) / 2);\n        },\n\n        Out(k: number) {\n            return Math.sin((k * Math.PI) / 2);\n        },\n\n        InOut(k: number) {\n            return 0.5 * (1 - Math.cos(Math.PI * k));\n        }\n    },\n\n    Exponential: {\n        In(k: number) {\n            return k === 0 ? 0 : Math.pow(1024, k - 1);\n        },\n\n        Out(k: number) {\n            return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n        },\n\n        InOut(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(1024, k - 1);\n            }\n\n            return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n        }\n    },\n\n    Circular: {\n        In(k: number) {\n            return 1 - Math.sqrt(1 - k * k);\n        },\n\n        Out(k: number) {\n            return Math.sqrt(1 - --k * k);\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return -0.5 * (Math.sqrt(1 - k * k) - 1);\n            }\n\n            return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n        }\n    },\n\n    Elastic: {\n        In(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n        },\n\n        Out(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n        },\n\n        InOut(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            k *= 2;\n\n            if (k < 1) {\n                return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n            }\n\n            return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n        }\n    },\n\n    Back: {\n        In(k: number) {\n            const s = 1.70158;\n\n            return k * k * ((s + 1) * k - s);\n        },\n\n        Out(k: number) {\n            const s = 1.70158;\n\n            return --k * k * ((s + 1) * k + s) + 1;\n        },\n\n        InOut(k: number) {\n            const s = 1.70158 * 1.525;\n\n            if ((k *= 2) < 1) {\n                return 0.5 * (k * k * ((s + 1) * k - s));\n            }\n\n            return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n        }\n    },\n\n    Bounce: {\n        In(k: number) {\n            return 1 - Easing.Bounce.Out(1 - k);\n        },\n\n        Out(k: number) {\n            const x = 2.75;\n            const y = 7.5625;\n            if (k < 1 / x) {\n                return y * k * k;\n            } else if (k < 2 / x) {\n                return y * (k -= 1.5 / x) * k + 0.75;\n            } else if (k < 2.5 / x) {\n                return y * (k -= 2.25 / x) * k + 0.9375;\n            } else {\n                return y * (k -= 2.625 / x) * k + 0.984375;\n            }\n        },\n\n        InOut(k: number) {\n            if (k < 0.5) {\n                return Easing.Bounce.In(k * 2) * 0.5;\n            }\n\n            return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n        }\n    },\n\n    Stepped: {\n        steps: (steps: number) => (k: number) => ((k * steps) | 0) / steps\n    }\n}\n","/* eslint-disable no-prototype-builtins */\n/**\n * 基于帧的时间轴控制类\n    *\n * @example let timeline = new vf.gui.Timeline();\n *\n */\n\nimport { Tween } from \"./Tween\";\nimport { TickerShared } from \"../core/Ticker\";\nimport { addTimeLine, removeTimeLine } from \"./private/core\"\nimport { deepCopy } from \"../utils/Utils\"\n\nexport class TimeLineDefaultData {\n    delay?: number = 0;//时间轴动画开始之前的延迟秒数）\n    paused?: boolean = false; //如果设置为true，时间轴将在创建时立即暂停.\n    repeat?: number = 0; //动画在第一次完成后应重复的次数。例如，如果repeat为1，则动画将总共播放两次（初始播放加1次重复）。要无限重复，请使用-1。\n    ease?: ((k: number) => number) | any;\n    yoyo?: boolean = false;\n    onStart?: Function;\n    onStartParams?: any;\n    onUpdate?: Function;\n    onUpdateParams?: any;\n    onRepeat?: Function;\n    onRepeatParams?: any;\n    onComplete?: Function;\n    onCompleteParams?: any;\n    onReverseComplete?: Function;\n    onReverseCompleteParams?: any;\n}\n\nexport class TimeLineDataItem {\n    tween?: Tween;\n    positionTime = NaN;\n    hasPlay = false;\n}\n//目前timeline 不支持时间线乱序的插入  （由于支持了回放 但是数据结构未做整体调整 下个版本有需要修改)\nexport class TimeLine extends vf.utils.EventEmitter {\n\n    private _defaultParam: any;\n    private _duration = 0;//当前位置  用于顺序播放排位置  播放总长度\n    private _reactDuration = 0; //播放长度\n\n    private _objList: any = []; //对象列表 \n    private _propertyList: any = []; //属性列表   和对象列表一一对应\n\n    private _tweens: TimeLineDataItem[];\n    private _pauseTime = NaN;\n    private _pauseCallBack?: Function;\n    private _pauseCallBackParam?: any;\n\n    private _currenTimer = 0; //时间轴当前播放时间\n\n    private _totalRepeat = 0;\n    private _repeat = 0;\n    private _playStates = 0; // 0停止 1正放 2倒放\n    private _oldPlayStates = 0;\n    private _tickIns: any = undefined;\n    private _isFinite = false;\n\n    private _needDownGrade = false;\n\n\n    constructor(options: TimeLineDefaultData) {\n        super();\n        this._tweens = [];\n        //修改默认参数\n        this._defaultParam = options;\n        options.repeat && (this._repeat = this._totalRepeat = options.repeat);\n        if (!this._defaultParam.paused) {\n            this.play();\n        }\n        addTimeLine(this);\n        return this;\n    }\n\n\n    public set needDownGrade(value: boolean) {\n        this._needDownGrade = value;\n    }\n    public get needDownGrade(): boolean {\n        return this._needDownGrade;\n    }\n\n    public set onStart(value: any) {\n        const _defaultParam = this.getDefaultParam();\n        _defaultParam.onStart = value;\n    }\n\n    public set onStartParams(value: any) {\n        const _defaultParam = this.getDefaultParam();\n        _defaultParam.onStartParams = value;\n    }\n\n    public set onUpdate(value: any) {\n        const _defaultParam = this.getDefaultParam();\n        _defaultParam.onUpdate = value;\n    }\n    public set onUpdateParams(value: any) {\n        const _defaultParam = this.getDefaultParam();\n        _defaultParam.onUpdateParams = value;\n    }\n    public set onRepeat(value: any) {\n        const _defaultParam = this.getDefaultParam();\n        _defaultParam.onRepeat = value;\n    }\n    public set onRepeatParams(value: any) {\n        const _defaultParam = this.getDefaultParam();\n        _defaultParam.onRepeatParams = value;\n    }\n\n    public set onComplete(value: any) {\n        const _defaultParam = this.getDefaultParam();\n        _defaultParam.onComplete = value;\n    }\n    public set onCompleteParams(value: any) {\n        const _defaultParam = this.getDefaultParam();\n        _defaultParam.onCompleteParams = value;\n    }\n\n    public set onReverseComplete(value: any) {\n        const _defaultParam = this.getDefaultParam();\n        _defaultParam.onReverseComplete = value;\n    }\n    public set onReverseCompleteParams(value: any) {\n        const _defaultParam = this.getDefaultParam();\n        _defaultParam.onReverseCompleteParams = value;\n    }\n\n    public getDefaultParam() {\n        let _defaultParam = this._defaultParam;\n        if (!_defaultParam) {\n            _defaultParam = new TimeLineDefaultData();\n        }\n        return _defaultParam;\n    }\n\n    private set playStates(value: any) {\n\n        this._playStates = value;\n    }\n\n    public get duration() {\n        return this._duration;\n    }\n\n    public get currenTimer() {\n        return this._currenTimer;\n    }\n\n    public get reversed() {\n        let states = this._playStates;\n        if (this._playStates === 0) {\n            states = this._oldPlayStates;\n        }\n\n        return states === 2;\n    }\n\n    public get paused() {\n        return this._playStates === 0;\n    }\n    /**\n     * 顺序播放\n     * \n     */\n    public add(value: Tween, position = NaN) {\n\n        //begin\n        if (Array.isArray(value)) {\n            value.map && value.map((_v) => {\n                this.add(_v, position);\n            })\n            return this;\n        }\n\n        const { _defaultParam } = this;\n\n        //目前支持tween\n        const defaultdelay = _defaultParam.delay ? _defaultParam.delay : 0;\n        const item = new TimeLineDataItem();\n        if (value instanceof Tween) {\n            item.tween = value;\n        }\n        const delay = (item.tween ? item.tween.delayTime : 0);\n        position = isNaN(position) ? 0 : position;\n        const during = (item.tween ? Number(item.tween.duration) : 0);\n        item.positionTime = position + defaultdelay;\n        this._reactDuration = Math.max((during + delay + position), 0);\n        this._duration = this._reactDuration + defaultdelay;\n        this._tweens.push(item);\n\n        //起始时间排序\n        this._tweens.sort((a, b) => {\n            return a.positionTime - b.positionTime;\n        });\n\n        //当前to对象\n\n        this._objList = [];\n        this._propertyList = [];\n        for (let i = 0; i < this._tweens.length; i++) {\n            const item = this._tweens[i];\n            if (item && item.tween) {\n                const obj = item.tween.object;\n                if (this._objList.indexOf(obj) >= 0) {\n                    continue;\n                } else {\n                    this._objList.push(obj);\n                    const propItem = this.getPropertyList(obj);\n                    this._propertyList.push(propItem);\n                }\n            }\n\n        }\n\n        this.cacheStartData();\n        // this.cacheStartDataTest();\n        return this;\n    }\n\n    // private resetTweenList() {\n    //     const { _tweens } = this;\n    //     const newTween: TimeLineDataItem[] = [];\n    //     let curTimeStamp = 0;\n    //     let maxDuration = Number.MAX_VALUE;\n\n    //     for (let i: number = 0; i < _tweens.length; i++) {\n    //         const startTime = _tweens[i].positionTime;\n    //         for (let i: number = 0; i < _tweens.length; i++) {\n    //             const tweenItem = _tweens[i].tween;\n    //             const endTime = _tweens[i].positionTime + (tweenItem ? Number(tweenItem.duration) : 0);\n    //             if (endTime > startTime) {\n    //                 maxDuration = Math.min(maxDuration, endTime);\n    //             }\n    //         }\n    //         //获取了时间区间\n\n\n    //     }\n\n    //     return newTween;\n    // }\n\n    private cacheStartData() {\n        //这里重新缓存每个item的start数据  便于倒放初始值获取不全问题  导致错乱\n        const {\n            _tweens\n        } = this;\n        const dList: any = {};\n        for (let i = 0; i <= _tweens.length - 1; i++) {\n            const item = _tweens[i];\n            if (item && item.tween) {\n                const objIdx = this._objList.indexOf(item.tween.object);\n                const propertyList = this._propertyList[objIdx];\n                if (!dList[objIdx]) {\n                    dList[objIdx] = {};\n                }\n                const virtualData = dList[objIdx];\n                item.tween._virtualValueStart = {};\n                for (let j: number = propertyList.length - 1; j >= 0; j--) {\n                    const p = propertyList[j];\n                    let curValue = item.tween.object[p];\n                    if (virtualData.hasOwnProperty(p)) {\n                        curValue = virtualData[p];\n                        //TODO\n                    } else {\n                        virtualData[p] = curValue;\n                        //TODO\n                    }\n                    item.tween._virtualValueStart[p] = item.tween.valuesStart[p] = curValue;\n                    if (!item.tween.valuesEnd.hasOwnProperty(p)) {\n                        item.tween.valuesEnd[p] = curValue;\n                        //TODO\n                    } else {\n                        virtualData[p] = item.tween.valuesEnd[p] = item.tween.valuesEnd[p] as any;\n                        //TODO\n                    }\n                }\n            }\n        }\n\n    }\n\n    // timeline 拆分  并且重新缓存每个item的start数据  便于倒放初始值获取不全问题  导致错乱\n    private cacheStartDataTest() {\n        const {\n            _tweens\n        } = this;\n        const dList: any = {};\n        const newTweenList = [];\n        // //\n        // console.error(\"..\", vf.gui.Utils.deepCopy(_tweens));\n        // while(){\n\n        // }\n\n\n        // //分割tween  这是一个比较费时的过程。。\n        // for (let i = 0; i <= _tweens.length - 1; i++) {\n        //     const item = _tweens[i];\n        //     const curStartTime = item.positionTime;\n        //     const curDurationTime = item.tween?.duration as number;\n        //     const nextItem = this.getNextValue(item.positionTime, i);\n        //     if (nextItem.value.length === 0) {\n        //         //没有重合的\n        //         newTweenList.push(deepCopy(item));\n        //     } else {\n        //         //\n        //         if (nextItem.isStart) {//头 当前tween到最近tween 拆成一个tween  \n\n\n        //         } else {//下一个是尾巴  所有数组里的属性存起来 合并一个tween\n\n        //         }\n        //     }\n        // }\n\n        //先根据关键帧  拆分很多个临时tween   根据已有tween数据 合并\n\n\n        this.cacheStartData();\n    }\n\n    //获取最近的值  \n    private getNextValue(value: number, index: number) {\n        const {\n            _tweens\n        } = this;\n        const returnValue = { value: [] as TimeLineDataItem[], isStart: false };\n        for (let i = 0; i <= _tweens.length - 1; i++) {\n            const item = _tweens[i];\n            if (i === index) {\n                continue;\n            }\n            const curStartTime = item.positionTime;\n            const curDurationTime = item.tween?.duration as number;\n            let v = -1;\n            let isStart = false;\n            if (curStartTime > value) {\n                v = curStartTime;\n                isStart = true;\n            } else if (curDurationTime > value) {\n                v = curDurationTime;\n                isStart = false;\n            }\n\n            if (returnValue.value && returnValue.value[0]) {//只要最近的\n                const item = returnValue.value[0];\n                const num = returnValue.isStart ? item.positionTime : (item.positionTime + (item.tween?.duration as number));\n                if (num > v) {\n                    returnValue.value = [item];\n                    returnValue.isStart = !isStart ? returnValue.isStart : isStart;//多条吻合  只取处于周期内的tween\n                } else if (num === v) {\n                    returnValue.value.push(item);\n                }\n            }\n        }\n        return returnValue;\n    }\n\n\n    private getPropertyList(obj: any) {\n        const {\n            _tweens\n        } = this;\n        const propertyList: any = [];\n        for (let i: number = _tweens.length - 1; i >= 0; i--) {\n            const item = _tweens[i];\n            if (item && item.tween && item.tween.object === obj) {\n                for (const p in item.tween.valuesEnd) {\n                    if (propertyList.indexOf(p) >= 0) {\n                        continue;\n                    }\n                    propertyList.push(p);\n                }\n            }\n\n        }\n        return propertyList;\n    }\n\n    private toStartData(dis: number) {\n        const {\n            _tweens\n        } = this;\n        const cacheObj: any[] = [];\n        for (let i = 0; i < _tweens.length; i++) {\n            const itemTween = _tweens[i].tween;\n            if (itemTween) {\n                const obj = itemTween.object;\n                if (cacheObj.indexOf(obj) >= 0) {\n                    itemTween.stop();\n                    continue;\n                }\n                cacheObj.push(obj);\n                const time = (this._playStates === 2 ? (Number(itemTween.duration) - dis) : dis);\n                itemTween.gotoAndStop(time);\n            }\n        }\n    }\n\n    /**\n     * \n     * 获取时刻数据\n     */\n    public setTimeProries(timer: number) {\n        const {\n            _tweens\n        } = this;\n        const tList = [];\n        for (let i = 0; i < _tweens.length; i++) {\n            const item = _tweens[i];\n            const tween = item.tween;\n            if (!tween || timer < item.positionTime) {\n                continue;\n            }\n            tList.push(item);\n        }\n\n        tList.sort((a, b) => {\n            if (!a.tween || !b.tween) {\n                return 0;\n            }\n            return (a.positionTime + Number(a.tween.duration)) - (b.positionTime + Number(b.tween.duration));\n        });\n\n        for (let i = 0; i < tList.length; i++) {\n            const item = tList[i];\n            const tween = item.tween;\n            if (!tween) {\n                continue;\n            }\n            const duration = tween ? Number(tween.duration) : 0;\n            if (timer >= item.positionTime) {\n                tween.gotoAndStop(Math.min(timer - item.positionTime, duration));\n            } else {\n                continue;\n            }\n        }\n    }\n\n\n    /**\n     * \n     */\n\n    public addPause(position = NaN, callback?: Function, paranms?: any) {\n        this._pauseTime = (isNaN(position) ? this._currenTimer : position);\n        this._pauseCallBack = callback;\n        this._pauseCallBackParam = paranms;\n        return this;\n    }\n    /**\n     * 相当于 add(TweenLite.to(...))\n     */\n    public to(element: any, duration: number, options: any, position?: number) {\n        const tween = new Tween(element);\n        const opt: any = {};\n        if (this._defaultParam && this._defaultParam.ease) {\n            tween.easing(this._defaultParam.ease);\n            tween.easingReverse(this._defaultParam.ease);\n        }\n\n        for (const property in options) {\n            const value = options[property];\n\n            switch (property) {\n                case \"yoyo\":\n                    tween.yoyo(value);\n                    break;\n                case \"repeat\":\n                    tween.repeat(value); tween[\"repeat\"].call(this, value);\n                    break;\n                case \"ease\":\n                    tween.easing(value);\n                    tween.easingReverse(value);\n                    break;\n                case \"onStart\":\n                case \"onStartParams\":\n                case \"onUpdate\":\n                case \"onUpdateParams\":\n                case \"onComplete\":\n                case \"onCompleteParams\":\n                case \"onRepeat\":\n                case \"onRepeatParams\":\n                case \"onReverseComplete\":\n                case \"onReverseCompleteParams\":\n                    tween[property] = options[property];\n                    break;\n                default:\n                    if (typeof value !== 'function') {\n                        opt[property] = value;\n                    }\n                    break;\n            }\n        }\n        tween.to(opt, duration);\n        this.add(tween, position);\n        return this;\n    }\n\n    /**\n     * \n     */\n\n    public play(timer = NaN) {\n\n        const { _defaultParam } = this;\n        this.playStates = 1;\n        this._oldPlayStates = this._playStates;\n        if (!isNaN(timer)) {\n            this._currenTimer = timer;\n        }\n        if (this._currenTimer === 0 && _defaultParam && _defaultParam.onStart) {\n            _defaultParam.onStart(_defaultParam.onStartParams);\n        }\n        !this._tickIns && (this._tickIns = TickerShared.add(this.onUpdata, this));\n\n    }\n    /**\n     * 暂停\n     */\n    public pause() {\n        this._oldPlayStates = this._playStates;\n        this.addPause(this._currenTimer);\n    }\n    /**\n     * \n     */\n    public resume() {\n\n        this.playStates = this._oldPlayStates;\n        !this._tickIns && (this._tickIns = TickerShared.add(this.onUpdata, this));\n    }\n    /**\n     * 跳转\n     */\n    public seek(timer: number) {\n        this._currenTimer = timer;\n\n        this.setTimeProries(timer);\n        // this._playStates = 1;\n\n    }\n    /**\n     * 倒放\n     */\n    public reverse(timer = NaN) {\n        if (this._playStates === 2) {\n            return;\n        }\n        if (!isNaN(timer)) {\n            this._currenTimer = timer;//跳转\n        }\n        this.playStates = 2;\n        this._oldPlayStates = this._playStates;\n        if (!this._isFinite) {\n            this._repeat = this._totalRepeat >= 0 ? this._totalRepeat - this._repeat : -1;\n        }\n\n        !this._tickIns && (this._tickIns = TickerShared.add(this.onUpdata, this));\n\n    }\n    /**\n     * 刷新 \n     */\n    public onUpdata(time: number) {\n        const {\n            _tweens,\n            _playStates,\n            _defaultParam\n        } = this;\n        if ((_playStates === 0 || !_tweens || _tweens.length <= 0)) {\n            return;\n        }\n\n        if (this.needDownGrade === true && this._repeat >= 0) {\n            TickerShared.remove(this.onUpdata, this);\n            this._tickIns = undefined\n            if (_defaultParam.yoyo === true) {\n                this._playStates = (this._repeat % 2 === 1 ? 2 : 1);\n            }\n            const time = (this._playStates === 1 ? this.duration : 0);\n            this.seek(time);\n            this.complete();//结束\n\n            return;\n        }\n\n        if (this._isFinite === true) {\n            this._isFinite = false;\n        }\n        //\n        if (_playStates !== 0) {\n            this.playUpdate();\n        }\n\n    }\n\n    private playUpdate() {\n        const {\n            _duration,\n            _playStates,\n            _defaultParam\n        } = this;\n\n        if (_playStates === 0) {\n            return;\n        }\n        if (_defaultParam && _defaultParam.onUpdate) {\n            _defaultParam.onUpdate(_defaultParam.onUpdateParams);\n        }\n        if (_playStates === 1) {\n            this._currenTimer += TickerShared.deltaMS;\n        } else {\n            this._currenTimer -= TickerShared.deltaMS;\n        }\n\n        let elapsed;  //当前完成比例 倒放当前比例加正放 ===1\n        const time = this._currenTimer;\n        elapsed = time / _duration\n        elapsed = elapsed > 1 ? 1 : elapsed\n        elapsed = elapsed < 0 ? 0 : elapsed\n        //根据elsapse 播放\n        this.tweenItemPlay();\n        //循环检测\n        this.checkNextRepeat(elapsed);\n\n        //遇到暂停\n        this.checkPause();\n\n    }\n\n    private checkPause() {\n        const {\n            _tweens,\n            _playStates,\n            _pauseCallBack,\n            _pauseCallBackParam,\n        } = this;\n        if (!isNaN(this._pauseTime) && ((this._currenTimer >= this._pauseTime && _playStates === 1) || (\n            this._currenTimer <= this._pauseTime && _playStates === 2))) {\n            //暂停\n            this.playStates = 0;\n            this._pauseTime = NaN;\n            if (_pauseCallBack) {\n                _pauseCallBack(_pauseCallBackParam);\n                this._pauseCallBack = undefined;\n                this._pauseCallBackParam = undefined;\n            }\n            let i = 0\n            while (i < _tweens.length) {\n                const item = _tweens[i].tween;\n                item && item.isPlaying && item.pause();\n                // console.log(\"暂停了\", i, this._currenTimer - _tweens[i].positionTime);\n                i++\n            }\n            // this._tickIns = false;\n            // TickerShared.remove(this.onUpdata, this);\n            return;\n        }\n    }\n\n\n    private tweenItemPlay() {\n        const {\n            _tweens,\n            _playStates\n        } = this;\n\n        const time = this._currenTimer;\n        for (let i = 0; i < _tweens.length; i++) {\n            const item = _tweens[i];\n            let timing = time - item.positionTime;\n            if (_playStates === 2) {\n                timing = (item.tween ? Number(item.tween.duration) : 0) - timing;\n            }\n            if (!item || !item.tween) {\n                continue;\n            }\n            const rev = (item.tween as Tween).reversed();\n            const dur = Number(item.tween.duration);\n            if (timing >= 0) {// 播放中或者播放完\n                if (timing < item.tween.duration) {\n                    if ((_playStates === 2 && rev === false) || (_playStates === 1 && rev === true)) {\n                        item.tween.reverse(!rev, timing); //倒放\n                    }\n                    if (item.tween.isPlaying === false) {\n                        item.hasPlay = true;\n                        item.tween.gotoAndPlay(timing);\n                    }\n                } else {// 播放完 检测  防止duration小于一帧 导致的未播放跳过问题\n                    if (item.hasPlay === false) {\n\n                        if ((_playStates === 2 && rev === false) || (_playStates === 1 && rev === true)) {\n                            item.tween.reverse(!rev, timing); //倒放\n                        }\n                        item.hasPlay = true;\n                        if (item.tween.isPlaying === false) {\n                            item.tween.gotoAndEnd();\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n\n    private checkNextRepeat(elapsed: number) {\n        const {\n            _repeat,\n            _defaultParam\n        } = this;\n\n        if ((elapsed === 1 || (this._playStates === 2 && elapsed === 0)) && this.checkTweensComplete()) {\n\n            if (_repeat) {\n                this._repeat--;\n                if (!_defaultParam.yoyo || (_defaultParam.yoyo && this._playStates !== 2)) {\n                    _defaultParam && _defaultParam.onRepeat && _defaultParam.onRepeat(_defaultParam.onRepeatParams);\n                } else {\n                    _defaultParam && _defaultParam.onStart && _defaultParam.onStart(_defaultParam.onStartParams);\n                }\n\n                this.toNext();//循环\n            }\n            else {\n                this.complete();//结束\n            }\n\n\n        }\n    }\n\n    private checkTweensComplete() {\n        for (let i = 0; i < this._tweens.length; i++) {\n            const item = this._tweens[i];\n            if (!item.tween) {\n                continue;\n            }\n            if (item.tween.isPlaying) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    private toNext() {\n        const {\n            _duration,\n            _defaultParam\n        } = this;\n        this.stopAll();\n        const dis = (this._playStates === 2 ? Math.abs(this._currenTimer) : (this._currenTimer - this.duration));\n        if (_defaultParam.yoyo) {\n            this._playStates = (this._playStates === 2 ? 1 : 2);\n        } else {\n            this.toStartData(dis);\n        }\n        this._currenTimer = (this._playStates === 2 ? (_duration - dis) : dis);\n    }\n\n    private complete() {\n        const {\n            _defaultParam\n        } = this;\n        this._isFinite = true;\n        this.stopAll();\n        this._repeat = this._totalRepeat;\n        // 播放完成\n        if (this._playStates === 2) {\n            this.playStates = 0;\n            _defaultParam && _defaultParam.onReverseComplete && _defaultParam.onReverseComplete(_defaultParam.onReverseCompleteParams);\n        } else if (this._playStates === 1) {\n            this.playStates = 0;\n            _defaultParam && _defaultParam.onComplete && _defaultParam.onComplete(_defaultParam.onCompleteParams);\n        }\n    }\n\n    private stopAll() {\n        const {\n            _tweens\n        } = this;\n        for (let i = 0; i < _tweens.length; i++) {\n            const item = _tweens[i];\n            if (item && item.tween) {\n                item.tween.stop();\n                item.hasPlay = false;\n            }\n        }\n    }\n\n\n    public release() {\n        removeTimeLine(this);\n        this._tickIns = undefined;\n        this._defaultParam = undefined;\n        this._duration = 0;\n        this._reactDuration = 0;\n        this._objList = [];\n        this._propertyList = [];\n        this._pauseTime = NaN;\n        this._pauseCallBack = undefined;\n        this._pauseCallBackParam = undefined;\n        this._currenTimer = 0;\n        this._totalRepeat = 0;\n        this._repeat = 0;\n        this._playStates = 0;\n        this._oldPlayStates = 0;\n        this._tickIns = undefined;\n        if (this._tweens) {\n            for (let i = 0; i < this._tweens.length; i++) {\n                const item = this._tweens[i];\n                if (item && item.tween) {\n                    item.tween.release();\n                }\n            }\n            this._tweens = [];\n        }\n\n        TickerShared.remove(this.onUpdata, this);\n    }\n}","import { deepCopy, uid } from \"../utils/Utils\";\nimport { Easing } from './Easing';\nimport { Interpolation } from \"./private/Interpolation\";\nimport { add, get, getAll, remove, removeAll, removeDisplay, update, isRunning, isLagSmoothing } from './private/core';\nimport { decompose, recompose, FRAME_MS, TOO_LONG_FRAME_MS } from './private/constants';\nimport { TweenEvent } from '../event/TweenEvent';\n\nconst defaultEasing = Easing.Linear.None;\n/**\n * 缓动动画\n * \n * @example let tween = new vf.gui.Tween(myObject).to({width:'300px'}, 2000).start()\n * \n */\nexport class Tween extends vf.utils.EventEmitter {\n\n    static core = { add, get, getAll, remove, removeAll, removeDisplay, update };\n    static Event = TweenEvent;\n    /**\n     * Easier way to call the Tween\n     * @param {object} object - Initial value\n     * @param {object} to - Target value\n     * @param {object} params - Options of tweens\n     * @example Tween.fromTo(myObject, {x:0}, {x:200},1000)\n     * @memberof vf.gui.Tween\n     * @static\n     */\n    static fromTo(object: any, to: any, duration?: number) {\n        const tween = new Tween(object).to(to, duration);\n        return tween;\n    }\n    /**\n     * Easier way calling constructor only applies the `to` value, useful for CSS Animation\n     * @param {any} object object\n     * @param {object} to - Target value\n     * @param {object} params - Options of tweens\n     * @example Tween.to(myObject, {x:200}, 1000)\n     * @memberof vf.gui.Tween\n     * @static\n     */\n    static to(object: any | any[], to: any, duration?: number) {\n        return Tween.fromTo(object, to, duration)\n    }\n    /**\n     * Easier way calling constructor only applies the `from` value, useful for CSS Animation\n     * @param {any} object object\n     * @param {object} from - Initial value\n     * @param {object} params - Options of tweens\n     * @example Tween.from(myObject, {x:200}, 1000)\n     * @memberof vf.gui.Tween\n     * @static\n     */\n    static from(object: any, from: any, duration?: number) {\n        return Tween.fromTo(object, from, duration)\n    }\n    constructor(object?: any) {\n        super();\n\n        this.id = uid();\n        this.object = object;\n        this._valuesStart = Array.isArray(object) ? [] : {};\n        this._interpolationFunction = Interpolation.Linear;\n        return this;\n    }\n\n    public id: number;\n    public object: any;\n    private _valuesEnd: any = null;\n    private _valuesStart: any;\n    public _virtualValueStart: any;\n    protected _duration = 1000;\n    private _easingFunction = defaultEasing;\n    private _easingReverse = defaultEasing;\n    private _interpolationFunction: ((v: any, k: number, value: any) => any) | any;\n\n    protected _startTime = 0;\n    protected _delayTime = 0;\n    private _repeat = 0;\n    private _initRepeat = 0;\n    public _isPlaying = false;\n    private _yoyo = false;\n    private _reversed = false;\n\n    private _onStartCallbackFired = false;\n    private _isFinite = true;\n    private _prevTime = 0;\n\n    private _rendered = false;\n    private _reverseDelayTime = 0;\n    /** 附加数据 */\n    public data: { [key: string]: any } = {};\n\n    /**\n     * \n     * 外部使用回调函数   这里用于timeLine给每个tween设置事件回调\n     */\n    public onUpdate?: Function;\n    public onUpdateParams?: any;\n\n    public onStart?: Function;\n    public onStartParams?: any;\n\n    public onComplete?: Function;\n    public onCompleteParams?: any;\n\n    public onRepeat?: Function;\n    public onRepeatParams?: any;\n\n    public onReverseComplete?: Function;\n    public onReverseCompleteParams?: any;\n\n\n    private _needDownGrade = false;\n\n\n    public setObject(object: any) {\n        this.object = object;\n        this._valuesStart = Array.isArray(object) ? [] : {};\n    }\n\n    public onFunction(eventType: string, object: any, elapsed?: any) {\n        switch (eventType) {\n            case TweenEvent.update:\n                this.onUpdate && this.onUpdate(this.onUpdateParams);\n                break;\n            case TweenEvent.start:\n                this.onStart && this.onStart(this.onStartParams);\n                break;\n            case TweenEvent.complete:\n                if (this.reversed() === true) {\n                    this.onReverseComplete && this.onReverseComplete(this.onReverseCompleteParams);\n                } else {\n                    this.onComplete && this.onComplete(this.onCompleteParams);\n                }\n                break;\n            case TweenEvent.repeat:\n                this.onRepeat && this.onRepeat(this.onRepeatParams);\n                break;\n        }\n\n        this.emit(eventType, object, elapsed);\n    }\n\n    public get needDownGrade() {\n        return this._needDownGrade;\n    }\n\n    public set needDownGrade(value) {\n        this._needDownGrade = value;\n    }\n\n    /**\n     * 是否在播放中\n     * @return {boolean} \n     * @example tween.isPlaying()\n     * @memberof vf.gui.Tween\n     */\n    public get isPlaying() {\n        return this._isPlaying;\n    }\n\n    public set isPlaying(value) {\n        this._isPlaying = value;\n    }\n\n    public get valuesEnd() {\n        return this._valuesEnd;\n    }\n    public get valuesStart() {\n        return this._valuesStart;\n    }\n\n    /**\n     * 是否开始播放\n     * @return {boolean} \n     * @example tween.isStarted()\n     * @memberof vf.gui.Tween\n     */\n    public get isStarted() {\n        return this._onStartCallbackFired;\n    }\n\n    public get delayTime() {\n        return this._delayTime;\n    }\n\n    /**\n     * 获取动画的开始时间\n     */\n    public get startTime() {\n        return this._startTime;\n    }\n    /**\n     * 获取动画的开始时间\n     */\n    public set startTime(value: number) {\n        this._startTime = value;\n    }\n    /**\n     * 设置缓动时长\n     * @param {number} amount 持续的毫秒值\n     * @example tween.duration(2000)\n     * @memberof vf.gui.Tween\n     * @deprecated 不推荐使用这个方法，内部使用\n     * @private\n     */\n    public set duration(amount: number | Function) {\n        this._duration = typeof amount === 'function' ? amount(this._duration) : amount;\n    }\n    public get duration() {\n        return this._duration;\n    }\n\n    /**\n     * 逆向缓动\n     * @example tween.reverse()\n     * @param {boolean=} state 是否逆向\n     * @memberof vf.gui.Tween\n     */\n    public reverse(state?: boolean, timer = NaN) {\n        const { _reversed } = this;\n        if (!isNaN(timer)) {\n            this._prevTime = timer;\n        }\n\n        this._reversed = state !== undefined ? state : !_reversed;\n\n        return this;\n    }\n\n    /**\n     * 当前动画是否逆转\n     * @return {boolean}\n     * @example tween.reversed() true逆向中\n     * @memberof vf.gui.Tween\n     */\n    public reversed() {\n        return this._reversed;\n    }\n\n    /**\n     * 暂停缓动\n     * @example tween.pause()\n     * @memberof vf.gui.Tween\n     */\n    public pause() {\n        if (!this._isPlaying) {\n            return this;\n        }\n\n        this.isPlaying = false;\n\n        remove(this);\n\n        return this.emit(TweenEvent.pause, this.object);\n    }\n\n    /**\n     * 播放或恢复播放\n     * @example tween.play()\n     * @memberof vf.gui.Tween\n     */\n    public play() {\n        if (this._isPlaying) {\n            return this;\n        }\n\n        this.isPlaying = true;\n        this._startTime = 0;\n        add(this);\n        return this.emit(TweenEvent.play, this.object);\n    }\n\n    /**\n     * 设置要缓动的目标属性与持续时间\n     * @param {object} properties 目标属性值\n     * @param {number|Object=} [duration=1000] 持续时间\n     * @example let tween = new vf.gui.Tween({x:0}).to({x:100}, 2000)\n     * @memberof vf.gui.Tween\n     */\n    public to(properties: any, duration = 1000) {\n        this._valuesEnd = properties;\n        this._duration = duration;\n        return this;\n    }\n\n\n    private render() {\n        if (this._rendered) {\n            return this;\n        }\n        const { _valuesStart, _valuesEnd, object } = this;\n\n        if (!_valuesStart.processed) {\n            for (const property in _valuesEnd) {\n                const start = object && object[property] && deepCopy(object[property]);\n                _valuesStart[property] = start || 0;\n                decompose(property, object, _valuesStart, _valuesEnd);\n            }\n            _valuesStart.processed = true;\n        }\n\n        this._rendered = true;\n\n        return this;\n    }\n\n    /**\n     * 开始执行缓动\n     * @example tween.start()\n     * @memberof vf.gui.Tween\n     */\n    public start() {\n        this._startTime += this._delayTime;\n        this._prevTime = 0;\n        this._onStartCallbackFired = false;\n        this._rendered = false;\n        this._isPlaying = true;\n        add(this);\n        // 直达终点\n        if (this._needDownGrade === true && this._repeat >= 0) {\n            this.toEnd();\n        }\n        return this;\n    }\n\n    private toEnd() {\n        if (this._yoyo === true) {\n            this._reversed = (this._repeat % 2 === 1 ? true : false);\n        }\n        this._repeat = -1;\n        this.gotoAndEnd();\n    }\n\n    /**\n     * 停止缓动\n     * @example tween.stop()\n     * @memberof vf.gui.Tween\n     */\n    public stop() {\n        const { _isPlaying, _isFinite, object, _duration, _initRepeat, _yoyo, _reversed } = this;\n\n        if (!_isPlaying) {\n            return this;\n        }\n        this.isPlaying = false;\n\n        const atStart = _isFinite ? (_initRepeat + 1) % 2 === 1 : !_reversed;\n\n        this._reversed = false;\n        if (_yoyo && atStart) {\n            this._prevTime = _duration;\n        } else {\n            this._prevTime = 0;\n        }\n        this.update(0);\n        remove(this);\n\n        return this.emit(TweenEvent.stop, object);\n    }\n\n    /**\n     * 设置延迟执行时间\n     * @param {number} amount 延迟等待的时间，毫秒\n     * @example tween.delay(500)\n     * @memberof vf.gui.Tween\n     */\n    public delay(amount: number) {\n        this._delayTime = amount;\n        return this;\n    }\n\n    /**\n     * 设置重复执行的次数\n     * @param {number} amount 重复次数\n     * @example tween.repeat(5)\n     * @memberof vf.gui.Tween\n     */\n    public repeat(amount: number) {\n        this._repeat = amount//!this._duration ? 0 : amount;\n        this._initRepeat = this._repeat;\n        this._isFinite = isFinite(amount);\n\n        return this;\n    }\n\n    /**\n     * 设置每个重复执行过程的延迟时间，毫秒\n     * @param {number} amount 延迟值\n     * @example tween.reverseDelay(500)\n     * @memberof vf.gui.Tween\n     */\n    public reverseDelay(amount: number) {\n        this._reverseDelayTime = amount;\n\n        return this;\n    }\n\n    /**\n     * 是否在重复执行中启用反向动画\n     * @param {boolean} state true启动\n     * @param {Function=} _easingReverse 反向时的Easing function \n     * @example tween.yoyo(true)\n     * @memberof vf.gui.Tween\n     */\n    public yoyo(state?: boolean | Function, _easingReverse?: (k: number) => number) {\n        this._yoyo = typeof state === 'function' ? state(this._yoyo) : state === null ? this._yoyo : state;\n        if (!state) {\n            this._reversed = false;\n        }\n        if (_easingReverse) {\n            this._easingReverse = _easingReverse;\n        } else {\n            this._easingReverse = this._easingFunction;\n        }\n\n        return this;\n    }\n\n    /**\n     * 设置缓动函数\n     * @param {Function} _easingFunction 缓动函数的公式，如果设置yoyo的第二个值会应用于逆向缓动\n     * @example tween.easing(Easing.Elastic.InOut)\n     * @memberof vf.gui.Tween\n     */\n    public easing(_easingFunction: ((k: number) => number) | any) {\n        this._easingFunction = _easingFunction;\n\n        return this;\n    }\n\n    public easingReverse(_easingReverse: ((k: number) => number) | any) {\n        this._easingReverse = _easingReverse;\n        return this;\n    }\n\n    /**\n     * 设置差值\n     * @param {Function} _interpolationFunction 差值的函数\n     * @example tween.interpolation(Interpolation.Bezier)\n     * @memberof vf.gui.Tween\n     */\n    public interpolation(_interpolationFunction: (v: any, k: number, value: any) => any) {\n        if (typeof _interpolationFunction === 'function') {\n            this._interpolationFunction = _interpolationFunction;\n        }\n\n        return this;\n    }\n\n    /**\n     * 更新动画到指定时间点，进行播放\n     * @param time \n     */\n    public gotoAndPlay(time: number) {\n        this._prevTime = time;\n        // this._isPlaying = true;\n        // this.update(0);\n        this.play();\n    }\n\n    /**\n     * 更新动画到指定时间点，停止播放\n     * @param time \n     */\n    public gotoAndStop(time: number) {\n        this._prevTime = time;\n        this._isPlaying = true;\n        this.update(0);\n        this.pause();\n    }\n    /**\n     * 更新动画到指定时间点，停止播放\n     * @param time \n     */\n    public gotoAndEnd() {\n        this._prevTime = this._duration;\n        if (!this._isPlaying) { // 未播放 则强刷\n            this._isPlaying = true;\n            this.update(this._prevTime);\n        }\n    }\n\n    /**\n     * 更新函数，通过给定的 `time` 设置目标属性变化\n    * @param {number=} deltaTime 帧间隔\n    * @param {Boolean=} preserve 完成后，防止删除动画对象\n     * @param {boolean=} forceTime 强制进行更新渲染，不关心时间是否匹配\n     * @example tween.update(100)\n     * @memberof vf.gui.Tween\n     */\n    public update(deltaTime: number, preserve?: boolean, forceTime?: boolean) {\n\n        const {\n            _onStartCallbackFired,\n            _easingFunction,\n            _easingReverse,\n            _delayTime,\n            _reverseDelayTime,\n            _yoyo,\n            _startTime,\n            _duration,\n            _valuesStart,\n            _valuesEnd,\n            object,\n            _isFinite,\n            _isPlaying\n        } = this;\n        if (!_isPlaying || (_startTime > 0 && !forceTime)) {\n            this._startTime -= deltaTime;\n            this._startTime = Math.max(0, this._startTime);\n            return true;\n        }\n        let _reversed = this._reversed;\n        let elapsed: number;\n        let property: string;\n        let _repeat = this._repeat;\n        if (!_duration) {\n            if (_yoyo) {\n                _reversed = (_repeat % 2 === 1) ? true : false;\n            }\n            elapsed = _reversed ? 0 : 1;\n            _repeat = 0;\n        } else {\n\n            this._prevTime += deltaTime;\n            if (deltaTime > TOO_LONG_FRAME_MS && isRunning() && isLagSmoothing()) {\n                this._prevTime -= FRAME_MS;\n            }\n            elapsed = (this._prevTime) / _duration;\n            elapsed = elapsed > 1 ? 1 : elapsed;\n            elapsed = _reversed ? 1 - elapsed : elapsed;\n        }\n        if (!_onStartCallbackFired) {\n            if (!this._rendered) {\n                this.render();\n                this._rendered = true;\n            }\n\n            this.onFunction(TweenEvent.start, object);\n\n            this._onStartCallbackFired = true;\n        }\n\n        const currentEasing: any = _reversed ? _easingReverse || _easingFunction : _easingFunction;\n        let startV = _valuesStart;\n        if (this._virtualValueStart) {\n            startV = this._virtualValueStart;\n        }\n        for (property in _valuesEnd) {\n            const start = startV[property];\n            const end = _valuesEnd[property];\n            const value = currentEasing[property] ? currentEasing[property](elapsed) : typeof currentEasing === 'function' ? currentEasing(elapsed) : defaultEasing(elapsed);\n            if (typeof end === 'number') {\n                object[property] = start + (end - start) * value;\n            } else if (typeof end === 'boolean') {\n                object[property] = end;\n                elapsed = _reversed ? 0 : 1;\n            } else {//颜色\n                recompose(property, object, startV, _valuesEnd, value, elapsed);\n            }\n            // else if (Array.isArray(end) && !(end as any).isString && !Array.isArray(start)) {\n            //     const _interpolationFunctionCall = _interpolationFunction[property]\n            //     ? _interpolationFunction[property] : typeof _interpolationFunction === 'function' ? _interpolationFunction : Interpolation.Linear;\n            //     object[property] = _interpolationFunctionCall(end, value, object[property]);\n            // } \n        }\n        this.onFunction(TweenEvent.update, object, elapsed);\n\n        if (elapsed === 1 || (_reversed && elapsed === 0)) {\n            this._prevTime = 0;\n            if (_repeat > 0 && _duration > 0) {\n                if (_isFinite) {\n                    this._repeat--;\n                }\n\n                if (_yoyo) {\n                    this._reversed = !_reversed;\n                }\n                this.onFunction(_yoyo && !_reversed ? TweenEvent.reverse : TweenEvent.repeat, object);\n\n                if (_reversed && _reverseDelayTime) {\n                    this._startTime = _reverseDelayTime;\n                } else {\n                    this._startTime = _delayTime;\n                }\n                return true;\n            } else {\n                if (!preserve) {\n                    this.isPlaying = false;\n                    remove(this);\n                }\n                this.onFunction(TweenEvent.complete, object);\n                this._repeat = this._initRepeat;\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public release() {\n        this.object = undefined;\n        this.stop();\n    }\n}\n","import { isRGBColor, RGBA, STRING_PROP } from './constants'\n\n/**\n * 差值计算列表\n * @example\n *\n * let bezier = vf.gui.tween.Interpolation.Bezier\n * new vf.gui.tween.Tween({x:0}).to({x:[0, 4, 8, 12, 15, 20, 30, 40, 20, 40, 10, 50]}, 1000).interpolation(bezier).start()\n * @memberof vf.gui.tween\n */\nexport const Interpolation = {\n    Linear(v: any, k: number, value: any) {\n        const m = v.length - 1\n        const f = m * k\n        const i = Math.floor(f)\n        const fn = Interpolation.Utils.Linear\n\n        if (k < 0) {\n            return fn(v[0], v[1], f, value)\n        }\n        if (k > 1) {\n            return fn(v[m], v[m - 1], m - f, value)\n        }\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i, value)\n    },\n\n    Bezier(v: any, k: number, value: any) {\n        let b = Interpolation.Utils.Reset(value)\n        const n = v.length - 1\n        const pw = Math.pow\n        const fn = Interpolation.Utils.Bernstein\n\n        const isBArray = Array.isArray(b)\n\n        for (let i = 0; i <= n; i++) {\n            if (typeof b === 'number') {\n                b += pw(1 - k, n - i) * pw(k, i) * v[i] * fn(n, i)\n            } else if (isBArray) {\n                for (let p = 0, len = b.length; p < len; p++) {\n                    if (typeof b[p] === 'number') {\n                        b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n                    } else {\n                        b[p] = v[i][p]\n                    }\n                }\n            } else if (typeof b === 'object') {\n                for (const p in b) {\n                    if (typeof b[p] === 'number') {\n                        b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n                    } else {\n                        b[p] = v[i][p]\n                    }\n                }\n            } else if (typeof b === 'string') {\n                let STRING_BUFFER = ''\n                const idx = Math.round(n * k)\n                const vCurr = v[idx]\n                for (let ks = 1, len = vCurr.length; ks < len; ks++) {\n                    STRING_BUFFER += vCurr[ks]\n                }\n                return STRING_BUFFER\n            }\n        }\n\n        return b\n    },\n\n    CatmullRom(v: any, k: number, value: any) {\n        const m = v.length - 1\n        let f = m * k\n        let i = Math.floor(f)\n        const fn = Interpolation.Utils.CatmullRom\n\n        if (v[0] === v[m]) {\n            if (k < 0) {\n                i = Math.floor((f = m * (1 + k)))\n            }\n\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i, value)\n        } else {\n            if (k < 0) {\n                return fn(v[1], v[1], v[0], v[0], -k, value)\n            }\n\n            if (k > 1) {\n                return fn(v[m - 1], v[m - 1], v[m], v[m], (k | 0) - k, value)\n            }\n\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i, value)\n        }\n    },\n\n    Utils: {\n        Linear(p0: any, p1: any, t: any, v: any) {\n            if (p0 === p1 || typeof p0 === 'string') {\n                // Quick return for performance reason\n                if (p1.length && p1.splice && p1.isString) {\n                    p1 = ''\n                    for (let i = 0, len = p0.length; i < len; i++) {\n                        p1 += p0[i]\n                    }\n                }\n                return p1\n            } else if (typeof p0 === 'number') {\n                return typeof p0 === 'function' ? (p0 as any)(t) : p0 + (p1 - p0) * t\n            } else if (typeof p0 === 'object') {\n                if (p0.length !== undefined) {\n                    const isForceStringProp = typeof p0[0] === 'string' || p0.isString\n                    if (isForceStringProp || p0[0] === STRING_PROP) {\n                        let STRING_BUFFER = ''\n                        for (let i = isForceStringProp ? 0 : 1, len = p0.length; i < len; i++) {\n                            let currentValue =\n                                t === 0 ? p0[i] : t === 1 ? p1[i] : typeof p0[i] === 'number' ? p0[i] + (p1[i] - p0[i]) * t : p1[i]\n                            if ((t > 0 && t < 1 && isRGBColor(p0, i)) || isRGBColor(p0, i, RGBA)) {\n                                currentValue |= 0\n                            }\n                            STRING_BUFFER += currentValue\n                        }\n                        return STRING_BUFFER\n                    } else if (v && v.length && v.splice) {\n                        for (let p = 0, len = v.length; p < len; p++) {\n                            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n                        }\n                    }\n                } else {\n                    for (const p in v) {\n                        v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n                    }\n                }\n                return v\n            }\n        },\n\n        Reset(value: any) {\n            if (Array.isArray(value)) {\n                for (let i = 0, len = value.length; i < len; i++) {\n                    value[i] = Interpolation.Utils.Reset(value[i])\n                }\n                return value\n            } else if (typeof value === 'object') {\n                for (const i in value) {\n                    value[i] = Interpolation.Utils.Reset(value[i])\n                }\n                return value\n            } else if (typeof value === 'number') {\n                return 0\n            }\n            return value\n        },\n\n        Bernstein(n: any, i: any) {\n            const fc = Interpolation.Utils.Factorial\n\n            return fc(n) / fc(i) / fc(n - i)\n        },\n\n        Factorial: (function () {\n            const a = [1]\n\n            return (n: any) => {\n                let s = 1\n\n                if (a[n]) {\n                    return a[n]\n                }\n\n                for (let i = n; i > 1; i--) {\n                    s *= i\n                }\n\n                a[n] = s\n                return s\n            }\n        })(),\n\n        CatmullRom(p0: any, p1: any, p2: any, p3: any, t: any, v?: any) {\n            if (typeof p0 === 'string') {\n                return p1\n            } else if (typeof p0 === 'number') {\n                const v0 = (p2 - p0) * 0.5\n                const v1 = (p3 - p1) * 0.5\n                const t2 = t * t\n                const t3 = t * t2\n\n                return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1\n            } else if (typeof p0 === 'object') {\n                if (p0.length !== undefined) {\n                    if (p0[0] === STRING_PROP) {\n                        let STRING_BUFFER = ''\n                        for (let i = 1, len = p0.length; i < len; i++) {\n                            let currentValue =\n                                typeof p0[i] === 'number' ? Interpolation.Utils.CatmullRom(p0[i], p1[i], p2[i], p3[i], t) : p3[i]\n                            if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                                currentValue |= 0\n                            }\n                            STRING_BUFFER += currentValue\n                        }\n                        return STRING_BUFFER\n                    }\n                    for (let p = 0, len = v.length; p < len; p++) {\n                        v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p])\n                    }\n                } else {\n                    for (const p in v) {\n                        v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p])\n                    }\n                }\n                return v\n            }\n        }\n    }\n}\n\n\n","import { hexToRgb } from \"../../utils/Utils\";\n/**\n * 卡帧后的平滑处理帧率\n */\nexport const FRAME_MS = 50 / 3;\n/**\n * 平滑处理允许的触发时间\n */\nexport const TOO_LONG_FRAME_MS = 250;\n/**\n * 链式补间动画的key前缀\n */\nexport const CHAINED_TWEENS = '_chainedTweens';\n// For String tweening stuffs\nexport const STRING_PROP = 'STRING_PROP';\n// Also RegExp's for string tweening\nexport const NUM_REGEX = /\\s+|([A-Za-z?().,{}:\"\"[\\]#%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g;\n\n\n\nconst isNaNForST = (v: string) => isNaN(+v) || ((v[0] === '+' || v[0] === '-') && v[1] === '=') || v === '' || v === ' ';\nconst hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/gi;\nconst hex2rgbext = (all: string, ...hex: any[]) => {\n    let rgb = hexToRgb(all);\n    return 'rgb(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ')';\n}\n\nexport function decomposeString(fromValue: string | any) {\n    if (fromValue && fromValue.splice && fromValue.isString) {\n        return fromValue;\n    }\n    if (typeof fromValue !== 'string') {\n        return fromValue;\n    }\n    if (fromValue.charAt(1) === '=') {\n        return fromValue;\n    }\n    const hex = fromValue.replace(hexColor, hex2rgbext).match(NUM_REGEX);\n    let value: any;\n    if (hex && hex.map) {\n        value = hex.map((v) => (isNaNForST(v) ? v : +v));\n    }\n    value.isString = true;\n    return value;\n}\n\n// Decompose value, now for only `string` that required\nexport function decompose(prop: any, obj: any, from: any, to: any): any {\n    const fromValue: any = from[prop];\n    const toValue: any = to[prop];\n\n    if (fromValue === toValue) {\n        return true;\n    } else if (Array.isArray(fromValue) && Array.isArray(toValue) && fromValue.length === toValue.length) {\n        for (let i = 0, len = toValue.length; i < len; i++) {\n            const a = fromValue[i];\n            const b = toValue[i];\n\n            if (a === b || (typeof a === 'number' && typeof b === 'number')) {\n                continue;\n            } else {\n                decompose(i, obj[prop], fromValue, toValue);\n            }\n        }\n    }\n    if (typeof fromValue === 'number' && typeof toValue === 'number') {\n        //\n    } else if (fromValue && fromValue.splice && fromValue.isString && toValue && toValue.splice && toValue.isString) {\n        //\n    } else if (typeof fromValue === 'string' && Array.isArray(toValue)) {\n        const fromValue1 = decomposeString(fromValue);\n        const toValues = toValue.map(decomposeString);\n\n        from[prop] = fromValue1;\n        to[prop] = toValues;\n        return true;\n    } else if (typeof fromValue === 'string' || typeof toValue === 'string') {\n        let fromValue1 = Array.isArray(fromValue) && fromValue[0] === STRING_PROP ? fromValue : decomposeString(fromValue);\n        let toValue1 = Array.isArray(toValue) && toValue[0] === STRING_PROP ? toValue : decomposeString(toValue);\n\n        if (fromValue1 === undefined) {\n            return;\n        }\n        let i = 1\n        while (i < fromValue1.length) {\n            if (fromValue1[i] === toValue1[i] && typeof fromValue1[i - 1] === 'string') {\n                fromValue1.splice(i - 1, 2, fromValue1[i - 1] + fromValue1[i]);\n                toValue1.splice(i - 1, 2, toValue1[i - 1] + toValue1[i]);\n            } else {\n                i++;\n            }\n        }\n\n        i = 0;\n\n        if (fromValue1[0] === STRING_PROP) {\n            fromValue1.shift();\n        }\n        if (toValue1[0] === STRING_PROP) {\n            toValue1.shift();\n        }\n\n        from[prop] = fromValue1;\n        to[prop] = toValue1;\n        return true;\n    } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n        if (Array.isArray(fromValue) && !(fromValue as any).isString && fromValue.map) {\n            return fromValue.map((v, i) => decompose(i, obj[prop], fromValue, toValue));\n        } else {\n            for (const prop2 in toValue) {\n                decompose(prop2, obj[prop], fromValue, toValue);\n            }\n        }\n        return true;\n    }\n    return false;\n}\n\n// Recompose value\nexport const RGB = 'rgb(';\nexport const RGBA = 'rgba(';\n\nexport function isRGBColor(v: any, i: number, r = RGB) {\n    return typeof v[i] === 'number' && (v[i - 1] === r || v[i - 3] === r || v[i - 5] === r);\n}\n\n\n\nexport function recompose(prop: any, obj: any, from: any, to: any, t: any, originalT: any, stringBuffer?: any) {\n    const fromValue = stringBuffer ? from : from[prop]\n    let toValue = stringBuffer ? to : to[prop]\n    if (toValue === undefined) {\n        return fromValue\n    }\n    if (fromValue === undefined || typeof fromValue === 'string' || fromValue === toValue) {\n        return toValue\n    } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n        if (!fromValue || !toValue) {\n            return obj[prop]\n        }\n        if (\n            typeof fromValue === 'object' &&\n            !!fromValue &&\n            fromValue.isString &&\n            toValue &&\n            toValue.splice &&\n            toValue.isString\n        ) {\n            let STRING_BUFFER = ''\n            for (let i = 0, len = fromValue.length; i < len; i++) {\n                if (fromValue[i] !== toValue[i] || typeof fromValue[i] !== 'number' || typeof toValue[i] === 'number') {\n                    const isRelative = typeof fromValue[i] === 'number' && typeof toValue[i] === 'string' && toValue[i][1] === '='\n                    let currentValue =\n                        typeof fromValue[i] !== 'number'\n                            ? fromValue[i]\n                            : isRelative\n                                ? fromValue[i] + parseFloat(toValue[i][0] + toValue[i].substr(2)) * t\n                                : fromValue[i] + (toValue[i] - fromValue[i]) * t\n                    if (isRGBColor(fromValue, i) || isRGBColor(fromValue, i, RGBA)) {\n                        currentValue |= 0\n                    }\n                    STRING_BUFFER += currentValue\n                    if (isRelative && originalT === 1) {\n                        fromValue[i] = fromValue[i] + parseFloat(toValue[i][0] + toValue[i].substr(2))\n                    }\n                } else {\n                    STRING_BUFFER += fromValue[i]\n                }\n            }\n            if (!stringBuffer) {\n                obj[prop] = STRING_BUFFER\n            }\n            return STRING_BUFFER\n        } else if (Array.isArray(fromValue) && fromValue[0] !== STRING_PROP) {\n            for (let i = 0, len = fromValue.length; i < len; i++) {\n                if (fromValue[i] === toValue[i] || typeof obj[prop] === 'string') {\n                    continue\n                }\n                recompose(i, obj[prop], fromValue, toValue, t, originalT)\n            }\n        } else if (typeof fromValue === 'object' && !!fromValue && !fromValue.isString) {\n            for (let i in fromValue) {\n                if (fromValue[i] === toValue[i]) {\n                    continue\n                }\n                recompose(i, obj[prop], fromValue, toValue, t, originalT)\n            }\n        }\n    } else if (typeof fromValue === 'number') {\n        const isRelative = typeof toValue === 'string'\n        obj[prop] = isRelative\n            ? fromValue + parseFloat(toValue[0] + toValue.substr(2)) * t\n            : fromValue + (toValue - fromValue) * t\n        if (isRelative && originalT === 1) {\n            from[prop] = obj[prop]\n        }\n    } else if (typeof toValue === 'function') {\n        obj[prop] = toValue(t)\n    }\n    return obj[prop]\n}\n\n// Dot notation => Object structure converter\n// example\n// {'scale.x.y.z':'VALUE'} => {scale:{x:{y:{z:'VALUE'}}}}\n// Only works for 3-level parsing, after 3-level, parsing dot-notation not works as it's not affects\nconst propRegExp = /([.[])/g\nconst replaceBrace = /\\]/g\nconst propExtract = function (obj: any, property: any) {\n    const value = obj[property]\n    const props = property.replace(replaceBrace, '').split(propRegExp)\n    const propsLastIndex = props.length - 1\n    let lastArr = Array.isArray(obj)\n    let lastObj = typeof obj === 'object' && !lastArr\n    if (lastObj) {\n        obj[property] = null\n        delete obj[property]\n    } else if (lastArr) {\n        obj.splice(property, 1)\n    }\n    return props.reduce((nested: any, prop: any, index: number) => {\n        if (lastArr) {\n            if (prop !== '.' && prop !== '[') {\n                prop *= 1\n            }\n        }\n        let nextProp = props[index + 1]\n        let nextIsArray = nextProp === '['\n        if (prop === '.' || prop === '[') {\n            if (prop === '.') {\n                lastObj = true\n                lastArr = false\n            } else if (prop === '[') {\n                lastObj = false\n                lastArr = true\n            }\n            return nested\n        } else if (nested[prop] === undefined) {\n            if (lastArr || lastObj) {\n                nested[prop] = index === propsLastIndex ? value : lastArr || nextIsArray ? [] : lastObj ? {} : null\n                lastObj = lastArr = false\n                return nested[prop]\n            }\n        } else if (nested[prop] !== undefined) {\n            if (index === propsLastIndex) {\n                nested[prop] = value\n            }\n            return nested[prop]\n        }\n        return nested\n    }, obj)\n}\n\nexport const SET_NESTED = function (nested: any) {\n    if (typeof nested === 'object' && !!nested) {\n        for (let prop in nested) {\n            if (prop.indexOf('.') !== -1 || prop.indexOf('[') !== -1) {\n                propExtract(nested, prop)\n            } else if (typeof nested[prop] === 'object' && !!nested[prop]) {\n                let nested2 = nested[prop]\n                for (let prop2 in nested2) {\n                    if (prop2.indexOf('.') !== -1 || prop2.indexOf('[') !== -1) {\n                        propExtract(nested2, prop2)\n                    } else if (typeof nested2[prop2] === 'object' && !!nested2[prop2]) {\n                        let nested3 = nested2[prop2]\n                        for (let prop3 in nested3) {\n                            if (prop3.indexOf('.') !== -1 || prop3.indexOf('[') !== -1) {\n                                propExtract(nested3, prop3)\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return nested\n}\n","import { Tween } from \"../Tween\";\nimport { TickerShared } from \"../../core/Ticker\";\nimport { TimeLine } from \"../Timeline\";\n\n/**\n * 缓动列表\n * @private\n */\nconst _tweens: Tween[] = [];\n/**\n * timeline 列表\n */\nconst _timeLines: TimeLine[] = [];\n/**\n * 是否运行中\n */\nlet isStarted = false;\n/**\n * 空帧标识\n */\nlet emptyFrame = 0;\n/**\n * 空帧后最大间隔帧率\n */\nlet powerModeThrottle = 120;\n/**\n * 是否开启卡针后平滑处理\n */\nlet handleLag = true;\n\n/**\n * 插件存储器\n * @memberof vf.gui.tween\n * @example\n * let num = Plugins.num = function (node, start, end) {\n  * return t => start + (end - start) * t\n  * }\n  *\n  * @static\n  */\nexport const Plugins: any = {};\n\n/**\n * 添加对象到缓动列表\n * @param {Tween} tween Tween 实例\n * @memberof vf.gui.tween\n * @example\n * let tween = new vf.gui.tween.Tween({x:0})\n * tween.to({x:200}, 1000)\n * vf.gui.tween.add(tween)\n */\nexport function add(tween: Tween) {\n    const i = _tweens.indexOf(tween);\n\n    if (i > -1) {\n        _tweens.splice(i, 1);\n    }\n\n    _tweens.push(tween);\n\n    emptyFrame = 0;\n\n    isStarted = true;\n}\n\n/**\n * 没有缓动后，设置运行多少帧后，停止\n * @param {number} frameCount=120 删除所有动画后，要运行的剩余帧\n * @memberof vf.gui.tween\n * @example\n * vf.gui.tween.FrameThrottle(60)\n */\nexport function FrameThrottle(frameCount = 120) {\n    powerModeThrottle = frameCount * 1.05;\n}\n\n/**\n * 延时处理，针对插件、canvas、dom\n * @param {number} state=true 是否平滑处理\n * @memberof vf.gui.tween\n * @example\n * vf.gui.tween.ToggleLagSmoothing(false)\n */\nexport function ToggleLagSmoothing(_state = true) {\n    handleLag = _state;\n}\n\n/**\n * 获得所有缓动对象\n * @memberof vf.gui.tween\n * vf.gui.tween.getAll() \n */\nexport function getAll() {\n    return _tweens;\n}\n\n/**\n * 移除所有动画对象\n * @example  vf.gui.tween.removeAll()\n * @memberof vf.gui.tween\n */\nexport function removeAll() {\n    _tweens.length = 0;\n    isStarted = false;\n}\n\n/**\n * 获取对象\n * @param {Tween} tween 缓动对象实例 \n * @return {Tween} 返回对象或null\n * @memberof vf.gui.tween\n * @example\n * vf.gui.tween.get(tween)\n */\nexport function get(tween: Tween) {\n    for (let i = 0; i < _tweens.length; i++) {\n        if (tween === _tweens[i]) {\n            return _tweens[i];\n        }\n    }\n    return null;\n}\n\n/**\n * 从缓动列表移除对象\n * @param {Tween} tween Tween instance\n * @memberof vf.gui.tween\n * @example\n * vf.gui.tween.remove(tween)\n */\nexport function remove(tween: Tween) {\n    const i = _tweens.indexOf(tween)\n    if (i !== -1) {\n        _tweens.splice(i, 1)\n    }\n    if (_tweens.length === 0) {\n        isStarted = false;\n    }\n}\n\n\nexport function removeDisplay(uuid: string) {\n    for (let i = 0; i < _tweens.length; i++) {\n        if (_tweens[i].object.uuid && uuid === _tweens[i].object.uuid) {\n            _tweens[i].stop();\n            remove(_tweens[i]);\n            return;\n        }\n    }\n    return;\n}\n\n/**\n * 按给定时间更新缓动\n * @param {number=} time 时间戳\n * @param {Boolean=} preserve 完成后，防止删除动画对象\n * @memberof vf.gui.tween\n * @example\n * vf.gui.tween.update(500)\n */\n\nexport function update(deltaTime: number) {\n    if (!isStarted) {\n        return false;\n    }\n    if (emptyFrame >= powerModeThrottle && handleLag) {\n        console.log(\"mptyFrame >= powerModeThrottle && handleLag\");\n        isStarted = false;\n        emptyFrame = 0;\n        return false;\n    }\n\n    if (!_tweens.length) {\n        emptyFrame++;\n    }\n\n    let i = 0;\n    let length = _tweens.length;\n    while (i < length) {\n        _tweens[i++].update(TickerShared.deltaMS, false);\n        if (length > _tweens.length) {\n            // The tween has been removed, keep same index\n            i--;\n        }\n\n        length = _tweens.length;\n    }\n    return true;\n}\n\n/**\n * 是否正在运行中\n * @return {Boolean} 只要还有缓动在运行，返回true\n * @memberof vf.gui.tween\n * @example vf.gui.tween.isRunning()\n */\nexport function isRunning() {\n    return isStarted;\n}\n\n/**\n * 返回是否开启延迟平滑状态\n * @return {Boolean} \n * @memberof vf.gui.tween\n * @example vf.gui.tween.isRunning()\n */\nexport function isLagSmoothing() {\n    return handleLag;\n}\n\n/**\n * 添加到列表\n */\nexport function addTimeLine(timeLine: TimeLine) {\n    const i = _timeLines.indexOf(timeLine);\n    if (i > -1) {\n        _timeLines.splice(i, 1);\n    }\n    _timeLines.push(timeLine);\n}\n\n/**\n * 移除列表\n */\nexport function removeTimeLine(timeLine: TimeLine) {\n    const i = _timeLines.indexOf(timeLine)\n    if (i !== -1) {\n        _timeLines.splice(i, 1)\n    }\n}\n/**\n * 销毁所有\n */\nexport function releaseAllTimeLine() {\n    _timeLines.forEach(item => {\n        if (item) {\n            item.release();\n        }\n    });\n    _timeLines.length = 0;\n}\n","import {\n    add,\n    get,\n    getAll,\n    isRunning,\n    FrameThrottle,\n    ToggleLagSmoothing,\n    Plugins,\n    remove,\n    removeAll,\n    removeDisplay,\n    update,\n    addTimeLine,\n    removeTimeLine,\n    releaseAllTimeLine\n} from './core'\nimport { Interpolation } from './Interpolation'\nimport * as utils from './constants'\nimport { TweenEvent } from \"../../event/TweenEvent\"\nimport { TimeLine } from '../TimeLine'\nexport {\n    Plugins,\n    get,\n    getAll,\n    removeAll,\n    remove,\n    removeDisplay,\n    add,\n    update,\n    releaseAllTimeLine,\n    addTimeLine,\n    removeTimeLine,\n    isRunning,\n    FrameThrottle,\n    ToggleLagSmoothing,\n    Interpolation,\n    TweenEvent,\n    TimeLine,\n    utils\n}\n\n","/* eslint-disable */\nimport { FrameInfo, GifReader } from './GifReader';\n\nexport class GifFrames {\n\n    private _frames: Array<GifFrame> = [];\n\n    private _gif: GifReader;\n\n    constructor(_resource: vf.LoaderResource | ArrayBuffer) {\n        this._gif = new GifReader('data' in _resource ? _resource.data : _resource);\n        let singleTextureWidth: number = this.calcSingleTextureWidth();\n        let imageData = document?.createElement('canvas')?.getContext('2d')?.createImageData(this._gif.width, this._gif.height);\n\n        if (isNaN(singleTextureWidth)) {\n            for (let i = 0; i < this._gif.numFrames; i++) {\n                //得到每帧的信息并将帧延迟信息保存起来\n                let gifFrameInfo = this._gif.getFrameInfo(i);\n                this._frames.push(new GifFrame(i, this.generateTextureFromGifData(imageData as any, this._gif, i), gifFrameInfo.delay * 10));\n            }\n        } else {\n            let cols: number = Math.floor(singleTextureWidth / (this._gif.width + 1));\n            let rows: number = Math.ceil(this._gif.numFrames / cols);\n            let gridSize: vf.Point = new vf.Point(this._gif.width + 1, this._gif.height + 1);\n            let canvas: HTMLCanvasElement = document.createElement('canvas');\n            canvas.width = gridSize.x * cols - 1;\n            canvas.height = gridSize.y * rows - 1;\n\n            let ctx = canvas.getContext('2d');\n            let lastFrame = undefined;\n            for (let i = 0; i < this._gif.numFrames; i++) {\n                let col = i % cols;\n                let row = Math.floor(i / cols);\n                if (lastFrame && lastFrame.disposal == 2) {\n                    imageData?.data.fill(0);\n                }\n                lastFrame = this._gif.decodeAndBlitFrameRGBA(i, imageData?.data as any);\n                ctx?.putImageData(imageData as any, col * gridSize.x, row * gridSize.y);\n            }\n\n            let spriteSheet = vf.BaseTexture.from(canvas);\n            for (let i = 0; i < this._gif.numFrames; i++) {\n                let col = i % cols;\n                let row = Math.floor(i / cols);\n                let gifFrameInfo = this._gif.getFrameInfo(i);\n                let texture = new vf.Texture(spriteSheet, new vf.Rectangle(col * gridSize.x, row * gridSize.y, this._gif.width, this._gif.height));\n                this._frames.push(new GifFrame(i, texture, gifFrameInfo.delay * 10));\n            }\n        }\n    }\n\n    private calcSingleTextureWidth(): number {\n        let sizeList = [1024, 2048, 3072, 4096];\n        for (let size of sizeList) {\n            let cols: number = Math.floor(size / (this._gif.width + 1));\n            let rows: number = Math.floor(size / (this._gif.height + 1));\n            if (cols * rows >= this._gif.numFrames) {\n                return size;\n            }\n        }\n        return Number.NaN;\n    }\n\n    public get gif(): GifReader {\n        return this._gif;\n    }\n\n    public get frames(): Array<GifFrame> {\n        return this._frames;\n    }\n\n    private generateTextureFromGifData(imageData: ImageData, gif: GifReader, frame: number): vf.Texture {\n        let canvas: HTMLCanvasElement = document.createElement('canvas');\n        canvas.width = gif.width;\n        canvas.height = gif.height;\n\n        const ctx = canvas.getContext('2d');\n\n        //将第一帧转换为RGBA值，将赋予到图像区\n        gif.decodeAndBlitFrameRGBA(frame, imageData.data);\n\n        //将上面创建的图像数据放回到画面上\n        ctx?.putImageData(imageData, 0, 0);\n\n        let spriteSheet = vf.BaseTexture.from(canvas);\n        return new vf.Texture(spriteSheet, new vf.Rectangle(0, 0, gif.width, gif.height));\n    }\n\n    public get numFrames(): number {\n        return this._frames.length;\n    }\n\n    public getFrame(index: number): GifFrame {\n        if (index < 0 || index >= this._frames.length) {\n            throw new Error('Gif Frame Index out of range');\n        }\n        return this._frames[index];\n    }\n}\n\nexport class GifFrame {\n\n    constructor(public index: number, public texture: vf.Texture, public delayTime: number) {\n\n    }\n}","/* eslint-disable */\nexport class GifReader {\n\n    private _width: number;\n\n    private _height: number;\n\n    private _frames: Array<FrameInfo> = [];\n\n    private _loop_count = NaN;\n\n    private _buf: Uint8Array;\n\n    constructor(arrayBuffer: ArrayBuffer) {\n        var p = 0;\n        this._buf = new Uint8Array(arrayBuffer);\n        let buf = this._buf;\n        // - Header (GIF87a or GIF89a).\n        if (buf[p++] !== 0x47 || buf[p++] !== 0x49 || buf[p++] !== 0x46 ||\n            buf[p++] !== 0x38 || (buf[p++] + 1 & 0xfd) !== 0x38 || buf[p++] !== 0x61) {\n\n            throw new Error(\"Invalid GIF 87a/89a header.\");\n        }\n\n        // - Logical Screen Descriptor.\n        var width = buf[p++] | buf[p++] << 8;\n        var height = buf[p++] | buf[p++] << 8;\n        var pf0 = buf[p++]; // <Packed Fields>.\n        var global_palette_flag = pf0 >> 7;\n        var num_global_colors_pow2 = pf0 & 0x7;\n        var num_global_colors = 1 << (num_global_colors_pow2 + 1);\n        var background = buf[p++];\n        buf[p++]; // Pixel aspect ratio (unused?).\n\n        var global_palette_offset = NaN;\n        var global_palette_size = NaN;\n\n        if (global_palette_flag) {\n            global_palette_offset = p;\n            global_palette_size = num_global_colors;\n            p += num_global_colors * 3; // Seek past palette.\n        }\n\n        var no_eof = true;\n\n        var delay = 0;\n        var transparent_index = NaN;\n\n        // From the spec:\n        //     0 -   No disposal specified. The decoder is\n        //           not required to take any action.\n        //     1 -   Do not dispose. The graphic is to be left\n        //           in place.\n        //     2 -   Restore to background color. The area used by the\n        //           graphic must be restored to the background color.\n        //     3 -   Restore to previous. The decoder is required to\n        //           restore the area overwritten by the graphic with\n        //           what was there prior to rendering the graphic.\n        //  4-7 -    To be defined.\n        // NOTE(deanm): Dispose background doesn't really work, apparently most\n        // browsers ignore the background palette index and clear to transparency.\n        var disposal = 0; // 0 - No disposal specified.\n\n        this._width = width;\n        this._height = height;\n\n        while (no_eof && p < buf.length) {\n            switch (buf[p++]) {\n                case 0x21: // Graphics Control Extension Block\n                    switch (buf[p++]) {\n                        case 0xff: // Application specific block\n                            // Try if it's a Netscape block (with animation loop counter).\n                            if (buf[p] !== 0x0b || // 21 FF already read, check block size.\n                                // NETSCAPE2.0\n                                buf[p + 1] == 0x4e && buf[p + 2] == 0x45 && buf[p + 3] == 0x54 &&\n                                buf[p + 4] == 0x53 && buf[p + 5] == 0x43 && buf[p + 6] == 0x41 &&\n                                buf[p + 7] == 0x50 && buf[p + 8] == 0x45 && buf[p + 9] == 0x32 &&\n                                buf[p + 10] == 0x2e && buf[p + 11] == 0x30 &&\n                                // Sub-block\n                                buf[p + 12] == 0x03 && buf[p + 13] == 0x01 && buf[p + 16] == 0) {\n                                p += 14;\n                                this._loop_count = buf[p++] | buf[p++] << 8;\n                                p++; // Skip terminator.\n                            } else { // We don't know what it is, just try to get past it.\n                                p += 12;\n                                while (true) { // Seek through subblocks.\n                                    var block_size = buf[p++];\n                                    // Bad block size (ex: undefined from an out of bounds read).\n                                    if (!(block_size >= 0)) throw Error(\"Invalid block size\");\n                                    if (block_size === 0) break; // 0 size is terminator\n                                    p += block_size;\n                                }\n                            }\n                            break;\n\n                        case 0xf9: // Graphics Control Extension\n                            if (buf[p++] !== 0x4 || buf[p + 4] !== 0)\n                                throw new Error(\"Invalid graphics extension block.\");\n                            var pf1 = buf[p++];\n                            delay = buf[p++] | buf[p++] << 8;\n                            transparent_index = buf[p++];\n                            if ((pf1 & 1) === 0) transparent_index = NaN;\n                            disposal = pf1 >> 2 & 0x7;\n                            p++; // Skip terminator.\n                            break;\n\n                        case 0x01: // Plain Text Extension (fallthrough to Comment Extension)\n                        case 0xfe: // Comment Extension.\n                            while (true) { // Seek through subblocks.\n                                var block_size = buf[p++];\n                                // Bad block size (ex: undefined from an out of bounds read).\n                                if (!(block_size >= 0)) throw Error(\"Invalid block size\");\n                                if (block_size === 0) break; // 0 size is terminator\n                                // console.log(buf.slice(p, p+block_size).toString('ascii'));\n                                p += block_size;\n                            }\n                            break;\n\n                        default:\n                            throw new Error(\n                                \"Unknown graphic control label: 0x\" + buf[p - 1].toString(16));\n                    }\n                    break;\n\n                case 0x2c: // Image Descriptor.\n                    var x = buf[p++] | buf[p++] << 8;\n                    var y = buf[p++] | buf[p++] << 8;\n                    var w = buf[p++] | buf[p++] << 8;\n                    var h = buf[p++] | buf[p++] << 8;\n                    var pf2 = buf[p++];\n                    var local_palette_flag = pf2 >> 7;\n                    var interlace_flag = pf2 >> 6 & 1;\n                    var num_local_colors_pow2 = pf2 & 0x7;\n                    var num_local_colors = 1 << (num_local_colors_pow2 + 1);\n                    var palette_offset = global_palette_offset;\n                    var palette_size = global_palette_size;\n                    var has_local_palette = false;\n                    if (local_palette_flag) {\n                        var has_local_palette = true;\n                        palette_offset = p; // Override with local palette.\n                        palette_size = num_local_colors;\n                        p += num_local_colors * 3; // Seek past palette.\n                    }\n\n                    var data_offset = p;\n\n                    p++; // codesize\n                    while (true) {\n                        var block_size = buf[p++];\n                        // Bad block size (ex: undefined from an out of bounds read).\n                        if (!(block_size >= 0)) throw Error(\"Invalid block size\");\n                        if (block_size === 0) break; // 0 size is terminator\n                        p += block_size;\n                    }\n\n                    this._frames.push({\n                        x: x,\n                        y: y,\n                        width: w,\n                        height: h,\n                        has_local_palette: has_local_palette,\n                        palette_offset: palette_offset,\n                        palette_size: palette_size,\n                        data_offset: data_offset,\n                        data_length: p - data_offset,\n                        transparent_index: transparent_index,\n                        interlaced: !!interlace_flag,\n                        delay: delay,\n                        disposal: disposal\n                    });\n                    break;\n\n                case 0x3b: // Trailer Marker (end of file).\n                    no_eof = false;\n                    break;\n\n                default:\n                    throw new Error(\"Unknown gif block: 0x\" + buf[p - 1].toString(16));\n                    break;\n            }\n        }\n    }\n\n    get width(): number {\n        return this._width;\n    }\n\n    get height(): number {\n        return this._height;\n    }\n\n    get numFrames(): number {\n        return this._frames.length;\n    };\n\n    get loopCount(): number {\n        return this._loop_count;\n    };\n\n    getFrameInfo(frame_num: number): FrameInfo {\n        if (frame_num < 0 || frame_num >= this._frames.length) {\n            throw new Error(\"Frame index out of range.\");\n        }\n        return this._frames[frame_num];\n    }\n\n    decodeAndBlitFrameBGRA(frame_num: number, pixels: Uint8ClampedArray): FrameInfo {\n        let buf = this._buf;\n        var frame = this.getFrameInfo(frame_num);\n        var num_pixels = frame.width * frame.height;\n\n        var index_stream = new Uint8Array(num_pixels); // At most 8-bit indices.\n        GifReaderLZWOutputIndexStream(\n            buf, frame.data_offset, index_stream, num_pixels);\n        var palette_offset = frame.palette_offset;\n\n        // NOTE(deanm): It seems to be much faster to compare index to 256 than\n        // to === null.  Not sure why, but CompareStub_EQ_STRICT shows up high in\n        // the profile, not sure if it's related to using a Uint8Array.\n        var trans = frame.transparent_index;\n        if (trans === null) trans = 256;\n\n        // We are possibly just blitting to a portion of the entire frame.\n        // That is a subrect within the framerect, so the additional pixels\n        // must be skipped over after we finished a scanline.\n        var framewidth = frame.width;\n        var framestride = this._width - framewidth;\n        var xleft = framewidth; // Number of subrect pixels left in scanline.\n\n        // Output indicies of the top left and bottom right corners of the subrect.\n        var opbeg = ((frame.y * this._width) + frame.x) * 4;\n        var opend = ((frame.y + frame.height) * this._width + frame.x) * 4;\n        var op = opbeg;\n\n        var scanstride = framestride * 4;\n\n        // Use scanstride to skip past the rows when interlacing.  This is skipping\n        // 7 rows for the first two passes, then 3 then 1.\n        if (frame.interlaced === true) {\n            scanstride += this._width * 4 * 7; // Pass 1.\n        }\n\n        var interlaceskip = 8; // Tracking the row interval in the current pass.\n\n        for (var i = 0, il = index_stream.length; i < il; ++i) {\n            var index = index_stream[i];\n\n            if (xleft === 0) { // Beginning of new scan line\n                op += scanstride;\n                xleft = framewidth;\n                if (op >= opend) { // Catch the wrap to switch passes when interlacing.\n                    scanstride = framestride * 4 + this._width * 4 * (interlaceskip - 1);\n                    // interlaceskip / 2 * 4 is interlaceskip << 1.\n                    op = opbeg + (framewidth + framestride) * (interlaceskip << 1);\n                    interlaceskip >>= 1;\n                }\n            }\n\n            if (index === trans) {\n                op += 4;\n            } else {\n                var r = buf[palette_offset + index * 3];\n                var g = buf[palette_offset + index * 3 + 1];\n                var b = buf[palette_offset + index * 3 + 2];\n                pixels[op++] = b;\n                pixels[op++] = g;\n                pixels[op++] = r;\n                pixels[op++] = 255;\n            }\n            --xleft;\n        }\n        return frame;\n    }\n\n    // I will go to copy and paste hell one day...\n    decodeAndBlitFrameRGBA(frame_num: number, pixels: Uint8ClampedArray): FrameInfo {\n        let buf = this._buf;\n        var frame = this.getFrameInfo(frame_num);\n\n        var num_pixels = frame.width * frame.height;\n        var index_stream = new Uint8Array(num_pixels); // At most 8-bit indices.\n        GifReaderLZWOutputIndexStream(\n            buf, frame.data_offset, index_stream, num_pixels);\n        var palette_offset = frame.palette_offset;\n\n        // NOTE(deanm): It seems to be much faster to compare index to 256 than\n        // to === null.  Not sure why, but CompareStub_EQ_STRICT shows up high in\n        // the profile, not sure if it's related to using a Uint8Array.\n        var trans = frame.transparent_index;\n        if (trans === null) trans = 256;\n\n        // We are possibly just blitting to a portion of the entire frame.\n        // That is a subrect within the framerect, so the additional pixels\n        // must be skipped over after we finished a scanline.\n        var framewidth = frame.width;\n        var framestride = this._width - framewidth;\n        var xleft = framewidth; // Number of subrect pixels left in scanline.\n\n        // Output indicies of the top left and bottom right corners of the subrect.\n        var opbeg = ((frame.y * this._width) + frame.x) * 4;\n        var opend = ((frame.y + frame.height) * this._width + frame.x) * 4;\n        var op = opbeg;\n\n        var scanstride = framestride * 4;\n\n        // Use scanstride to skip past the rows when interlacing.  This is skipping\n        // 7 rows for the first two passes, then 3 then 1.\n        if (frame.interlaced === true) {\n            scanstride += this._width * 4 * 7; // Pass 1.\n        }\n\n        var interlaceskip = 8; // Tracking the row interval in the current pass.\n\n        for (var i = 0, il = index_stream.length; i < il; ++i) {\n            var index = index_stream[i];\n\n            if (xleft === 0) { // Beginning of new scan line\n                op += scanstride;\n                xleft = framewidth;\n                if (op >= opend) { // Catch the wrap to switch passes when interlacing.\n                    scanstride = framestride * 4 + this._width * 4 * (interlaceskip - 1);\n                    // interlaceskip / 2 * 4 is interlaceskip << 1.\n                    op = opbeg + (framewidth + framestride) * (interlaceskip << 1);\n                    interlaceskip >>= 1;\n                }\n            }\n\n            if (index === trans) {\n                op += 4;\n            } else {\n                var r = buf[palette_offset + index * 3];\n                var g = buf[palette_offset + index * 3 + 1];\n                var b = buf[palette_offset + index * 3 + 2];\n                pixels[op++] = r;\n                pixels[op++] = g;\n                pixels[op++] = b;\n                pixels[op++] = 255;\n            }\n            --xleft;\n        }\n        return frame;\n    };\n}\n\nexport interface FrameInfo {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    has_local_palette: boolean;\n    palette_offset: number;\n    palette_size: number;\n    data_offset: number;\n    data_length: number;\n    transparent_index: number;\n    interlaced: boolean;\n    delay: number;\n    disposal: number;\n}\n// (c) Dean McNamee <dean@gmail.com>, 2013.\n//\n// https://github.com/deanm/omggif\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n// IN THE SOFTWARE.\n//\n// omggif is a JavaScript implementation of a GIF 89a encoder and decoder,\n// including animation and compression.  It does not rely on any specific\n// underlying system, so should run in the browser, Node, or Plask.\n\nfunction GifReaderLZWOutputIndexStream(code_stream: any, p: any, output: any, output_length: any) {\n    var min_code_size = code_stream[p++];\n\n    var clear_code = 1 << min_code_size;\n    var eoi_code = clear_code + 1;\n    var next_code = eoi_code + 1;\n\n    var cur_code_size = min_code_size + 1; // Number of bits per code.\n    // NOTE: This shares the same name as the encoder, but has a different\n    // meaning here.  Here this masks each code coming from the code stream.\n    var code_mask = (1 << cur_code_size) - 1;\n    var cur_shift = 0;\n    var cur = 0;\n\n    var op = 0; // Output pointer.\n\n    var subblock_size = code_stream[p++];\n\n    // TODO(deanm): Would using a TypedArray be any faster?  At least it would\n    // solve the fast mode / backing store uncertainty.\n    // var code_table = Array(4096);\n    var code_table = new Int32Array(4096); // Can be signed, we only use 20 bits.\n\n    var prev_code = null; // Track code-1.\n\n    while (true) {\n        // Read up to two bytes, making sure we always 12-bits for max sized code.\n        while (cur_shift < 16) {\n            if (subblock_size === 0) break; // No more data to be read.\n\n            cur |= code_stream[p++] << cur_shift;\n            cur_shift += 8;\n\n            if (subblock_size === 1) { // Never let it get to 0 to hold logic above.\n                subblock_size = code_stream[p++]; // Next subblock.\n            } else {\n                --subblock_size;\n            }\n        }\n\n        // TODO(deanm): We should never really get here, we should have received\n        // and EOI.\n        if (cur_shift < cur_code_size)\n            break;\n\n        var code = cur & code_mask;\n        cur >>= cur_code_size;\n        cur_shift -= cur_code_size;\n\n        // TODO(deanm): Maybe should check that the first code was a clear code,\n        // at least this is what you're supposed to do.  But actually our encoder\n        // now doesn't emit a clear code first anyway.\n        if (code === clear_code) {\n            // We don't actually have to clear the table.  This could be a good idea\n            // for greater error checking, but we don't really do any anyway.  We\n            // will just track it with next_code and overwrite old entries.\n\n            next_code = eoi_code + 1;\n            cur_code_size = min_code_size + 1;\n            code_mask = (1 << cur_code_size) - 1;\n\n            // Don't update prev_code ?\n            prev_code = null;\n            continue;\n        } else if (code === eoi_code) {\n            break;\n        }\n\n        // We have a similar situation as the decoder, where we want to store\n        // variable length entries (code table entries), but we want to do in a\n        // faster manner than an array of arrays.  The code below stores sort of a\n        // linked list within the code table, and then \"chases\" through it to\n        // construct the dictionary entries.  When a new entry is created, just the\n        // last byte is stored, and the rest (prefix) of the entry is only\n        // referenced by its table entry.  Then the code chases through the\n        // prefixes until it reaches a single byte code.  We have to chase twice,\n        // first to compute the length, and then to actually copy the data to the\n        // output (backwards, since we know the length).  The alternative would be\n        // storing something in an intermediate stack, but that doesn't make any\n        // more sense.  I implemented an approach where it also stored the length\n        // in the code table, although it's a bit tricky because you run out of\n        // bits (12 + 12 + 8), but I didn't measure much improvements (the table\n        // entries are generally not the long).  Even when I created benchmarks for\n        // very long table entries the complexity did not seem worth it.\n        // The code table stores the prefix entry in 12 bits and then the suffix\n        // byte in 8 bits, so each entry is 20 bits.\n\n        var chase_code: any = code < next_code ? code : prev_code;\n\n        // Chase what we will output, either {CODE} or {CODE-1}.\n        var chase_length = 0;\n        var chase = chase_code;\n        while (chase > clear_code) {\n            chase = code_table[chase] >> 8;\n            ++chase_length;\n        }\n\n        var k = chase;\n\n        var op_end = op + chase_length + (chase_code !== code ? 1 : 0);\n        if (op_end > output_length) {\n            console.log(\"Warning, gif stream longer than expected.\");\n            return;\n        }\n\n        // Already have the first byte from the chase, might as well write it fast.\n        output[op++] = k;\n\n        op += chase_length;\n        var b = op; // Track pointer, writing backwards.\n\n        if (chase_code !== code) // The case of emitting {CODE-1} + k.\n            output[op++] = k;\n\n        chase = chase_code;\n        while (chase_length--) {\n            chase = code_table[chase];\n            output[--b] = chase & 0xff; // Write backwards.\n            chase >>= 8; // Pull down to the prefix code.\n        }\n\n        if (prev_code !== null && next_code < 4096) {\n            code_table[next_code++] = prev_code << 8 | k;\n            // TODO(deanm): Figure out this clearing vs code growth logic better.  I\n            // have an feeling that it should just happen somewhere else, for now it\n            // is awkward between when we grow past the max and then hit a clear code.\n            // For now just check if we hit the max 12-bits (then a clear code should\n            // follow, also of course encoded in 12-bits).\n            if (next_code >= code_mask + 1 && cur_code_size < 12) {\n                ++cur_code_size;\n                code_mask = code_mask << 1 | 1;\n            }\n        }\n\n        prev_code = code;\n    }\n\n    if (op !== output_length) {\n        console.log(\"Warning, gif stream shorter than expected.\");\n    }\n\n    return output;\n}\n/* eslint-disable */","import { GifSprite } from '../display/private/GifSprite';\nimport { GifFrame } from './GifFrames';\nexport class GifSequence {\n\n    private _playing = false;\n\n    private _nextFrameTime = 0;\n\n    private _loopedCount = 0;\n\n    private _speedScale = 1;\n\n    private _timeDistance = 33;\n\n    constructor(public sprite: GifSprite, public name: string, public frames: Array<GifFrame>, public loopCount: number) {\n\n    }\n\n    public setEndlessLoop(): void {\n        this.loopCount = 0;\n    }\n\n    public get speedScale(): number {\n        return this._speedScale;\n    }\n\n    public set speedScale(value: number) {\n        this._speedScale = value || 0.0000001;\n    }\n\n    public get duration(): number {\n        let value = 0;\n        for (const frame of this.frames) {\n            value += frame.delayTime;\n        }\n        return value / this._speedScale;\n    }\n\n    public get playing(): boolean {\n        return this._playing;\n    }\n\n    public stop(skipEmit?: boolean): void {\n        this._playing = false;\n        vf.gui.TickerShared.remove(this.update, this);\n        skipEmit || this.sprite.emit(GifSprite.EVENT.STOP, this.sprite);\n    }\n\n    public play(): boolean {\n        this._playing = true;\n        this._loopedCount = 0;\n        const currentFrame = this.frames[this.currentFrameIndex];\n        if (this.sprite.texture != currentFrame.texture) {\n            this.sprite.setGifFrame(currentFrame);\n        }\n        if (this.frames.length > 1) {\n            vf.gui.TickerShared.add(this.update, this);\n            this._nextFrameTime = vf.gui.Utils.now() + currentFrame.delayTime;//currentFrame.delayTime / this._speedScale;\n            this.sprite.emit(GifSprite.EVENT.PLAY, this.sprite);\n            return true;\n        }\n        return false;\n    }\n\n    private get currentFrameIndex(): number {\n        let currentFrameIndex = this.frames.indexOf(this.sprite.currentGifFrame);\n        if (currentFrameIndex == -1) {\n            currentFrameIndex = 0;\n        }\n        return currentFrameIndex;\n    }\n\n    public get loopedCount(): number {\n        return this._loopedCount;\n    }\n\n    private update() {\n        if (vf.gui.Utils.now() >= this._nextFrameTime) {\n            let nextFrameIndex = this.currentFrameIndex + 1;\n            if (nextFrameIndex >= this.frames.length) {\n                nextFrameIndex = 0;\n                this._loopedCount++;\n                this.sprite.emit(GifSprite.EVENT.END, this.sprite);\n                if (this.loopCount && this._loopedCount >= this.loopCount) {\n                    this.stop();\n                    this.sprite.emit(GifSprite.EVENT.COMPLETE, this.sprite);\n                    return;\n                }\n            }\n            const nextFrame = this.frames[nextFrameIndex];\n            this.sprite.setGifFrame(nextFrame);\n            this._nextFrameTime += this.sprite.currentGifFrame.delayTime//nextFrame.delayTime / this._speedScale;\n        }\n    }\n}","\nconst segment = /([astvzqmhlc])([^astvzqmhlc]*)/ig;\nconst number = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig\nconst TAU = Math.PI * 2;\nconst LEN = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 }\n\n//数字字符解析成数组格式\nexport function parseValues(args: any) {\n    const numbers = args.match(number)\n    return numbers ? numbers.map(Number) : []\n}\n\nexport function vectorAngle(ux: any, uy: any, vx: any, vy: any) {\n    const sign = (ux * vy - uy * vx < 0) ? -1 : 1;\n    const umag = Math.sqrt(ux * ux + uy * uy);\n    const vmag = Math.sqrt(ux * ux + uy * uy);\n    const dot = ux * vx + uy * vy;\n\n    let div = dot / (umag * vmag);\n\n    if (div > 1) {\n        div = 1\n    }\n\n    if (div < -1) {\n        div = -1;\n    }\n\n    return sign * Math.acos(div);\n}\n\nexport function getArcCenter(px: number,\n    py: number,\n    cx: number,\n    cy: number,\n    rx: number,\n    ry: number,\n    largeArcFlag: number,\n    sweepFlag: number,\n    sinphi: number,\n    cosphi: number,\n    pxp: number,\n    pyp: number\n) {\n    const rxsq = Math.pow(rx, 2);\n    const rysq = Math.pow(ry, 2);\n    const pxpsq = Math.pow(pxp, 2);\n    const pypsq = Math.pow(pyp, 2);\n\n    let radicant = (rxsq * rysq) - (rxsq * pypsq) - (rysq * pxpsq);\n\n    if (radicant < 0) {\n        radicant = 0;\n    }\n\n    radicant /= (rxsq * pypsq) + (rysq * pxpsq);\n    radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n    const centerxp = radicant * rx / ry * pyp;\n    const centeryp = radicant * -ry / rx * pxp;\n\n    const centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n    const centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n\n    const vx1 = (pxp - centerxp) / rx;\n    const vy1 = (pyp - centeryp) / ry;\n    const vx2 = (-pxp - centerxp) / rx;\n    const vy2 = (-pyp - centeryp) / ry;\n\n    const ang1 = vectorAngle(1, 0, vx1, vy1);\n    let ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n    if (sweepFlag === 0 && ang2 > 0) {\n        ang2 -= TAU;\n    }\n\n    if (sweepFlag === 1 && ang2 < 0) {\n        ang2 += TAU;\n    }\n\n    return [centerx, centery, ang1, ang2];\n}\n\n\nexport function approxUnitArc(ang1: number, ang2: number) {\n    const a = 4 / 3 * Math.tan(ang2 / 4);\n\n    const x1 = Math.cos(ang1);\n    const y1 = Math.sin(ang1);\n    const x2 = Math.cos(ang1 + ang2);\n    const y2 = Math.sin(ang1 + ang2);\n\n    return [\n        {\n            x: x1 - y1 * a,\n            y: y1 + x1 * a,\n        },\n        {\n            x: x2 + y2 * a,\n            y: y2 - x2 * a,\n        },\n        {\n            x: x2,\n            y: y2,\n        },\n    ];\n}\nexport function mapToEllipse(data: { x: number; y: number }, rx: number, ry: number, cosphi: number, sinphi: number, centerx: number, centery: number) {\n    data.x *= rx;\n    data.y *= ry;\n\n    const xp = cosphi * data.x - sinphi * data.y;\n    const yp = sinphi * data.x + cosphi * data.y;\n\n    return {\n        x: xp + centerx,\n        y: yp + centery,\n    };\n}\n\nexport function arcToBezier(px: number, py: number, cx: number, cy: number, rx: number, ry: number, xAxisRotation = 0, largeArcFlag = 0, sweepFlag = 0) {\n    const curves = [];\n\n    if (rx === 0 || ry === 0) {\n        return [];\n    }\n\n    const sinphi = Math.sin(xAxisRotation * TAU / 360);\n    const cosphi = Math.cos(xAxisRotation * TAU / 360);\n\n    const pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;\n    const pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;\n\n    if (pxp === 0 && pyp === 0) {\n        return [];\n    }\n\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n\n    const lambda =\n        Math.pow(pxp, 2) / Math.pow(rx, 2) +\n        Math.pow(pyp, 2) / Math.pow(ry, 2);\n\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n\n    const d = getArcCenter(\n        px,\n        py,\n        cx,\n        cy,\n        rx,\n        ry,\n        largeArcFlag,\n        sweepFlag,\n        sinphi,\n        cosphi,\n        pxp,\n        pyp\n    );\n    const centerx = d[0];\n    const centery = d[1];\n    let ang1 = d[2];\n    let ang2 = d[3];\n\n    const segments = Math.max(Math.ceil(Math.abs(ang2) / (TAU / 4)), 1);\n\n    ang2 /= segments;\n\n    for (let i = 0; i < segments; i++) {\n        curves.push(approxUnitArc(ang1, ang2));\n        ang1 += ang2;\n    }\n\n    return curves.map(curve => {\n        const { x: x1, y: y1 } = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery);\n        const { x: x2, y: y2 } = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery);\n        const { x, y } = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery);\n\n        return { x1, y1, x2, y2, x, y };\n    });\n}\n/*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n/**\n * svg格式拆数组格式\n * cmds\n(4) [Array(3), Array(8), Array(8), Array(1)]\n0: (3) [\"M\", 280, 250]\n1: (8) [\"A\", 200, 200, 0, 1, 1, 680, 250]\n2: (8) [\"A\", 200, 200, 0, 1, 1, 280, 250]\n3: [\"Z\"]\nlength: 4\n */\nexport function parser(path: any) {\n    const data: any = [];\n    path.replace(segment, (a: any, command: any, args: any) => {\n        let type = command.toLowerCase()\n        args = parseValues(args)\n\n        // overloaded moveTo\n        if (type == 'm' && args.length > 2) {\n            data.push([command].concat(args.splice(0, 2)))\n            type = 'l'\n            command = command == 'm' ? 'l' : 'L'\n        }\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n            if (args.length == (LEN as any)[type]) {\n                args.unshift(command)\n                return data.push(args)\n            }\n            if (args.length < (LEN as any)[type]) throw new Error('malformed path data')\n            data.push([command].concat(args.splice(0, (LEN as any)[type])))\n        }\n    })\n    return data;\n}\n\nexport function q2b(x1: number, y1: number, x2: number, y2: number, x3: number, y3: number) {\n    return [x1, y1, (x1 + 2 * x2) / 3, (y1 + 2 * y2) / 3, (x3 + 2 * x2) / 3, (y3 + 2 * y2) / 3, x3, y3]\n}\n\n/**\n * 解析svg的path\n * \n * \n    M = moveto\n    L = lineto\n    H = horizontal lineto\n    V = vertical lineto\n    C = curveto\n    S = smooth curveto\n    Q = quadratic Belzier curve\n    T = smooth quadratic Belzier curveto\n    A = elliptical Arc\n    Z = closepath\n    以上所有命令均允许小写字母。大写表示绝对定位，小写表示相对定位(从上一个点开始)。\n */\n\nexport function parseSvgData(path: string) {\n    const cmds = parser(path),\n        shapes = [],\n        len = cmds.length;\n    let preX = 0,\n        preY = 0,\n        j = 0,\n        current: any = [],\n        closeX,\n        closeY,\n        preCX = 0,\n        preCY = 0,\n        sLen,\n        curves: any,\n        lastCurve\n\n    for (; j < len; j++) {\n        const item = cmds[j]\n        const action = item[0]\n        const preItem = cmds[j - 1]\n\n        switch (action) {\n            case 'm':\n                sLen = shapes.length\n                shapes[sLen] = []\n                current = shapes[sLen]\n                preX = preX + item[1]\n                preY = preY + item[2]\n                break\n            case 'M':\n\n                sLen = shapes.length\n                shapes[sLen] = []\n                current = shapes[sLen]\n                preX = item[1]\n                preY = item[2]\n                break\n\n            case 'l':\n                if (item[1] !== 0 || item[2] !== 0) {\n                    current.push([preX, preY, preX, preY, preX, preY, preX + item[1], preY + item[2]])\n                    preX += item[1]\n                    preY += item[2]\n                }\n                break\n\n            case 'L':\n                if (preX !== item[1] || preY !== item[2]) {\n                    current.push([preX, preY, item[1], item[2], item[1], item[2], item[1], item[2]])\n                    preX = item[1]\n                    preY = item[2]\n                }\n                break\n\n            case 'h':\n\n                current.push([preX, preY, preX, preY, preX, preY, preX + item[1], preY])\n                preX += item[1]\n                break\n\n\n            case 'H':\n                current.push([preX, preY, item[1], preY, item[1], preY, item[1], preY])\n                preX = item[1]\n                break\n\n            case 'v':\n                current.push([preX, preY, preX, preY, preX, preY, preX, preY + item[1]])\n                preY += item[1]\n                break\n\n            case 'V':\n                current.push([preX, preY, preX, item[1], preX, item[1], preX, item[1]])\n                preY = item[1]\n                break\n\n\n            case 'C':\n\n                current.push([preX, preY, item[1], item[2], item[3], item[4], item[5], item[6]])\n                preX = item[5]\n                preY = item[6]\n                break\n            case 'S':\n                if (preItem[0] === 'C' || preItem[0] === 'c') {\n                    current.push([preX, preY, preX + preItem[5] - preItem[3], preY + preItem[6] - preItem[4], item[1], item[2], item[3], item[4]])\n                } else if (preItem[0] === 'S' || preItem[0] === 's') {\n                    current.push([preX, preY, preX + preItem[3] - preItem[1], preY + preItem[4] - preItem[2], item[1], item[2], item[3], item[4]])\n\n                }\n                preX = item[3]\n                preY = item[4]\n                break\n\n            case 'c':\n                current.push([preX, preY, preX + item[1], preY + item[2], preX + item[3], preY + item[4], preX + item[5], preY + item[6]])\n                preX = preX + item[5]\n                preY = preY + item[6]\n                break\n            case 's':\n                if (preItem[0] === 'C' || preItem[0] === 'c') {\n\n                    current.push([preX, preY, preX + preItem[5] - preItem[3], preY + preItem[6] - preItem[4], preX + item[1], preY + item[2], preX + item[3], preY + item[4]])\n\n                } else if (preItem[0] === 'S' || preItem[0] === 's') {\n                    current.push([preX, preY, preX + preItem[3] - preItem[1], preY + preItem[4] - preItem[2], preX + item[1], preY + item[2], preX + item[3], preY + item[4]])\n                }\n\n                preX = preX + item[3]\n                preY = preY + item[4]\n\n                break\n            case 'a':\n                curves = arcToBezier(\n                    preX,\n                    preY,\n                    preX + item[6],\n                    preY + item[7],\n                    item[1],\n                    item[2],\n                    item[3],\n                    item[4],\n                    item[5],\n\n                )\n                lastCurve = curves[curves.length - 1]\n\n\n                curves.forEach((curve: any, index: any) => {\n                    if (index === 0) {\n                        current.push([preX, preY, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y])\n                    } else {\n                        current.push([curves[index - 1].x, curves[index - 1].y, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y])\n                    }\n                })\n\n                preX = lastCurve && lastCurve.x\n                preY = lastCurve && lastCurve.y\n\n                break\n\n            case 'A':\n\n                curves = arcToBezier(\n                    preX,\n                    preY,\n                    item[6],\n                    item[7],\n                    item[1],\n                    item[2],\n                    item[3],\n                    item[4],\n                    item[5],\n\n                )\n                lastCurve = curves[curves.length - 1]\n\n\n                curves.forEach((curve: any, index: any) => {\n                    if (index === 0) {\n                        current.push([preX, preY, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y])\n                    } else {\n                        current.push([curves[index - 1].x, curves[index - 1].y, curve.x1, curve.y1, curve.x2, curve.y2, curve.x, curve.y])\n                    }\n                })\n\n                preX = lastCurve && lastCurve.x\n                preY = lastCurve && lastCurve.y\n\n                break\n            case 'Q':\n                current.push(q2b(preX, preY, item[1], item[2], item[3], item[4]))\n                preX = item[3]\n                preY = item[4]\n\n                break\n            case 'q':\n                current.push(q2b(preX, preY, preX + item[1], preY + item[2], item[3] + preX, item[4] + preY))\n                preX += item[3]\n                preY += item[4]\n                break\n\n            case 'T':\n\n                if (preItem[0] === 'Q' || preItem[0] === 'q') {\n                    preCX = preX + preItem[3] - preItem[1]\n                    preCY = preY + preItem[4] - preItem[2]\n                    current.push(q2b(preX, preY, preCX, preCY, item[1], item[2]))\n\n\n                } else if (preItem[0] === 'T' || preItem[0] === 't') {\n                    current.push(q2b(preX, preY, preX + preX - preCX, preY + preY - preCY, item[1], item[2]))\n                    preCX = preX + preX - preCX\n                    preCY = preY + preY - preCY\n                }\n\n                preX = item[1]\n                preY = item[2]\n                break\n\n\n            case 't':\n                if (preItem[0] === 'Q' || preItem[0] === 'q') {\n                    preCX = preX + preItem[3] - preItem[1]\n                    preCY = preY + preItem[4] - preItem[2]\n                    current.push(q2b(preX, preY, preCX, preCY, preX + item[1], preY + item[2]))\n\n\n                } else if (preItem[0] === 'T' || preItem[0] === 't') {\n                    current.push(q2b(preX, preY, preX + preX - preCX, preY + preY - preCY, preX + item[1], preY + item[2]))\n                    preCX = preX + preX - preCX\n                    preCY = preY + preY - preCY\n                }\n\n                preX += item[1]\n                preY += item[2]\n                break\n\n            case 'Z':\n            case 'z':\n                closeX = current[0][0];\n                closeY = current[0][1];\n\n                if (preX !== closeX || preY !== closeY) {\n                    current.push([preX, preY, closeX, closeY, closeX, closeY, closeX, closeY])\n                }\n                break\n        }\n    }\n\n    return shapes\n}\n\nexport function toSVGString(shapes: any) {\n    /*克隆一下实时数据*/\n    //var shapes = JSON.parse(JSON.stringify(shapes||[]));\n    /*对数据中的每个点数组做处理\n    * */\n    return shapes.map((shape: any) => {\n        shape.forEach((point: any, idx: any) => {\n            if (!idx) {\n                /*\n                 * 若是第一个点数组，那么对该点数组的处理是前面加M,然后前两个点后面加C\n                 * */\n                point.splice(2, 0, \"C\");\n                point.unshift(\"M\");\n            } else {\n                /*\n                 * 除了第一个点数据外,所有的点数组的前两个点删除掉\n                 * */\n                point.splice(0, 2, \"C\");\n            }\n        });\n        return shape.map((point: any) => {\n            return point.join(\" \");\n        }).join(\"\");\n    }).join(\"\")\n\n}","\n/** 对象池*/\nclass ObjectPool{\n    public constructor() {\n        //\n    }\n \n    /**\n\t * 作为对象池的词典dict\n\t */\n    private objPoolDict = new Map<any,any[]>();\n\t\n    /**\n\t * 向对象池中放入对象，以便重复利用\n\t */\n    public push<T extends Lifecycle,S>(keyClass: S,oldObj: T): void{\n        if(oldObj === undefined){\n            return;\n        }\n        let objs = this.objPoolDict.get(keyClass);\n        if(objs === undefined){\n            objs = [];\n            this.objPoolDict.set(keyClass,objs);\n        }\n        if(objs.indexOf(oldObj) === -1){\n            oldObj.release();\n            objs.push(oldObj);\n        }\n    } \n \n \n    /**\n\t * 从对象池中取出需要的对象\n\t * @return 取出的相应对象\n\t *\n\t */\n    public pop<T>(keyClass: T): any{\n\n        const objs = this.objPoolDict.get(keyClass);\n        if(objs !== undefined && objs.length>0){\n            return objs.pop();\n        }\n        return new (keyClass as any)();\n    }\n}\n\n/**\n * 对象池实例\n */\nexport const objectPoolShared = new ObjectPool();","import { DisplayObject } from \"../core/DisplayObject\";\nimport { Stage } from \"../core/Stage\";\nimport { DisplayObjectAbstract } from \"../core/DisplayObjectAbstract\";\nimport { parseSvgData, toSVGString } from \"./GraphicsUtils\";\nimport { GifFrames } from \"./GifFrames\";\nexport * from './ObjectPool';\nexport * from './calculateUpdatePlayerSize';\nexport * from './setInteractiveElement';\nexport * from './cacheDestroy';\n\n/**\n * 是否调试模式\n */\nexport let debug: boolean;\n/**\n * 工具类\n */\n\n/** 日志输出 */\nexport function log(message?: string | number | object, ...optionalParams: string[] | number[] | object[]) {\n    console.log(message, ...optionalParams);\n}\n\n/**\n * 组件获取资源 - 源路径,外部可以重写本方法\n */\nexport let $getSourcePath: Function;\nexport function setSourcePath(params: (path: any, cls?: any) => {}) {\n    $getSourcePath = params;\n}\n\n/**\n * 根据显示路径，获取显示对象\n */\nexport let $getUIDisplayObjectPath: Function;\nexport function setDisplayObjectPath(params: (cls?: any, target?: DisplayObject) => {}) {\n    $getUIDisplayObjectPath = params;\n}\n\nexport function getSource(src: any) {\n    if ($getSourcePath) {\n        src = $getSourcePath(src);\n    }\n    return src;\n}\n\nexport function getTexture(src: any) {\n\n    if (src instanceof vf.Texture) {\n        return src;\n    }\n\n    if ($getSourcePath) {\n        const tempSrc = $getSourcePath(src);\n        if (tempSrc) {\n            src = tempSrc;\n            if (src instanceof vf.Texture || (src[\"extension\"] && src[\"extension\"] === 'gif')) {\n                return src;\n            }\n        }\n        else if (typeof src === 'string' && src.indexOf('//') !== -1) {\n            return vf.Texture.from(src);\n        }\n        else {\n            return undefined;\n        }\n\n    }\n\n    if (src === undefined || src === null || src === '') {\n        src = undefined;\n        return src;\n    }\n    if (typeof src === 'string') {\n\n        return vf.Texture.from(src);\n    }\n    if (typeof src === 'object' && src[\"extension\"] && src[\"extension\"] === 'gif') {\n        if (src.data) {\n            const frames = new GifFrames(src);\n            (src as any)['frames'] = frames;\n            src.texture = frames.getFrame(0).texture;\n        }\n        return src;\n    }\n    return undefined;\n}\n\nexport function getSheet(src: any) {\n    if ($getSourcePath) {\n        src = $getSourcePath(src);\n    }\n    return src;\n}\n\nexport function getSound(src: any) {\n    if ($getSourcePath) {\n        src = $getSourcePath(src);\n    }\n    return src;\n}\n\nexport function getDisplayObject(src: any, target?: DisplayObject) {\n    if (src instanceof DisplayObject) {\n        return src;\n    } else if (src instanceof DisplayObjectAbstract) {\n        return src;\n    }\n    if ($getUIDisplayObjectPath) {\n        src = $getUIDisplayObjectPath(src, target);\n    }\n    return src;\n}\n\n/**\n * 递归获取舞台，组件必须已经添加到舞台\n * @param DisplayObject \n */\nexport function getStage(target: DisplayObject | DisplayObjectAbstract | Stage): Stage | undefined {\n    if (target.$stage) {\n        return target.$stage;\n    }\n    if (target.parent instanceof Stage) {\n        return target.parent;\n    }\n    if (target.parent) {\n        return getStage(target.parent);\n    }\n    return undefined;\n}\n\n/**\n * 获取显示对象的路径(解析json需要的id，并不是uuid)\n * @param target \n * @param ids \n */\nexport function getDisplayPathById(target: DisplayObject | DisplayObjectAbstract | Stage, ids: string[] = []): string[] {\n\n    if (target.id === '') {\n        return ids;\n    }\n\n    ids.push(target.id);\n\n    if (target.parent) {\n        if (target.parent instanceof Stage) {\n            return ids;\n        }\n        return getDisplayPathById(target.parent, ids);\n    }\n    return ids;\n}\n\n\n/**\n * 快速设置矩形\n * @param sourcr \n * @param x \n * @param y \n * @param w \n * @param h \n */\nexport function setRectangle(source: vf.Rectangle, x: number, y: number, w: number, h: number) {\n    source.x = x;\n    source.y = y;\n    source.width = w;\n    source.height = h;\n}\n/** 获取当前运行时时间 */\nexport function now() {\n    if (performance !== undefined && performance.now !== undefined) {\n        // This must be bound, because directly assigning this function\n        // leads to an invocation exception in Chrome.\n        return performance.now.bind(performance)();\n        // Use Date.now if it is available.\n    } else {\n        const offset = performance && performance.timing && performance.timing.navigationStart ? performance.timing.navigationStart : Date.now()\n        return Date.now() - offset;\n    }\n}\n\n/**\n * 深度拷贝对象\n * @param source 对象元\n */\nexport function deepCopy(source: any, target?: any) {\n    if (source === null || source === undefined || typeof source !== 'object') {\n        return source;\n    } else if (Array.isArray(source)) {\n        return [].concat(source as []);\n    } else if (typeof source === 'object') {\n        const tempTarget: { [key: string]: any } = target || {};\n        for (const prop in source) {\n            tempTarget[prop] = deepCopy(source[prop], tempTarget[prop]);\n        }\n        return tempTarget;\n    }\n    return source;\n}\n\n/**\n * helper function to convert string hex to int or default\n * \n * 16进制转int，颜色转换\n * @param str 要转换的值，如#FFFFFF,0xFFFFFF\n * @param def 转换失败的返回值\n */\nexport function hexToInt(str?: string | number, def?: any) {\n    if (str === undefined) {\n        return def;\n    }\n    if (typeof str === 'number')\n        return str;\n    const sign = \"#\";\n    if (str.charAt(0) === sign) {\n        const len = str.length;\n        const colorLength = 7;\n        if (len > colorLength) {\n            console.log(`#color longChars need <= ${colorLength}`);\n            str = sign + str.slice(len - colorLength + 1);\n        }\n        str = str.replace('#', '0x');\n    }\n\n    const result = parseInt(str);\n\n    if (isNaN(result)) return def;\n    return result;\n}\n/**\n * helper function to convert string hex to int or default\n * \n * 16进制转int，颜色转换\n * @param str 要转换的值，如#FFFFFF,0xFFFFFF\n * @param def 转换失败的返回值\n */\nexport function hexListToIntList(str?: string | number | string[] | number[], def?: any) {\n    if (str === undefined) {\n        return def;\n    }\n    let colorlist = [];\n    if (Array.isArray(str)) {\n        let strList = str as [];\n        let len = strList.length;\n        for (let i: number = 0; i < len; i++) {\n            let color = hexToInt(strList[i], undefined);\n            colorlist.push(color);\n        }\n    } else {\n        colorlist = hexToInt(str as string | number, def);\n    }\n    return colorlist;\n}\n\n//helper function to convert hex to rgba\n/**\n * \n * @param hex 16进制字符窜 如 #FFFFFF ，不能省略三位写法\n * @param alpha 透明度\n * @returns \"rgba(255,255,255,1)\" || false\n */\nexport function hexToRgba(hex: string, alpha: number) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? \"rgba(\" + parseInt(result[1], 16) + \",\" + parseInt(result[2], 16) + \",\" + parseInt(result[3], 16) + \",\" + alpha + \")\" : false;\n}\n/**\n * 转换为16位字符串，不够2位的补0，如 “01”\n * @param c 要转换的数字\n */\nexport function componentToHex(c: number) {\n    const hex = c.toString(16);\n    if (hex.length == 4) {\n        return \"00\" + hex;\n    }\n    return hex.length == 1 ? \"0\" + hex : hex;\n}\n/**\n * RGB转16进制\n * @param r 红 0-255\n * @param g 绿 0-255\n * @param b 蓝 0-255\n */\nexport function rgbToHex(r: number, g: number, b: number) {\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n}\n\n/**\n * RGB转number\n * @param r 红 0-255\n * @param g 绿 0-255\n * @param b 蓝 0-255\n */\nexport function rgbToNumber(r: number, g: number, b: number) {\n    return r * 65536 + g * 256 + b;\n}\n\n/**\n * rgb字符串形式转换\n * @param color rgb(255,255,255)\n */\nexport function rgbStrToNumber(color: string) {\n    const colors = color.substring(4, color.length - 1).split(\",\");\n    return rgbToNumber(parseInt(colors[0]), parseInt(colors[1]), parseInt(colors[2]));\n}\n/**\n * 10进制转RGB\n * @param c 数\n */\nexport function numberToRgb(c: number) {\n    return {\n        r: Math.floor(c / (256 * 256)),\n        g: Math.floor(c / 256) % 256,\n        b: c % 256,\n    };\n}\n\n/**\n * hex 转 RGB，\n * \n * 如hex字符串: \"#ffffff\"->255,255,255\n * \n * 如16进制数字: 0xffffff->255,255,255\n * @param hex \n */\nexport function hexToRgb(hex?: string | number) {\n    if (hex === undefined)\n        hex = 0xffffff;\n\n    if (typeof (hex) == \"number\") {\n        return numberToRgb(hex);\n    }\n\n    // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n    });\n\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : { r: 255, g: 255, b: 255 };\n}\n\n/**\n * 根据amt计算当前的位置start-stop，两数差值\n * @param start 开始数值\n * @param stop  结束的数值\n * @param amt 0-1 用时 >1为1，小于0为0\n */\nexport function Lerp(start: number, stop: number, amt: number) {\n    if (amt > 1) amt = 1;\n    else if (amt < 0) amt = 0;\n    return start + (stop - start) * amt;\n}\n\n/**\n * 四舍五入保留指定位数的小数\n * @param num 取舍的数\n * @param decimals 保留小数位\n */\nexport function Round(num: number, decimals: number) {\n    const pow = Math.pow(10, decimals);\n    return Math.round(num * pow) / pow;\n}\n\n\n/** 获取全局唯一数 */\nexport function uid() {\n    return vf.utils.uid();\n}\n\n/** 获取URL参数 */\nexport function getQueryVariable(variable: string) {\n    const params = new URLSearchParams(location.search);\n    if (params.has(variable)) {\n        return params.get(variable);\n    }\n    return undefined;\n}\n\n/**\n * 解析一个字符串函数的参数，如xxx(1) = 1\n * @param\n */\nexport function getStringFunctionParam(str: string) {\n    const target: { key: string; value: number } = {} as any;\n    target.key = str.substr(0, str.indexOf(\"(\"));\n    const value = str.substr(str.indexOf(\"(\") + 1);\n    target.value = parseFloat(value.substr(0, value.lastIndexOf(\")\")));\n    return target\n}\n\nexport function isDeltaIdentity(m: vf.Matrix): boolean {\n    return (m.a === 1 && m.b === 0 && m.c === 0 && m.d === 1);\n}\n\n/**\n * 格式化一个百分比为小数\n * @param value \n * @param total \n */\nexport function formatRelative(value: number | string | undefined, total: number): number {\n    if (value == undefined) {\n        return NaN;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    const str = value;\n    const index = str.indexOf(\"%\");\n    if (index == -1) {\n        return +str;\n    }\n    const percent = +str.substring(0, index);\n    return percent * 0.01 * total;\n}\n\n/** 计算两点距离 */\nexport function pointDistance(pointA: vf.Point | { x: number; y: number }, pointB: vf.Point | { x: number; y: number }) {\n    return Math.sqrt((pointA.x - pointB.x) * (pointA.x - pointB.x) + (pointA.y - pointB.y) * (pointA.y - pointB.y));\n}\n\n/** 坐标相减 */\nexport function pointSub(source: vf.Point | { x: number; y: number }, subPoint: vf.Point | { x: number; y: number }) {\n    const x = source.x - subPoint.x;\n    const y = source.y - subPoint.y;\n    return { x, y };\n}\n\n/** 坐标相加 */\nexport function pointPlus(source: vf.Point | { x: number; y: number }, PlusPoint: vf.Point | { x: number; y: number }) {\n    const x = source.x + PlusPoint.x;\n    const y = source.y + PlusPoint.y;\n    return { x, y };\n}\n\n/** 向量转弧度 */\nexport function pointSignAngle(pointA: vf.Point | { x: number; y: number }, pointB: vf.Point | { x: number; y: number }) {\n    const num1 = (pointA.x * pointB.y) - (pointB.x * pointA.y);\n    const num2 = (pointA.x * pointB.x) + (pointA.y * pointB.y);\n    return Math.atan2(num1, num2) * (360 / (Math.PI * 2));\n}\n\n/**\n *  根据类型获得具体的类定义\n * @param type \n */\nexport function getGuiClass(type: string) {\n    return (vf.gui as any)[type];\n}\n\nexport function sayHello() {\n    vf.utils.versionPrint('gui ' + (vf.gui as any).VERSION, 'https://yunkc.gitee.io/docs/');\n}\n\n/**\n * 全局坐标转本地坐标\n */\nexport function toLocal(position: vf.IPoint, localDisplayObject: vf.DisplayObject | DisplayObjectAbstract) {\n    if (localDisplayObject instanceof DisplayObjectAbstract) {\n        return localDisplayObject.container.toLocal(position, undefined)\n    } else {\n        return localDisplayObject.toLocal(position, undefined)\n    }\n\n}\n\n/**\n * 本地坐标转全局坐标\n */\nexport function toGlobal(position: vf.IPoint, localDisplayObject: vf.DisplayObject | DisplayObjectAbstract) {\n    if (localDisplayObject instanceof DisplayObjectAbstract) {\n        return localDisplayObject.container.toGlobal(position, undefined)\n    } else {\n        return localDisplayObject.toGlobal(position, undefined)\n    }\n\n}\n\n/**\n * 本地坐标转全局\n */\nexport function toWorldTransform(localDisplayObject: vf.DisplayObject | DisplayObjectAbstract) {\n    if (localDisplayObject instanceof DisplayObjectAbstract) {\n        return localDisplayObject.container.worldTransform;\n    } else {\n        return localDisplayObject.worldTransform;\n    }\n}\n\nexport function toLoacalTransform(localDisplayObject: vf.DisplayObject | DisplayObjectAbstract) {\n    if (localDisplayObject instanceof DisplayObjectAbstract) {\n        return localDisplayObject.container.localTransform;\n    } else {\n        return localDisplayObject.localTransform;\n    }\n}\n\n/**\n * 本地显示对象转换到DIV坐标，核心是减去canvas的偏移量\n * @param localDisplayObject \n * @returns \n */\nexport function toDomRectangle(localDisplayObject: DisplayObjectAbstract | Stage, point?: vf.IPointData) {\n\n    let rect = new vf.Rectangle();\n    if (point) {\n        const p = localDisplayObject.container.toGlobal(point);\n        rect.x = p.x;\n        rect.y = p.y;\n        const worldTransform = localDisplayObject.container.worldTransform;\n        rect.width = worldTransform.a;\n        rect.height = worldTransform.d;\n    }\n    else {\n        rect = localDisplayObject.container.getBounds();\n    }\n\n    let viweCanvas: HTMLCanvasElement;\n    if (localDisplayObject.stage) {\n        viweCanvas = localDisplayObject.stage.app.view;\n    } else {\n        viweCanvas = (localDisplayObject as Stage).app.view;\n    }\n    rect.x += viweCanvas.offsetLeft;\n    rect.y += viweCanvas.offsetTop;\n\n    return rect\n}\n\n\n/**\n * svgData to array\n */\nexport function path2shapes(path: string) {\n    return parseSvgData(path);\n}\n/**\n * array to svgData\n */\nexport function toSVGStr(shapes: any) {\n    return toSVGString(shapes);\n}\n\nexport class ParseDataItem {\n    type: \"M\" | \"L\" | \"Q\" | \"C\" = \"M\";\n    x = 0;\n    y = 0;\n    ct1X = 0;\n    ct1Y = 0;\n    ct2X = 0;\n    ct2Y = 0;\n}\n\n/**\n * 创建显示对象\n * @param moduleName \n * @param option \n * @param parent \n * example:\n *   let img = vf.gui.Utils.createDisplayObject(\"Image\", {x: 0, y: 0, src: 'xxxx.png'}, this) as vf.gui.Image;\n */\nexport function createDisplayObject(moduleName: string, option: any, parent?: DisplayObjectAbstract) {\n    let ModuleClass = vf.utils.getGuiModule(moduleName);\n    if (ModuleClass) {\n        try {\n            let obj = new ModuleClass();\n            for (let key in option) {\n                obj[key] = option[key];\n            }\n            parent && parent.addChild(obj);\n            return obj;\n        }\n        catch (e) {\n            console.error(`创建${moduleName}组件失败：`, e);\n        }\n    }\n    else {\n        console.error(`没有找到${moduleName}对应的gui模块`);\n    }\n}","\nfunction destroy(obj: any, bool: boolean) {\n\n    if (obj instanceof vf.Texture) {\n        obj.destroy(bool);\n    } else if (obj instanceof vf.Spritesheet) {\n        obj.destroy(bool);\n    } else if (typeof obj === 'object' && obj.texture) {\n        obj.texture.destroy(bool);\n    } else if (typeof obj === 'object' && obj.spritesheet) {\n        obj.spritesheet.destroy(bool);\n    }\n    if (typeof obj === 'string') {\n        if (vf.Loader.shared.resources[obj]) {\n            destroy(vf.Loader.shared.resources[obj], bool);\n            if (bool)\n                delete vf.Loader.shared.resources[obj];\n        }\n    }\n    if (vf.utils.TextureCache[obj]) {\n        vf.utils.TextureCache[obj].destroy(bool);\n    }\n}\n\nexport function cacheDestroy(res: any, bool: boolean) {\n    destroy(res, bool);\n}\n","/* eslint-disable max-len */\n/* eslint-disable no-undef */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n\nimport { Stage } from \"../core/Stage\";\n\nexport const enum ScaleMode {\n    SHOW_ALL = 'showAll',\n    NO_SCALE = 'noScale',\n    COVER = 'cover',\n    CONTAIN = 'contain',\n    FIXEDHEIGHT = 'fixedHeight',\n    FIXEDWIDTH = 'fixedWidth'\n}\n/**\n * @private\n * 计算舞台显示尺寸\n * @param scaleMode 当前的缩放模式\n * @param screenWidth 播放器视口宽度\n * @param screenHeight 播放器视口高度\n * @param contentWidth 初始化内容宽度\n * @param contentHeight 初始化内容高度\n */\nfunction calculateStageSize(\n    scaleMode: ScaleMode,\n    screenWidth: number,\n    screenHeight: number,\n    contentWidth: number,\n    contentHeight: number) {\n    let displayWidth = screenWidth;\n    let displayHeight = screenHeight;\n    let stageWidth = contentWidth;\n    let stageHeight = contentHeight;\n    const scaleX = (screenWidth / stageWidth) || 0;\n    const scaleY = (screenHeight / stageHeight) || 0;\n\n    switch (scaleMode) {\n        case 'showAll':\n            if (scaleX > scaleY) {\n                displayWidth = Math.round(stageWidth * scaleY);\n            }\n            else {\n                displayHeight = Math.round(stageHeight * scaleX);\n            }\n            break;\n        case 'cover':\n            if (scaleX > scaleY) {\n                displayHeight = Math.round(stageHeight * scaleX);\n            }\n            else {\n                displayWidth = Math.round(stageWidth * scaleY);\n            }\n            break;\n        case 'contain':\n            if (scaleX > scaleY) {\n                stageWidth = Math.round(screenWidth / scaleY);\n            }\n            else {\n                stageHeight = Math.round(screenHeight / scaleX);\n            }\n            break;\n        case 'fixedHeight':\n            displayWidth = Math.round(stageWidth * scaleY);\n            break;\n        case 'fixedWidth':\n            displayHeight = Math.round(stageHeight * scaleX);\n            break;\n        default:\n            displayWidth = contentWidth;\n            displayHeight = contentHeight;\n            stageWidth = contentWidth;\n            stageHeight = contentHeight;\n            break;\n    }\n    // 宽高不是2的整数倍会导致图片绘制出现问题\n    if (stageWidth % 2 !== 0) {\n        stageWidth += 1;\n    }\n    if (stageHeight % 2 !== 0) {\n        stageHeight += 1;\n    }\n    if (displayWidth % 2 !== 0) {\n        displayWidth += 1;\n    }\n    if (displayHeight % 2 !== 0) {\n        displayHeight += 1;\n    }\n\n    return {\n        stageWidth,\n        stageHeight,\n        displayWidth,\n        displayHeight,\n    };\n}\n\nexport function getBoundingClientRect(dom: HTMLElement): DOMRect {\n    if (dom === null) {\n        throw new Error(`Error No find canvas parent dom`);\n    }\n\n    const rect = {} as any;\n\n    rect.width = dom.offsetWidth;\n    rect.height = dom.offsetHeight;\n    return rect;\n}\n\n/**\n * @private\n *\n * 更新播放器视口尺寸\n *\n * noScale 不对内容进行任何缩放，保持原始的1:1比例。如果播放器窗口比内容小，则可能进行一些裁切。\n *\n * showAll 非溢出居中，显示全部内容。水平或垂直“两侧”可能会不够宽而留有黑边。\n *\n * contain 非溢出，显示全部内容，水平或垂直“一侧”方向有黑边。\n *\n * cover 溢出居中，某些部分也许无法显示在播放器视口。\n */\nexport function calculateUpdatePlayerSize(scrennDiv: HTMLElement, app: vf.Application, stage: Stage, stageW: number, stageH: number, scaleMode: ScaleMode) {\n    const canvas = app.view;\n    const canvasScaleFactor = app.renderer.resolution;\n    const isWebGl = vf.utils.isWebGLSupported();\n    const top = 0;\n\n    const clientRect = getBoundingClientRect(scrennDiv);\n    const screenWidth = clientRect.width;\n    const screenHeight = clientRect.height;\n\n    stageW = vf.gui.Utils.formatRelative(stageW, screenWidth);\n    stageH = vf.gui.Utils.formatRelative(stageH, screenHeight);\n\n    const stageSize = calculateStageSize(scaleMode, screenWidth, screenHeight, stageW || canvas.width, stageH || canvas.height);\n\n    const stageWidth = stageSize.stageWidth;\n    const stageHeight = stageSize.stageHeight;\n    const displayWidth = stageSize.displayWidth;\n    const displayHeight = stageSize.displayHeight;\n\n    if (canvas.style.transformOrigin) {\n        canvas.style.transformOrigin = '0% 0% 0px';\n    }\n    else {\n        canvas.style.webkitTransformOrigin = '0% 0% 0px';\n    }\n\n    const rotation = 0;\n\n    if(scaleMode && scaleMode !== ScaleMode.NO_SCALE) {\n        canvas.style.top = `${top + ((screenHeight - displayHeight) / 2)}px`;\n        canvas.style.left = `${(screenWidth - displayWidth) / 2}px`;\n    }\n\n    const scalex = displayWidth / stageWidth;\n    const scaley = displayHeight / stageHeight;\n\n    let canvasScaleX = scalex * canvasScaleFactor;\n    let canvasScaleY = scaley * canvasScaleFactor;\n\n    if (!isWebGl) {\n        canvasScaleX = Math.ceil(canvasScaleX);\n        canvasScaleY = Math.ceil(canvasScaleY);\n    }\n\n    const m = new vf.Matrix();\n\n    m.identity();\n    m.scale(scalex / canvasScaleX, scaley / canvasScaleY);\n    m.rotate(rotation * Math.PI / 180);\n\n    canvas.style.position = 'absolute';\n    if (canvas.style.transform) {\n        canvas.style.transform = `matrix(${m.a},${m.b},${m.c},${m.d},${m.tx},${m.ty})`;\n    }\n    else {\n        canvas.style.webkitTransform = `matrix(${m.a},${m.b},${m.c},${m.d},${m.tx},${m.ty})`;\n    }\n\n    app.renderer.resize(stageWidth * scalex, stageHeight * scaley);\n    // canvas.style.border = '5px solid red';\n    stage.container.hitArea = new vf.Rectangle(0, 0, stageWidth, stageHeight);\n    stage.width = stageWidth;\n    stage.height = stageWidth;\n    stage.scaleX = canvasScaleX / canvasScaleFactor;\n    stage.scaleY = canvasScaleY / canvasScaleFactor;\n\n    return { width: stageWidth * scalex, height: stageHeight * scaley, scaleX: canvasScaleX, scaleY: canvasScaleY };\n}","/* eslint-disable max-len */\n/* eslint-disable max-statements-per-line */\n\nimport { debug } from \"./Utils\";\n\n/**\n * 设置事件绑定目标\n * @param stage\n * @param parame\n */\nexport function setInteractiveElement(stage: vf.gui.Stage, parame: {className: string; defaultPointer: string; htmlElement?: HTMLElement;resolution?: number}): void {\n    stage.originalEventPreventDefault = true;\n    let element = document.getElementById('drawCanvas');\n\n    if (parame.className && parame.className !== 'canvas-container') { // 优先自定义className， 'canvas-container'是历史遗留默认值\n        element = document.getElementsByClassName(parame.className)[0] as any;\n        if (element) {\n            // 为了解决slider画线默认是黑色，线宽是1的问题\n            // (element as any).width = element.offsetWidth;\n            // (element as any).height = element.offsetHeight;\n        }\n    }\n\n    if(parame.htmlElement){\n        element = parame.htmlElement;\n    }\n\n    if (element === null || element === undefined) {\n        const canvasContainer = document.getElementsByClassName('canvas-container')[0];\n\n        if (canvasContainer && canvasContainer.children[1]) {\n            element = canvasContainer.children[1] as HTMLElement;\n        }\n    }\n\n    if (element === null || element === undefined) {\n        // 无法找到画线，可能是回放模式\\\n        stage.sendToPlayer({\n            code: 'E0002',\n            level: 'error',\n            target: 'setTargetElement',\n            data: [parame],\n        });\n\n        return;\n    }\n\n    const renderer = stage.app.renderer as vf.Renderer;\n    const interaction = renderer.plugins.interaction;\n\n    interaction.setTargetElement(element, parame.resolution || renderer.resolution);\n    interaction.cursorStyles.default = element.style.cursor;\n    if (parame.defaultPointer) {\n        interaction.cursorStyles.pointer = parame.defaultPointer;\n    }\n   \n    element.style.display = 'none';\n    setTimeout(() => { if (element) { element.style.display = ''; } }, 60); // BUG 边检检查\n}\n","/* eslint-disable @typescript-eslint/no-namespace */\nimport * as gui from \"./UI\";\n\ndeclare let VERSION: any;\n\nif((window as any).vf === undefined){\n    (window as any).vf = {};\n}\n(window as any).vf.gui = gui;\n(window as any).vf.gui.VERSION = VERSION;\n\nexport {gui};"],"sourceRoot":""}
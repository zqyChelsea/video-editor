/*!
 * @vf.js/gui - v3.0.3 
 *  Compiled Tue Jun 28 2022 14:22:31 GMT+0800 (China Standard Time) 
 *  https://yunkc.gitee.io/docs/
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=46)}([function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.createDisplayObject=e.ParseDataItem=e.toSVGStr=e.path2shapes=e.toDomRectangle=e.toLoacalTransform=e.toWorldTransform=e.toGlobal=e.toLocal=e.sayHello=e.getGuiClass=e.pointSignAngle=e.pointPlus=e.pointSub=e.pointDistance=e.formatRelative=e.isDeltaIdentity=e.getStringFunctionParam=e.getQueryVariable=e.uid=e.Round=e.Lerp=e.hexToRgb=e.numberToRgb=e.rgbStrToNumber=e.rgbToNumber=e.rgbToHex=e.componentToHex=e.hexToRgba=e.hexListToIntList=e.hexToInt=e.deepCopy=e.now=e.setRectangle=e.getDisplayPathById=e.getStage=e.getDisplayObject=e.getSound=e.getSheet=e.getTexture=e.getSource=e.setDisplayObjectPath=e.$getUIDisplayObjectPath=e.setSourcePath=e.$getSourcePath=e.log=e.debug=void 0;var s=i(2),a=i(32),h=i(18),l=i(62),u=i(34);function c(t,e){if(void 0===t)return e;if("number"==typeof t)return t;if("#"===t.charAt(0)){var i=t.length;i>7&&(console.log("#color longChars need <= 7"),t="#"+t.slice(i-7+1)),t=t.replace("#","0x")}var n=parseInt(t);return isNaN(n)?e:n}function p(t){var e=t.toString(16);return 4==e.length?"00"+e:1==e.length?"0"+e:e}function d(t,e,i){return 65536*t+256*e+i}function f(t){return{r:Math.floor(t/65536),g:Math.floor(t/256)%256,b:t%256}}r(i(64),e),r(i(65),e),r(i(66),e),r(i(67),e),e.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];console.log.apply(console,o([t],e))},e.setSourcePath=function(t){e.$getSourcePath=t},e.setDisplayObjectPath=function(t){e.$getUIDisplayObjectPath=t},e.getSource=function(t){return e.$getSourcePath&&(t=e.$getSourcePath(t)),t},e.getTexture=function(t){if(t instanceof vf.Texture)return t;if(e.$getSourcePath){var i=e.$getSourcePath(t);if(!i)return"string"==typeof t&&-1!==t.indexOf("//")?vf.Texture.from(t):void 0;if((t=i)instanceof vf.Texture||t.extension&&"gif"===t.extension)return t}if(null==t||""===t)return t=void 0;if("string"==typeof t)return vf.Texture.from(t);if("object"==typeof t&&t.extension&&"gif"===t.extension){if(t.data){var n=new u.GifFrames(t);t.frames=n,t.texture=n.getFrame(0).texture}return t}},e.getSheet=function(t){return e.$getSourcePath&&(t=e.$getSourcePath(t)),t},e.getSound=function(t){return e.$getSourcePath&&(t=e.$getSourcePath(t)),t},e.getDisplayObject=function(t,i){return t instanceof s.DisplayObject?t:t instanceof h.DisplayObjectAbstract?t:(e.$getUIDisplayObjectPath&&(t=e.$getUIDisplayObjectPath(t,i)),t)},e.getStage=function t(e){return e.$stage?e.$stage:e.parent instanceof a.Stage?e.parent:e.parent?t(e.parent):void 0},e.getDisplayPathById=function t(e,i){return void 0===i&&(i=[]),""===e.id?i:(i.push(e.id),e.parent?e.parent instanceof a.Stage?i:t(e.parent,i):i)},e.setRectangle=function(t,e,i,n,r){t.x=e,t.y=i,t.width=n,t.height=r},e.now=function(){if(void 0!==performance&&void 0!==performance.now)return performance.now.bind(performance)();var t=performance&&performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart:Date.now();return Date.now()-t},e.deepCopy=function t(e,i){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return[].concat(e);if("object"==typeof e){var n=i||{};for(var r in e)n[r]=t(e[r],n[r]);return n}return e},e.hexToInt=c,e.hexListToIntList=function(t,e){if(void 0===t)return e;var i=[];if(Array.isArray(t))for(var n=t,r=n.length,o=0;o<r;o++){var s=c(n[o],void 0);i.push(s)}else i=c(t,e);return i},e.hexToRgba=function(t,e){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return!!i&&"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+","+e+")"},e.componentToHex=p,e.rgbToHex=function(t,e,i){return"#"+p(t)+p(e)+p(i)},e.rgbToNumber=d,e.rgbStrToNumber=function(t){var e=t.substring(4,t.length-1).split(",");return d(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]))},e.numberToRgb=f,e.hexToRgb=function(t){if(void 0===t&&(t=16777215),"number"==typeof t)return f(t);t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return e+e+i+i+n+n}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:255,g:255,b:255}},e.Lerp=function(t,e,i){return i>1?i=1:i<0&&(i=0),t+(e-t)*i},e.Round=function(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i},e.uid=function(){return vf.utils.uid()},e.getQueryVariable=function(t){var e=new URLSearchParams(location.search);if(e.has(t))return e.get(t)},e.getStringFunctionParam=function(t){var e={};e.key=t.substr(0,t.indexOf("("));var i=t.substr(t.indexOf("(")+1);return e.value=parseFloat(i.substr(0,i.lastIndexOf(")"))),e},e.isDeltaIdentity=function(t){return 1===t.a&&0===t.b&&0===t.c&&1===t.d},e.formatRelative=function(t,e){if(null==t)return NaN;if("number"==typeof t)return t;var i=t,n=i.indexOf("%");return-1==n?+i:.01*+i.substring(0,n)*e},e.pointDistance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},e.pointSub=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},e.pointPlus=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},e.pointSignAngle=function(t,e){var i=t.x*e.y-e.x*t.y,n=t.x*e.x+t.y*e.y;return Math.atan2(i,n)*(360/(2*Math.PI))},e.getGuiClass=function(t){return vf.gui[t]},e.sayHello=function(){vf.utils.versionPrint("gui "+vf.gui.VERSION,"https://yunkc.gitee.io/docs/")},e.toLocal=function(t,e){return e instanceof h.DisplayObjectAbstract?e.container.toLocal(t,void 0):e.toLocal(t,void 0)},e.toGlobal=function(t,e){return e instanceof h.DisplayObjectAbstract?e.container.toGlobal(t,void 0):e.toGlobal(t,void 0)},e.toWorldTransform=function(t){return t instanceof h.DisplayObjectAbstract?t.container.worldTransform:t.worldTransform},e.toLoacalTransform=function(t){return t instanceof h.DisplayObjectAbstract?t.container.localTransform:t.localTransform},e.toDomRectangle=function(t,e){var i,n=new vf.Rectangle;if(e){var r=t.container.toGlobal(e);n.x=r.x,n.y=r.y;var o=t.container.worldTransform;n.width=o.a,n.height=o.d}else n=t.container.getBounds();return i=t.stage?t.stage.app.view:t.app.view,n.x+=i.offsetLeft,n.y+=i.offsetTop,n},e.path2shapes=function(t){return l.parseSvgData(t)},e.toSVGStr=function(t){return l.toSVGString(t)};var _=function(){this.type="M",this.x=0,this.y=0,this.ct1X=0,this.ct1Y=0,this.ct2X=0,this.ct2Y=0};e.ParseDataItem=_,e.createDisplayObject=function(t,e,i){var n=vf.utils.getGuiModule(t);if(n)try{var r=new n;for(var o in e)r[o]=e[o];return i&&i.addChild(r),r}catch(e){console.error("创建"+t+"组件失败：",e)}else console.error("没有找到"+t+"对应的gui模块")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoGroupController=e.GroupController=e.ComponentEvent=e.TouchMouseEvent=e.InteractionEvent=e.MouseScrollEvent=e.InputController=e.DragEvent=e.DragDropController=e.ClickEvent=void 0;var n=i(47);Object.defineProperty(e,"ClickEvent",{enumerable:!0,get:function(){return n.ClickEvent}});var r=i(48);e.DragDropController=r;var o=i(25);Object.defineProperty(e,"DragEvent",{enumerable:!0,get:function(){return o.DragEvent}});var s=i(49);e.InputController=s;var a=i(50);e.VideoGroupController=a;var h=i(26);Object.defineProperty(e,"MouseScrollEvent",{enumerable:!0,get:function(){return h.MouseScrollEvent}});var l=i(17);Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return l.InteractionEvent}});var u=i(16);Object.defineProperty(e,"TouchMouseEvent",{enumerable:!0,get:function(){return u.TouchMouseEvent}});var c=i(27);e.ComponentEvent=c;var p=i(51);e.GroupController=p},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayObject=void 0;var o=i(1),s=i(28),a=i(54),h=i(56),l=i(58),u=i(0),c=i(59),p=i(15),d=i(60),f=function(t){function e(){var e=t.call(this)||this;return e.plugs=new Map,e.dragThreshold=0,e.dragStopPropagation=!0,e._anchorX=0,e._anchorY=0,e._tint=16777215,e._filterProxy={},e._filterMap=new Map,e._filterCount=0,e.grayscaleFilterValue=NaN,e.pixelPerfect=!0,e.attach={},e.container.name=e.constructor.name,e}return r(e,t),Object.defineProperty(e.prototype,"dragOption",{get:function(){return this.plugs.has(l.UIBaseDrag.key)?this.plugs.get(l.UIBaseDrag.key):new l.UIBaseDrag(this)},set:function(t){var e=this.dragOption;u.deepCopy(t,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interactabled",{get:function(){return!!this.plugs.get(c.UIClick.key)},set:function(t){var e=this.plugs.get(c.UIClick.key);t?e||new c.UIClick(this):e&&e.release()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hitArea",{get:function(){return this.plugs.has(d.HitArea.key)?this.plugs.get(d.HitArea.key):new d.HitArea(this)},enumerable:!1,configurable:!0}),e.prototype.checkHitArea=function(){return this.plugs.has(d.HitArea.key)},Object.defineProperty(e.prototype,"isClick",{get:function(){return console.error("[VF LOG] isClick 已弃用，请使用 interactabled 替换!"),this.interactabled},set:function(t){console.error("[VF LOG] isClick 已弃用，请使用 interactabled 替换!"),this.interactabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupName",{get:function(){return this._groupName},set:function(t){void 0===t&&o.GroupController.unRegistrerGroup(this),this._groupName!=t&&(this._groupName=t,o.GroupController.registrerGroup(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.container.alpha},set:function(t){this.container.alpha=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._blendMode&&(void 0!==t?(this._tint=t,this.container.children.forEach((function(e){e.tint&&(e.tint=t)}))):this._tint=16777215)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){t!==this._blendMode&&(this._blendMode=t,this.container.children.forEach((function(e){e instanceof vf.Sprite?e.blendMode=t||vf.BLEND_MODES.NORMAL:e instanceof vf.Graphics&&(e.blendMode=t||vf.BLEND_MODES.NORMAL)})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){if(this._filterCount!==p.Filter.list.size){this._filterCount=p.Filter.list.size;var t=this._filterProxy,e=this._filterMap;null==this.container.filters&&(this.container.filters=[]);var i=this.container.filters;p.Filter.list.forEach((function(n,r){if(!e.has(r)){var o=new n;e.set(r,o),Object.defineProperty(t,r,{get:function(){return-1===i.indexOf(o)&&i.push(o),o},set:function(t){if(null==t||""==t){var n=i.indexOf(o);n>=0&&i.splice(n,1),e.delete(r)}}})}}))}return this._filterProxy},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filterBlur",{get:function(){return this.blurFilter?this.blurFilter.blur:0},set:function(t){var e=this.container;void 0===this.blurFilter&&(this.blurFilter=new vf.filters.BlurFilter(8,1,1),e.filters=[this.blurFilter]),(void 0===t||isNaN(t))&&this.blurFilter&&e.filters?(e.filters.splice(e.filters.indexOf(this.blurFilter),1),this.blurFilter=void 0):this.blurFilter.blur=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filterGrayscale",{get:function(){return 100*this.grayscaleFilterValue},set:function(t){var e=this.container;void 0===this.grayscaleFilter&&(this.grayscaleFilter=new vf.filters.ColorMatrixFilter,e.filters=[this.grayscaleFilter]),(void 0===t||isNaN(t))&&this.grayscaleFilter&&e.filters?(e.filters.splice(e.filters.indexOf(this.grayscaleFilter),1),this.grayscaleFilter=void 0,this.grayscaleFilterValue=NaN):(this.grayscaleFilterValue=t/100,this.grayscaleFilter.greyscale(this.grayscaleFilterValue,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return null==this._style&&(this._style=new a.CSSStyle(this)),this._style},set:function(t){var e=this.style;u.deepCopy(t,e),this.invalidateParentLayout()},enumerable:!1,configurable:!0}),e.prototype.toDomRectangle=function(){return u.toDomRectangle(this)},e.prototype.updateDisplayList=function(t,e){!this.visible||this.alpha<=0||(this._style?h.updateDisplayLayout(this,t,e):(this.updateTransform(),!0===this.checkHitArea()&&this.hitArea.updataHitArea()))},e.prototype.load=function(){this.initializeUIValues(),t.prototype.load.call(this)},e.prototype.release=function(){var e=this,i=e.container,n=e.$mask,r=e.$background,s=e._filterMap,a=e.plugs;i.filters=[],s.clear(),this._style&&(this._style.release(),this._style=void 0),n&&n.release(),r&&r.release(),this.$background=void 0,this.$mask=void 0,a.forEach((function(t){t.release()})),a.clear(),o.GroupController.unRegistrerID(this),o.GroupController.unRegistrerGroup(this),t.prototype.release.call(this)},e.prototype.releaseAll=function(){for(this.offAll(),this.release();this.uiChildren.length>0;)this.uiChildren[0].uiChildren.length>0&&this.uiChildren[0].uiChildren[0].releaseAll(),this.uiChildren[0].releaseAll();this.uiChildren=[],this.container&&this.container.parent&&this.container.parent.removeChild(this.container),this.container.removeAllListeners(),this.container.removeChildren()},e}(s.DisplayLayoutAbstract);e.DisplayObject=f},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.TickerShared=void 0;var o=function(t){function e(){var e=t.call(this)||this;return e.currentTickerTime=performance.now(),e}return r(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.currentTickerTime=performance.now()},e.prototype.update=function(e){void 0===e&&(e=performance.now()),e-this._lastFrame>=this._minElapsedMS&&(this.currentTickerTime+=e-this.lastTime),t.prototype.update.call(this,e)},e.prototype.timeTravel=function(t){for(;t>0;){t-=50,this.currentTickerTime+=50,t<0&&(this.currentTickerTime+=t);for(var e=0;e<2;++e)for(var i=0===e?this:vf.Ticker.shared,n=i._head.next;n;)i.deltaMS=50,n=n.emit(50*vf.settings.TARGET_FPMS)}},e}(vf.Ticker);e.TickerShared=new o,e.TickerShared.autoStart=!1,e.TickerShared.maxFPS=30},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateTextureFill=void 0,e.updateTextureFill=function(t,e){var i,n=e||{style:{}};if(void 0!==n.canvas&&void 0!==n.context){var r=n.style.fillColor;if((!r||Array.isArray(r[0]))&&"number"!=typeof r){var o=[],s=n.style.fillGradientStops.slice();r.forEach((function(t){o.push("rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")")}));var a,h=Math.ceil(n.width),l=Math.ceil(n.height);if(n.canvas.width=h,n.canvas.height=l,n.context.clearRect(0,0,h,l),!s.length)for(var u=o.length+1,c=1;c<u;++c)s.push(c/u);if(n.style.fillGradientType===vf.TEXT_GRADIENT.LINEAR_VERTICAL){a=n.context.createLinearGradient(h/2,0,h/2,l);for(c=0;c<o.length;c++){var p=0;p="number"==typeof s[c]?s[c]:c/o.length,p=Math.min(p,1),a.addColorStop(p,o[c])}}else{a=n.context.createLinearGradient(0,l/2,h,l/2);var d=o.length+1,f=1;for(c=0;c<o.length;c++){var _=void 0;_="number"==typeof s[c]?s[c]:f/d,a.addColorStop(Math.min(_,1),o[c]),f++}}n.context.fillStyle=a,n.context.fillRect(0,0,h,l),null===(i=n.texture)||void 0===i||i.update();var v=new vf.Matrix;return v.tx=-h*n.anchorX,v.ty=-l*n.anchorY,t.beginTextureFill({texture:n.texture,matrix:v}),n}}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GraphBase=void 0;var o=i(2),s=i(0),a=i(23),h=function(t){function e(){var e=t.call(this)||this;return e._radius=0,e._alignment=.5,e._lineType="full",e._lineColor=16777215,e._lineWidth=0,e._lineAlpha=1,e._fillAlpha=1,e.graphics=new a.GraphicsCore,e.container.addChild(e.graphics),e}return r(e,t),e.prototype.maskSprite=function(){return this.graphics},Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this.invalidateSize(),this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineType",{get:function(){return this._lineType},set:function(t){this._lineType!==t&&(this._lineType=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineColor",{get:function(){return this._lineColor},set:function(t){if(this._lineColor!==t){Array.isArray(t)&&(t=s.rgbToNumber(t[0],t[1],t[2]));var e=16777215;isNaN(t)||(e=s.hexToInt(t,e)),this._lineColor=e,this.invalidateDisplayList()}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineAlpha",{get:function(){return this._lineAlpha},set:function(t){this._lineAlpha=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillAlpha",{get:function(){return this._fillAlpha},set:function(t){this._fillAlpha=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._color||this.style.fillColor},set:function(t){if(Array.isArray(t[0]))return this._color=void 0,void(void 0===this.canvas&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.texture=vf.Texture.from(this.canvas)));this.color=s.rgbToNumber(t[0],t[1],t[2])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){if(this._color!==t){var e=void 0;e=s.hexToInt(t,e),this._color=e,this.invalidateDisplayList()}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){this._anchorX=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this._anchorY=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),e.prototype.drawGraph=function(){},e.prototype.release=function(){t.prototype.release.call(this),this.graphics.parent&&this.graphics.parent.removeChild(this.graphics).destroy(),this.canvas&&(this.canvas.height=this.canvas.width=0,this.context=void 0,this.canvas=void 0)},e.prototype.updateDisplayList=function(e,i){this.drawGraph(),t.prototype.updateDisplayList.call(this,e,i)},e}(o.DisplayObject);e.GraphBase=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Tween=void 0;var o=i(0),s=i(21),a=i(33),h=i(11),l=i(19),u=i(12),c=s.Easing.Linear.None,p=function(t){function e(e){var i=t.call(this)||this;return i._valuesEnd=null,i._duration=1e3,i._easingFunction=c,i._easingReverse=c,i._startTime=0,i._delayTime=0,i._repeat=0,i._initRepeat=0,i._isPlaying=!1,i._yoyo=!1,i._reversed=!1,i._onStartCallbackFired=!1,i._isFinite=!0,i._prevTime=0,i._rendered=!1,i._reverseDelayTime=0,i.data={},i._needDownGrade=!1,i.id=o.uid(),i.object=e,i._valuesStart=Array.isArray(e)?[]:{},i._interpolationFunction=a.Interpolation.Linear,i}return r(e,t),e.fromTo=function(t,i,n){return new e(t).to(i,n)},e.to=function(t,i,n){return e.fromTo(t,i,n)},e.from=function(t,i,n){return e.fromTo(t,i,n)},e.prototype.setObject=function(t){this.object=t,this._valuesStart=Array.isArray(t)?[]:{}},e.prototype.onFunction=function(t,e,i){switch(t){case u.TweenEvent.update:this.onUpdate&&this.onUpdate(this.onUpdateParams);break;case u.TweenEvent.start:this.onStart&&this.onStart(this.onStartParams);break;case u.TweenEvent.complete:!0===this.reversed()?this.onReverseComplete&&this.onReverseComplete(this.onReverseCompleteParams):this.onComplete&&this.onComplete(this.onCompleteParams);break;case u.TweenEvent.repeat:this.onRepeat&&this.onRepeat(this.onRepeatParams)}this.emit(t,e,i)},Object.defineProperty(e.prototype,"needDownGrade",{get:function(){return this._needDownGrade},set:function(t){this._needDownGrade=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},set:function(t){this._isPlaying=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valuesEnd",{get:function(){return this._valuesEnd},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valuesStart",{get:function(){return this._valuesStart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isStarted",{get:function(){return this._onStartCallbackFired},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayTime",{get:function(){return this._delayTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startTime",{get:function(){return this._startTime},set:function(t){this._startTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},set:function(t){this._duration="function"==typeof t?t(this._duration):t},enumerable:!1,configurable:!0}),e.prototype.reverse=function(t,e){void 0===e&&(e=NaN);var i=this._reversed;return isNaN(e)||(this._prevTime=e),this._reversed=void 0!==t?t:!i,this},e.prototype.reversed=function(){return this._reversed},e.prototype.pause=function(){return this._isPlaying?(this.isPlaying=!1,h.remove(this),this.emit(u.TweenEvent.pause,this.object)):this},e.prototype.play=function(){return this._isPlaying?this:(this.isPlaying=!0,this._startTime=0,h.add(this),this.emit(u.TweenEvent.play,this.object))},e.prototype.to=function(t,e){return void 0===e&&(e=1e3),this._valuesEnd=t,this._duration=e,this},e.prototype.render=function(){if(this._rendered)return this;var t=this._valuesStart,e=this._valuesEnd,i=this.object;if(!t.processed){for(var n in e){var r=i&&i[n]&&o.deepCopy(i[n]);t[n]=r||0,l.decompose(n,i,t,e)}t.processed=!0}return this._rendered=!0,this},e.prototype.start=function(){return this._startTime+=this._delayTime,this._prevTime=0,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,h.add(this),!0===this._needDownGrade&&this._repeat>=0&&this.toEnd(),this},e.prototype.toEnd=function(){!0===this._yoyo&&(this._reversed=this._repeat%2==1),this._repeat=-1,this.gotoAndEnd()},e.prototype.stop=function(){var t=this,e=t._isPlaying,i=t._isFinite,n=t.object,r=t._duration,o=t._initRepeat,s=t._yoyo,a=t._reversed;if(!e)return this;this.isPlaying=!1;var l=i?(o+1)%2==1:!a;return this._reversed=!1,this._prevTime=s&&l?r:0,this.update(0),h.remove(this),this.emit(u.TweenEvent.stop,n)},e.prototype.delay=function(t){return this._delayTime=t,this},e.prototype.repeat=function(t){return this._repeat=t,//!this._duration ? 0 : amount;
this._initRepeat=this._repeat,this._isFinite=isFinite(t),this},e.prototype.reverseDelay=function(t){return this._reverseDelayTime=t,this},e.prototype.yoyo=function(t,e){return this._yoyo="function"==typeof t?t(this._yoyo):null===t?this._yoyo:t,t||(this._reversed=!1),this._easingReverse=e||this._easingFunction,this},e.prototype.easing=function(t){return this._easingFunction=t,this},e.prototype.easingReverse=function(t){return this._easingReverse=t,this},e.prototype.interpolation=function(t){return"function"==typeof t&&(this._interpolationFunction=t),this},e.prototype.gotoAndPlay=function(t){this._prevTime=t,this.play()},e.prototype.gotoAndStop=function(t){this._prevTime=t,this._isPlaying=!0,this.update(0),this.pause()},e.prototype.gotoAndEnd=function(){this._prevTime=this._duration,this._isPlaying||(this._isPlaying=!0,this.update(this._prevTime))},e.prototype.update=function(t,e,i){var n=this,r=n._onStartCallbackFired,o=n._easingFunction,s=n._easingReverse,a=n._delayTime,p=n._reverseDelayTime,d=n._yoyo,f=n._startTime,_=n._duration,v=n._valuesStart,g=n._valuesEnd,y=n.object,m=n._isFinite;if(!n._isPlaying||f>0&&!i)return this._startTime-=t,this._startTime=Math.max(0,this._startTime),!0;var b,P,S=this._reversed,w=this._repeat;_?(this._prevTime+=t,t>l.TOO_LONG_FRAME_MS&&h.isRunning()&&h.isLagSmoothing()&&(this._prevTime-=l.FRAME_MS),b=(b=this._prevTime/_)>1?1:b,b=S?1-b:b):(d&&(S=w%2==1),b=S?0:1,w=0),r||(this._rendered||(this.render(),this._rendered=!0),this.onFunction(u.TweenEvent.start,y),this._onStartCallbackFired=!0);var O=S&&s||o,x=v;for(P in this._virtualValueStart&&(x=this._virtualValueStart),g){var T=x[P],C=g[P],E=O[P]?O[P](b):"function"==typeof O?O(b):c(b);"number"==typeof C?y[P]=T+(C-T)*E:"boolean"==typeof C?(y[P]=C,b=S?0:1):l.recompose(P,y,x,g,E,b)}return this.onFunction(u.TweenEvent.update,y,b),!(1===b||S&&0===b)||(this._prevTime=0,w>0&&_>0?(m&&this._repeat--,d&&(this._reversed=!S),this.onFunction(d&&!S?u.TweenEvent.reverse:u.TweenEvent.repeat,y),this._startTime=S&&p?p:a,!0):(e||(this.isPlaying=!1,h.remove(this)),this.onFunction(u.TweenEvent.complete,y),this._repeat=this._initRepeat,!1))},e.prototype.release=function(){this.object=void 0,this.stop()},e.core={add:h.add,get:h.get,getAll:h.getAll,remove:h.remove,removeAll:h.removeAll,removeDisplay:h.removeDisplay,update:h.update},e.Event=u.TweenEvent,e}(vf.utils.EventEmitter);e.Tween=p},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var o=i(2),s=function(t){function e(){var e=t.call(this)||this;return e.isContainer=!0,e}return r(e,t),e.prototype.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent instanceof o.DisplayObject?t.parent:void 0}return!1},e}(o.DisplayObject);e.Container=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.SyncManager=void 0;var o=i(17),s=i(0),a=i(3),h=function(t){function e(e){var i=t.call(this)||this;return i._role="T",i.mode=1,i.resumeStatusFlag=!1,i.resumeImmediately=!1,i.offsetTime=0,i._initTime=0,i._lostMoveEvent=[],i._throttleMoveFlag=!1,i._throttleMoveTimer=null,i._evtDataList=[],i._readystate=1,i._sendId=0,i._lastSId=0,i._lastTId=0,i._lastSEventData=void 0,i._lastTEventData=void 0,i._swaitingEventList=[],i._twaitingEventList=[],i._waitTimer=0,i._resumeTimer=0,i._heartTimer=void 0,i._autoHeartTimer=void 0,i.autoHeartFlag=!0,i._initDataTimer=0,i.initDataFlag=!1,i._resumeStoreList=[],i._startFlag=!1,i._lostEvent=[],i._throttleEventTimer=null,i._interactionEvent=new o.InteractionEvent,i._interactionEvent.data||(i._interactionEvent.data=new vf.InteractionData),i._stage=e,i}return r(e,t),e.getInstance=function(t){return void 0===t&&(t=void 0),e.instance},e.getIns=function(){return e.instance},e.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window.syncManagerLog&&console.log.apply(console,t)},e.prototype.stop=function(){this.reset(),this._readystate=0,this._startFlag=!1},e.prototype.start=function(){this.reset();var t=this._stage.getSystemEvent();t&&(t.on("sendCustomEvent",this.sendCustomEvent,this),t.on("sendHeartEvent",this.sendHeartEvent,this)),this._startFlag=!0},e.prototype.reset=function(){this.dealLostEvent(),this._initDataTimer&&clearTimeout(this._initDataTimer),this._throttleMoveTimer&&clearTimeout(this._throttleMoveTimer),this._waitTimer&&clearTimeout(this._waitTimer),this._resumeTimer&&clearTimeout(this._resumeTimer),this._heartTimer&&(clearInterval(this._heartTimer),this._heartTimer=void 0),this._autoHeartTimer&&(clearInterval(this._autoHeartTimer),this._autoHeartTimer=void 0),this.resumeStatusFlag=!1,this.resumeImmediately=!1,this.offsetTime=0,this._initTime=a.TickerShared.currentTickerTime,this._lostMoveEvent=[],this._throttleMoveFlag=!1,this._throttleMoveTimer=null,this._readystate=1,this._sendId=0,this._lastSId=0,this._lastTId=0,this._lastSEventData=void 0,this._lastTEventData=void 0,this._swaitingEventList=[],this._twaitingEventList=[],this._waitTimer=0,this._resumeTimer=0,this._heartTimer=void 0,this._autoHeartTimer=void 0,this.autoHeartFlag=!0,this._initDataTimer=0,this.initDataFlag=!1,this._resumeStoreList=[],this._lastEventData=void 0,this._lostEvent=[],this._throttleEventTimer&&clearTimeout(this._throttleEventTimer);var t=this._stage.getSystemEvent();t&&(t.off("sendCustomEvent",this.sendCustomEvent,this),t.off("sendHeartEvent",this.sendHeartEvent,this))},Object.defineProperty(e.prototype,"role",{get:function(){return this._role},set:function(t){this._role=t,this.initDataFlag=!0},enumerable:!1,configurable:!0}),e.prototype.autoHeartEvent=function(){var t=this;if(this.autoHeartFlag){this._autoHeartTimer&&clearInterval(this._autoHeartTimer);var e=0;this._autoHeartTimer=setInterval((function(){t.sendHeartEvent(),++e>=5&&t._autoHeartTimer&&clearInterval(t._autoHeartTimer)}),1e3)}},e.prototype.syncHeartEvent=function(t,e){var i=this;void 0===e&&(e=12),1==e&&"S"==this.role||2==e&&"T"==this.role||(t<2e3&&(t=2e3),this._heartTimer&&clearInterval(this._heartTimer),this._heartTimer=setInterval((function(){i.sendHeartEvent()}),t))},e.prototype.sendHeartEvent=function(){var t={},e=this.currentTime();t.code="syncHeartEvent",t.time=e,this.sendEvent(t)},e.prototype.collectEvent=function(t,e){if(this._startFlag&&!t.signalling&&e.syncabled){var i=this.createEventData(t,e);i&&(this._autoHeartTimer&&clearInterval(this._autoHeartTimer),"mousemove"===t.type||"touchmove"===t.type?this.throttle(i):(this._lostMoveEvent.length>0&&(clearTimeout(this._throttleMoveTimer),this.sendEvent(this._lostMoveEvent[0]),this._lostMoveEvent=[],this._throttleMoveFlag=!1),this.sendEvent(i),"mousedown"!=t.type&&"mouseup"!=t.type&&"touchstart"!=t.type&&"touchend"!=t.type||this.autoHeartEvent()))}},e.prototype.sendCustomEvent=function(t){if(this._startFlag){var e={},i=this.currentTime();e.code="syncCustomEvent_"+vf.utils.uid()+i,e.time=i,e.data=JSON.stringify(t),this.sendEvent(e)}},e.prototype.sendSyncTimeEvent=function(){var t={code:"syncTimeEvent"};t.time=this.currentTime(),this.sendEvent(t)},e.prototype.receiveEvent=function(t,e){void 0===e&&(e="live"),this._startFlag&&("history"==e?(this.log("syncManager----receive history Event：",t),this.dealHistoryEvent(t)):(this.log("syncManager----receive live Event：",t.id,t.time,t.code,t),this.dealLiveEvent(t)))},e.prototype.dealLiveEvent=function(t){var e=this;if(0!=t.code.indexOf("syncListEvent_")){if("T"===t.role||"S"===t.role)if("syncTimeEvent"!==t.code)"syncHeartEvent"!==t.code&&(0!=t.code.indexOf("syncInteraction_")&&0!=t.code.indexOf("syncCustomEvent_")||(this.resumeStatusFlag?this._resumeStoreList.push(t):3==this.mode&&this._evtDataList.length>0?this._resumeStoreList.push(t):this.checkEventId(t)?(this.parseEventData(t),this.checkWaitingEvent()):(this._swaitingEventList.length>0||this._twaitingEventList.length)&&(clearTimeout(this._waitTimer),this._waitTimer=setTimeout((function(){e.checkWaitingEvent(!0)}),500))));else if(!this.resumeStatusFlag)if(this.currentTime()>t.time+300)this.sendSyncTimeEvent();else{var i=t.time-this.currentTime();this.timeTravel(i)}}else t.data.forEach((function(t){e.dealLiveEvent(t)}))},e.prototype.checkEventId=function(t){if("T"==t.role){if(0!=this._lastTId&&this._lastTId!=t.id-1)return t.id<=this._lastTId?(console.log("syncManager----Tid小于等于已执行eventId，直接放弃",this._lastTId,t.id),!1):(console.log("syncManager----Tid异常，暂存",this._lastTId,t.id),this._twaitingEventList.push(t),!1);this._lastTId=t.id,this._lastTEventData=t}else{if(0!=this._lastSId&&this._lastSId!=t.id-1)return t.id<=this._lastSId?(console.log("syncManager----Sid小于等于已执行eventId，直接放弃",this._lastSId,t.id),!1):(console.log("syncManager----Sid异常，暂存",this._lastSId,t.id),this._swaitingEventList.push(t),!1);this._lastSId=t.id,this._lastSEventData=t}return!0},e.prototype.checkWaitingEvent=function(t){var e=this;if(void 0===t&&(t=!1),clearTimeout(this._waitTimer),this._twaitingEventList.length>0){this._twaitingEventList.sort((function(t,e){return t.id-e.id})),t&&(this._lastTId=this._twaitingEventList[0].id-1);for(var i=0;i<this._twaitingEventList.length;++i){var n=this._twaitingEventList[i];console.log("syncManager----deal 异常Tid",this._lastTId,n.id),n.id==this._lastTId+1&&(this.parseEventData(n),this._lastTId=n.id,this._lastTEventData=n,this._twaitingEventList.splice(i,1),--i)}}if(this._swaitingEventList.length>0){this._swaitingEventList.sort((function(t,e){return t.id-e.id})),t&&(this._lastSId=this._swaitingEventList[0].id-1);for(i=0;i<this._swaitingEventList.length;++i){n=this._swaitingEventList[i];console.log("syncManager----deal 异常Sid",this._lastSId,n.id),n.id==this._lastSId+1&&(this.parseEventData(n),this._lastSId=n.id,this._lastSEventData=n,this._swaitingEventList.splice(i,1),--i)}}(this._swaitingEventList.length>0||this._twaitingEventList.length>0)&&(this._waitTimer=setTimeout((function(){e.checkWaitingEvent(!0)}),500))},e.prototype.currentTime=function(){var t=a.TickerShared.currentTickerTime-this._initTime;return Math.floor(t)},e.prototype.createEventData=function(t,e){var i={};i.type=t.type,i.path=s.getDisplayPathById(e);var n={};i.data=n,n.identifier=t.data.identifier,n.global={x:Math.floor(t.data.global.x),y:Math.floor(t.data.global.y)};
//!!!important: e.data.originalEvent  不支持事件继续传递
var r=this.currentTime(),o={code:"syncInteraction_"+vf.utils.uid()+r,time:r,data:i};if(!this._lastEventData||"mousemove"===t.type||"touchmove"===t.type||this._lastEventData.type!=t.type||this._lastEventData.obj!=e||this._lastEventData.time!=r)return this._lastEventData={type:t.type,obj:e,time:r},o},e.prototype.sendEvent=function(t){"T"!==this.role&&"S"!==this.role||3!=this.mode&&(t.role=this.role,0==t.code.indexOf("syncInteraction")||0==t.code.indexOf("syncCustomEvent")?t.id=++this._sendId:t.id=0,this.checkEventData(t))},e.prototype.checkEventData=function(t){var e=this;0==t.code.indexOf("syncInteraction")?"mouseup"==t.data.type||"touchend"==t.data.type?(t.data=JSON.stringify(t.data),this._lostEvent.push(t),this._throttleEventTimer&&clearTimeout(this._throttleEventTimer),this.dealLostEvent()):"mousedown"==t.data.type||"touchstart"==t.data.type?(t.data=JSON.stringify(t.data),this._lostEvent.push(t),1==this._lostEvent.length&&(this._throttleEventTimer&&clearTimeout(this._throttleEventTimer),this._throttleEventTimer=setTimeout((function(){e.dealLostEvent()}),300))):(t.data=JSON.stringify(t.data),this._lostEvent.push(t),1==this._lostEvent.length&&this.dealLostEvent()):(this._lostEvent.push(t),this._throttleEventTimer&&clearTimeout(this._throttleEventTimer),this.dealLostEvent())},e.prototype.dealLostEvent=function(){if(0!=this._lostEvent.length){if(1==this._lostEvent.length)this.realSendEvent(this._lostEvent[0]);else{var t={code:"syncListEvent_"+vf.utils.uid()+this.currentTime(),time:this.currentTime(),data:this._lostEvent};this.realSendEvent(t)}this._lostEvent=[]}},e.prototype.realSendEvent=function(t){var e=this._stage;e.emit("sendSyncEvent",t);var i={level:"command",code:"syncEvent",data:t};e.sendToPlayer(i),this.log("syncManager----sendSyncEvent：",t.id,t.time,t.code,t)},e.prototype.throttleUpdate=function(){this._throttleMoveFlag=!1,this._lostMoveEvent.length>0&&(this.throttle(this._lostMoveEvent[0]),this._lostMoveEvent=[])},e.prototype.throttle=function(t){var e=this;this._throttleMoveFlag?(this._lostMoveEvent=[],this._lostMoveEvent.push(t)):(this._throttleMoveFlag=!0,this.sendEvent(t),this._throttleMoveTimer=setTimeout((function(){e.throttleUpdate()}),200))},e.prototype.resetStage=function(){var t=this._stage;t.reset?t.reset(!1):console.error("当前stage没有reset方法，使用输入同步需要自定义reset方法用于场景重置!!!"),this._autoHeartTimer&&clearInterval(this._autoHeartTimer)},e.prototype.parseEventData=function(t){var e=this._stage,i=t.time,n=this.currentTime();if(n<i){var r=i-n;this.timeTravel(r)}if(0==t.code.indexOf("syncInteraction_")){var o=JSON.parse(t.data);this._interactionEvent.signalling=!0,this._interactionEvent.type=o.type;var s=o.data;this._interactionEvent.data.identifier=s.identifier,this._interactionEvent.data.global.set(s.global.x,s.global.y);var a=e.getChildByPath(o.path);if(a){if(this.resumeStatusFlag&&!a.resumeabled)return;a.container.emit(this._interactionEvent.type,this._interactionEvent),this.log("syncManager----syncInteraction_success:",t)}else console.error("当前页面没有找到对应path的组件！",o.path)}else if(0==t.code.indexOf("syncCustomEvent_")){s=JSON.parse(t.data);var h=e.getSystemEvent();h&&h.emit("receiveCustomEvent",{code:"receiveCustomEvent",level:"command",data:s}),e.emit("receiveCustomEvent",s),this.emit("receiveCustomEvent",s),this.log("syncManager----syncCustomEvent_success:",t)}},e.prototype.timeTravel=function(t){if(!(t<=0)){var e=!1;this._stage.renderable&&(this._stage.renderable=!1,e=!0),a.TickerShared.timeTravel(t),e&&(this._stage.renderable=!0)}},e.prototype.initData=function(t){var e={level:"command",code:"VFInitData",data:{history:t}};this._initDataTimer&&clearTimeout(this._initDataTimer);var i=this._stage,n=i.getSystemEvent();n&&n.emit("VFInitData",e),i.emit("VFInitData",e),this.emit("VFInitData",{history:t})},e.prototype.dealHistoryEvent=function(t){for(var e in t){if(0==e.indexOf("syncListEvent_"))t[e].data.forEach((function(e){t[e.code]=e})),delete t[e]}if(this._initTime=a.TickerShared.currentTickerTime,this._evtDataList=[],!t)return this.sendSyncTimeEvent(),this.autoHeartEvent(),void this.initData(!1);var i=!1;for(var e in t)0!=e.indexOf("syncInteraction_")&&0!=e.indexOf("syncCustomEvent_")&&0!=e.indexOf("syncHeartEvent")||this._evtDataList.push(t[e]),0==e.indexOf("syncCustomEvent_")&&(i=!0);if(0==this._evtDataList.length)return this.sendSyncTimeEvent(),this.autoHeartEvent(),void this.initData(!1);this.initData(i),this.resumeImmediately?this.resumeStatusImmediately():this.resumeStatus()},e.prototype.resumeStatusImmediately=function(){var t=this;if(0!==this._readystate){this.resumeStatusFlag=this._stage.resumeStatusFlag=!0,this._initTime=a.TickerShared.currentTickerTime,this._stage.renderable=!1,this._evtDataList.sort((function(t,e){return t.time!==e.time?t.time-e.time:t.id-e.id}));for(var e=0;e<this._evtDataList.length;++e){var i=this._evtDataList[e];this.parseEventData(i),0!=i.code.indexOf("syncInteraction")&&0!=i.code.indexOf("syncCustomEvent")||("T"==i.role?(this._lastTId=i.id,this._lastTEventData=i,"T"==this.role&&(this._sendId=i.id)):(this._lastSId=i.id,this._lastSEventData=i,"S"==this.role&&(this._sendId=i.id)))}this._evtDataList=[],this._resumeStoreList.forEach((function(e){t.receiveEvent(e,"live")})),this._resumeStoreList=[],this._stage.renderable=!0,this.resumeStatusFlag=this._stage.resumeStatusFlag=!1,this.sendSyncTimeEvent(),this.autoHeartEvent()}},e.prototype.resumeStatus=function(){if(3==this.mode){var t=this._stage.getSystemEvent();t&&t.on("status",this.resetCallback,this),this.resetStage()}else this.resumeStatusImmediately()},e.prototype.resetCallback=function(t){if("ScenComplete"==t.code){var e=this._stage.getSystemEvent();e&&e.off("status",this.resetCallback,this),this.resumeStatusImmediately()}},e}(vf.utils.EventEmitter);e.SyncManager=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Image=void 0;var o=i(2),s=i(0),a=i(1),h=i(37),l=i(34),u=function(t){function e(){var e=t.call(this)||this;return e._isGif=!1,e._fillMode="no-repeat",e}return r(e,t),e.prototype.maskSprite=function(){return this.srcSystem(),this.commitProperties(),this._sprite},Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(t){t!==this._src&&(this._src=t,this.srcSystem())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale9Grid",{get:function(){return this._scale9Grid},set:function(t){t!==this._scale9Grid&&(this._scale9Grid=t,this.invalidateProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillMode",{get:function(){return this._fillMode},set:function(t){t!==this._fillMode&&(this._fillMode=t,this.invalidateProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){t!==this._anchorX&&(this._anchorX=t,this.invalidateProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){t!==this.anchorY&&(this._anchorY=t,this.invalidateProperties())},enumerable:!1,configurable:!0}),e.prototype.setSpeiteSize=function(t,e){var i=this._sprite;i&&(t&&(i.width=t),e&&(i.height=e),this.setActualSize(i.width,i.height,!1))},e.prototype.measure=function(){this._texture?this.setMeasuredSize(this._texture.width,this._texture.height):this.setMeasuredSize(0,0)},e.prototype.srcSystem=function(){var t=this;if(this._oldSrc!==this._src)if(this._oldSrc=this._src,void 0!==this._src&&""!==this._src){this._texture&&this._texture.removeAllListeners&&this._texture.removeAllListeners();var e=this._texture=s.getTexture(this.src);e&&(this._isGif=!1,e.extension&&"gif"===e.extension&&(this._isGif=!0,e=e.texture),e.frame.width>1&&e.frame.height>1&&(this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()),e.once("update",(function(){t.invalidateProperties(),t.invalidateSize(),t.invalidateDisplayList(),t.emit(a.ComponentEvent.COMPLETE,t)}),this))}else this._sprite&&this._texture&&(this._sprite.destroy(),this._sprite=void 0,this._oldFillMode=void 0,this._oldScale9Grid=void 0,this._texture.baseTexture.dispose(),this._texture.removeAllListeners&&this._texture.removeAllListeners(),this._texture=void 0)},e.prototype.commitProperties=function(){if(void 0!==this._texture){var t=this._sprite,e=this._sprite,i=this._texture;if((this._oldFillMode!==this._fillMode||e instanceof h.GifSprite)&&!1===this._isGif){this._oldFillMode=this._fillMode;try{"no-repeat"===this.fillMode?t=new vf.Sprite(i):"repeat"===this.fillMode?t=new vf.TilingSprite(i):"scale"===this.fillMode&&(t=new vf.NineSlicePlane(i))}catch(e){t=vf.Sprite.from(i)}}else if(!(e instanceof h.GifSprite&&e||!0!==this._isGif)){var n=this._texture;if(n.data&&!0===this._isGif){var r=new l.GifFrames(n);n.frames=r,n.texture=r.getFrame(0).texture}t=new h.GifSprite(n)}if(t!==e&&(this._oldScale9Grid=void 0,e&&e!==t&&(this.container.removeChild(e),t&&(t.width=e.width,t.height=e.height),e.removeAllListeners(),e.destroy()),t&&!t.parent&&(this._sprite=this.container.addChild(t))),void 0!==t){if(t.texture!==i&&!1===this._isGif&&(t.texture=i),t.tint!==this.tint&&(t.tint=this.tint),this.blendMode&&(t.blendMode=this.blendMode),this._oldScale9Grid!==this._scale9Grid){this._oldScale9Grid=this._scale9Grid;var o=this._scale9Grid;void 0===o&&(o=[void 0,void 0,void 0,void 0]),t instanceof vf.TilingSprite?(t.tileScale.set(o[0]||1,o[1]||1),t.tilePosition.set(o[2],o[3])):t instanceof vf.NineSlicePlane&&(t.leftWidth=o[0]||10,t.rightWidth=o[1]||10,t.topHeight=o[2]||10,t.bottomHeight=o[3]||10)}this._anchorX||this._anchorY?(t.y=-Math.floor(t.height*this._anchorY),t.x=-Math.floor(t.width*this._anchorX)):(t.x=0,t.y=0)}}},e.prototype.updateDisplayList=function(e,i){if(!(0===e&&0===i||1===e&&1===i)){var n=this._sprite;n&&(n.width=e,n.height=i,this._anchorX||this._anchorY?(n.y=-Math.floor(n.height*this._anchorY),n.x=-Math.floor(n.width*this._anchorX)):(n.x=0,n.y=0),t.prototype.updateDisplayList.call(this,e,i))}},e.prototype.release=function(){t.prototype.release.call(this),this.offAll(a.ComponentEvent.COMPLETE),this._sprite&&this._sprite.parent&&(this._sprite.removeAllListeners(),this._sprite.parent.removeChild(this._sprite).destroy()),this._sprite=void 0,this._texture&&(this._texture.removeAllListeners(),this._texture=void 0),this._source=void 0,this._src=void 0,this._oldSrc=void 0},e}(o.DisplayObject);e.Image=u},function(t,e,i){"use strict";function n(t){return Symbol(t)||t}Object.defineProperty(e,"__esModule",{value:!0}),e.verticalCenter=e.horizontalCenter=e.bottom=e.top=e.right=e.left=e.oldPreferHeight=e.oldPreferWidth=e.measuredHeight=e.measuredWidth=e.percentHeight=e.percentWidth=e.maxHeight=e.minHeight=e.maxWidth=e.minWidth=e.explicitHeight=e.explicitWidth=e.height=e.width=e.includeInLayout=e.invalidateDisplayListFlag=e.invalidateSizeFlag=e.invalidatePropertiesFlag=void 0,e.invalidatePropertiesFlag=n("invalidatePropertiesFlag"),e.invalidateSizeFlag=n("invalidateSizeFlag"),e.invalidateDisplayListFlag=n("invalidateDisplayListFlag"),e.includeInLayout=n("includeInLayout"),e.width=n("width"),e.height=n("height"),e.explicitWidth=n("explicitWidth"),e.explicitHeight=n("explicitHeight"),e.minWidth=n("minWidth"),e.maxWidth=n("maxWidth"),e.minHeight=n("minHeight"),e.maxHeight=n("maxHeight"),e.percentWidth=n("percentWidth"),e.percentHeight=n("percentHeight"),e.measuredWidth=n("measuredWidth"),e.measuredHeight=n("measuredHeight"),e.oldPreferWidth=n("oldPreferWidth"),e.oldPreferHeight=n("oldPreferHeight"),e.left=n("left"),e.right=n("right"),e.top=n("top"),e.bottom=n("bottom"),e.horizontalCenter=n("horizontalCenter"),e.verticalCenter=n("verticalCenter")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.releaseAllTimeLine=e.removeTimeLine=e.addTimeLine=e.isLagSmoothing=e.isRunning=e.update=e.removeDisplay=e.remove=e.get=e.removeAll=e.getAll=e.ToggleLagSmoothing=e.FrameThrottle=e.add=e.Plugins=void 0;var n=i(3),r=[],o=[],s=!1,a=0,h=120,l=!0;function u(t){var e=r.indexOf(t);-1!==e&&r.splice(e,1),0===r.length&&(s=!1)}e.Plugins={},e.add=function(t){var e=r.indexOf(t);e>-1&&r.splice(e,1),r.push(t),a=0,s=!0},e.FrameThrottle=function(t){void 0===t&&(t=120),h=1.05*t},e.ToggleLagSmoothing=function(t){void 0===t&&(t=!0),l=t},e.getAll=function(){return r},e.removeAll=function(){r.length=0,s=!1},e.get=function(t){for(var e=0;e<r.length;e++)if(t===r[e])return r[e];return null},e.remove=u,e.removeDisplay=function(t){for(var e=0;e<r.length;e++)if(r[e].object.uuid&&t===r[e].object.uuid)return r[e].stop(),void u(r[e])},e.update=function(t){if(!s)return!1;if(a>=h&&l)return console.log("mptyFrame >= powerModeThrottle && handleLag"),s=!1,a=0,!1;r.length||a++;for(var e=0,i=r.length;e<i;)r[e++].update(n.TickerShared.deltaMS,!1),i>r.length&&e--,i=r.length;return!0},e.isRunning=function(){return s},e.isLagSmoothing=function(){return l},e.addTimeLine=function(t){var e=o.indexOf(t);e>-1&&o.splice(e,1),o.push(t)},e.removeTimeLine=function(t){var e=o.indexOf(t);-1!==e&&o.splice(e,1)},e.releaseAllTimeLine=function(){o.forEach((function(t){t&&t.release()})),o.length=0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TweenEvent=void 0,e.TweenEvent={Callback:"Callback",update:"update",complete:"complete",start:"start",repeat:"repeat",reverse:"reverse",pause:"pause",play:"play",restart:"restart",stop:"stop"}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Scheduler=void 0;var o=i(3),s=function(t){function e(e,i){void 0===e&&(e=1/0),void 0===i&&(i=0);var n=t.call(this)||this;return n._interval=0,n._timeout=1/0,n._id=Math.random(),n._running=!1,n._pausing=!1,n._totalDuration=0,n._intervalDuration=0,n._timeout=e,n._interval=i,n.restart(),n}return r(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.stopAll=function(){for(var t=0;t<e.schedulerList.length;++t)e.schedulerList[t].stop();console.log("removeAll",e.schedulerList),e.schedulerList=[]},e.setEnterFrame=function(t){var i=new e(1/0,0);return i.addListener("tick",t),e.schedulerList.push(i),i},e.setInterval=function(t,i){var n=new e(1/0,t);return n.addListener("tick",i),e.schedulerList.push(n),n},e.setTimeout=function(t,i){var n=new e(t,1/0);return n.addListener("end",i,n),e.schedulerList.push(n),n},e.prototype.restart=function(){this._totalDuration=0,this._intervalDuration=0,this._pausing=!1,this._running||(this._running=!0,o.TickerShared.add(this.run,this))},e.prototype.stop=function(){this._running&&(this._running=!1,o.TickerShared.remove(this.run,this));for(var t=0;t<e.schedulerList.length;++t)if(e.schedulerList[t]==this){e.schedulerList.splice(t,1);break}},e.prototype.pause=function(){this._running&&!this._pausing&&(this._pausing=!0,o.TickerShared.remove(this.run,this))},e.prototype.resume=function(){this._pausing&&(this._pausing=!1,o.TickerShared.add(this.run,this))},e.prototype.run=function(t){if(this._totalDuration+=o.TickerShared.deltaMS,this._intervalDuration+=o.TickerShared.deltaMS,this._intervalDuration>=this._interval){var e={code:"tick",level:"status",target:this,dt:this._intervalDuration,elapsed:this._totalDuration};this.emit("tick",e),this._intervalDuration=0}if(this._totalDuration>=this._timeout){e={code:"end",level:"status",target:this,dt:this._intervalDuration,elapsed:this._totalDuration};this.emit("end",e),this.stop()}return!1},e.schedulerList=[],e}(vf.utils.EventEmitter);e.Scheduler=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=void 0;var o=i(4),s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.drawGraph=function(){var t=this.graphics;t.clear(),this._lineWidth<0?console.log("属性错误，线宽小于0"):(t.lineStyle(this._lineWidth,this._lineColor,this._lineAlpha,.5,!1,this.lineType),this.color?t.beginFill(this._color,this._fillAlpha):o.updateTextureFill(this.graphics,this),t.drawRoundedRect(this._anchorX?-this._anchorX*this.width:0,this._anchorY?-this._anchorY*this.height:0,this.width,this.height,this._radius),t.endFill())},e}(i(5).GraphBase);e.Rect=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Alert=e.SyncManager=e.Animation=e.AnimationJitter=e.PathGraphics=e.NumberFrame=e.Scheduler=e.Enum=e.Event=e.SpriteAnimated=e.Image=e.Easing=e.TimeLine=e.Tween=e.TickerShared=e.DisplayObject=e.Interaction=e.Polygon=e.ScrollBar=e.ConnectLine=e.Tracing=e.FollowLine=e.Graphics=e.Isosceles=e.Ellipse=e.Arrow=e.Star=e.Circle=e.Rect=e.CheckBox=e.Video=e.Button=e.TextInput=e.Label=e.Slider=e.ScrollingContainer=e.AutoContainer=e.Container=e.Stage=e.Utils=e.Filter=e.Audio=void 0;var n=i(0);e.Utils=n;var r=i(32);Object.defineProperty(e,"Stage",{enumerable:!0,get:function(){return r.Stage}});var o=i(2);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return o.DisplayObject}});var s=i(3);Object.defineProperty(e,"TickerShared",{enumerable:!0,get:function(){return s.TickerShared}});var a=i(68);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return a.Filter}});var h=i(7);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return h.Container}});var l=i(69);Object.defineProperty(e,"ScrollingContainer",{enumerable:!0,get:function(){return l.ScrollingContainer}});var u=i(9);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return u.Image}});var c=i(71);Object.defineProperty(e,"SpriteAnimated",{enumerable:!0,get:function(){return c.SpriteAnimated}});var p=i(22);Object.defineProperty(e,"Label",{enumerable:!0,get:function(){return p.Label}});var d=i(72);Object.defineProperty(e,"TextInput",{enumerable:!0,get:function(){return d.TextInput}});var f=i(36);Object.defineProperty(e,"Slider",{enumerable:!0,get:function(){return f.Slider}});var _=i(39);Object.defineProperty(e,"Button",{enumerable:!0,get:function(){return _.Button}});var v=i(74);Object.defineProperty(e,"CheckBox",{enumerable:!0,get:function(){return v.CheckBox}});var g=i(14);Object.defineProperty(e,"Rect",{enumerable:!0,get:function(){return g.Rect}});var y=i(40);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return y.Circle}});var m=i(41);Object.defineProperty(e,"Star",{enumerable:!0,get:function(){return m.Star}});var b=i(75);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return b.Polygon}});var P=i(76);Object.defineProperty(e,"Arrow",{enumerable:!0,get:function(){return P.Arrow}});var S=i(77);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return S.Ellipse}});var w=i(78);Object.defineProperty(e,"Isosceles",{enumerable:!0,get:function(){return w.Isosceles}});var O=i(24);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return O.Graphics}});var x=i(79);Object.defineProperty(e,"FollowLine",{enumerable:!0,get:function(){return x.FollowLine}});var T=i(81);Object.defineProperty(e,"Video",{enumerable:!0,get:function(){return T.Video}});var C=i(83);Object.defineProperty(e,"ConnectLine",{enumerable:!0,get:function(){return C.ConnectLine}});var E=i(84);Object.defineProperty(e,"Tracing",{enumerable:!0,get:function(){return E.Tracing}});var j=i(35);Object.defineProperty(e,"ScrollBar",{enumerable:!0,get:function(){return j.ScrollBar}});var D=i(21);Object.defineProperty(e,"Easing",{enumerable:!0,get:function(){return D.Easing}});var A=i(6);Object.defineProperty(e,"Tween",{enumerable:!0,get:function(){return A.Tween}});var M=i(42);Object.defineProperty(e,"AnimationJitter",{enumerable:!0,get:function(){return M.AnimationJitter}});var I=i(85);Object.defineProperty(e,"Animation",{enumerable:!0,get:function(){return I.Animation}});var L=i(44);Object.defineProperty(e,"NumberFrame",{enumerable:!0,get:function(){return L.NumberFrame}});var k=i(20);Object.defineProperty(e,"TimeLine",{enumerable:!0,get:function(){return k.TimeLine}});var F=i(45);Object.defineProperty(e,"Audio",{enumerable:!0,get:function(){return F.Audio}});var N=i(1);e.Interaction=N;var G=i(89);e.Event=G;var R=i(90);e.Enum=R;var B=i(13);Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return B.Scheduler}});var H=i(8);Object.defineProperty(e,"SyncManager",{enumerable:!0,get:function(){return H.SyncManager}});var W=i(93);Object.defineProperty(e,"PathGraphics",{enumerable:!0,get:function(){return W.PathGraphics}});var V=i(94);Object.defineProperty(e,"Alert",{enumerable:!0,get:function(){return V.Alert}});var z=i(95);Object.defineProperty(e,"AutoContainer",{enumerable:!0,get:function(){return z.AutoContainer}}),window.PIXI=vf},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TouchMouseEvent=void 0,e.TouchMouseEvent={onHover:"hover",onPress:"press",onDown:"down",onUp:"up",onClick:"click",onRightDown:"rigthdown",onMove:"move",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave"}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionEvent=void 0;var o=new vf.Point(0,0),s=function(t){function e(){var e=t.call(this)||this;return e.signalling=!1,e.local=o,e}return r(e,t),e}(vf.InteractionEvent);e.InteractionEvent=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayObjectAbstract=void 0;var o=i(30),s=i(1),a=i(0),h=i(52),l=i(53),u=function(t){function e(){var e=t.call(this)||this;return e.id="",e.name="",e.$nestLevel=0,e.initialized=!1,e.uiChildren=[],e.$background=new h.Background(e),e.$mask=new l.Mask(e),e.syncabled=!0,e.resumeabled=!0,e._interactive=!0,e._interactiveChildren=!0,e._enabled=!0,e._visible=!0,e.uuid=a.uid(),e.container=new o.ContainerBase,e.container.on("added",e.$onAddStage,e),e.container.on("removed",e.$onRemoveStage,e),e}return r(e,t),e.prototype.addChild=function(t){return this.container.children.length!==this.uiChildren.length?this.addChildAt(t,this.container.children.length):this.addChildAt(t,this.uiChildren.length)},e.prototype.addChildAt=function(t,e){return t.parent&&t.parent.removeChild(t),t.parent=this,t.$nestLevel=this.$nestLevel+1,this.uiChildren.splice(e,0,t),t.initialized||(t.initialized=!0,t.$onInit()),e=Math.min(e,this.container.children.length),this.emit(s.ComponentEvent.ADD,this),this.$background&&this.$background.isInit?this.container.addChildAt(t.container,Math.min(e+1,this.container.children.length)):this.container.addChildAt(t.container,e),t},e.prototype.getChildAt=function(t){return this.uiChildren[t]||void 0},e.prototype.getChildByUUID=function(t){for(var e=this.uiChildren,i=e.length,n=0;n<i;n++)if(e[n].uuid==t)return e[n]},e.prototype._getChildById=function(t){for(var e=this.uiChildren,i=e.length,n=0;n<i;n++)if(e[n].id===t)return e[n]},e.prototype.getChildByPath=function(t){for(var e=this,i=t.length-1;i>=0;i--)e=e?e._getChildById(t[i]):void 0;return e},e.prototype.removeChild=function(t){var e=this.uiChildren.indexOf(t);return-1===e?t:this.removeChildAt(e)},e.prototype.removeChildAt=function(t){t=Math.max(0,t),t=Math.min(this.uiChildren.length,t);var e=this.uiChildren[t];return e&&(e.container.parent.removeChild(e.container),this.uiChildren.splice(t,1),e.parent=void 0),e},e.prototype.removeChildren=function(t,e,i){void 0===t&&(t=!1);for(var n=e||0,r=(i||this.uiChildren.length)-1;r>=n;r--){var o=this.removeChild(this.uiChildren[r]);t&&o.release()}},Object.defineProperty(e.prototype,"renderable",{get:function(){return this.container.renderable},set:function(t){this.container.renderable=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interactive",{get:function(){return this.container.interactive},set:function(t){this._interactive=t,this._enabled&&(this.container.interactive=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interactiveChildren",{get:function(){return this.container.interactiveChildren},set:function(t){this._interactiveChildren=t,this._enabled&&(this.container.interactiveChildren=t)},enumerable:!1,configurable:!0}),e.prototype.validateNow=function(){},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!==t&&(this._enabled=t,this.container.interactive=t,this.container.interactiveChildren=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,!0===t&&this.validateNow(),this.container.visible=t)},enumerable:!1,configurable:!0}),e.prototype.offAll=function(t){return this.removeAllListeners(t)},Object.defineProperty(e.prototype,"stage",{get:function(){return null==this.$stage&&(this.$stage=a.getStage(this)),this.$stage},enumerable:!1,configurable:!0}),e.prototype.checkInvalidateFlag=function(){},e.prototype.load=function(){this.$onLoad()},e.prototype.release=function(){this.parent&&this.parent.removeChild(this),this.$onRelease(),this.$stage=void 0},e.prototype.$onInit=function(){this.emit(s.ComponentEvent.CREATION_COMPLETE,this)},e.prototype.$onLoad=function(){},e.prototype.$onRelease=function(){},e.prototype.$onAddStage=function(){this.checkInvalidateFlag(),this.emit(s.ComponentEvent.ADDED,this)},e.prototype.$onRemoveStage=function(){this.checkInvalidateFlag(),this.parent=void 0,this.emit(s.ComponentEvent.REMOVEED,this)},e}(vf.utils.EventEmitter);e.DisplayObjectAbstract=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_NESTED=e.recompose=e.isRGBColor=e.RGBA=e.RGB=e.decompose=e.decomposeString=e.NUM_REGEX=e.STRING_PROP=e.CHAINED_TWEENS=e.TOO_LONG_FRAME_MS=e.FRAME_MS=void 0;var n=i(0);e.FRAME_MS=50/3,e.TOO_LONG_FRAME_MS=250,e.CHAINED_TWEENS="_chainedTweens",e.STRING_PROP="STRING_PROP",e.NUM_REGEX=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;var r=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,o=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=n.hexToRgb(t);return"rgb("+r.r+", "+r.g+", "+r.b+")"};function s(t){if(t&&t.splice&&t.isString)return t;if("string"!=typeof t)return t;if("="===t.charAt(1))return t;var i,n=t.replace(r,o).match(e.NUM_REGEX);return n&&n.map&&(i=n.map((function(t){return function(t){return isNaN(+t)||("+"===t[0]||"-"===t[0])&&"="===t[1]||""===t||" "===t}(t)?t:+t}))),i.isString=!0,i}function a(t,i,n){return void 0===n&&(n=e.RGB),"number"==typeof t[i]&&(t[i-1]===n||t[i-3]===n||t[i-5]===n)}e.decomposeString=s,e.decompose=function t(i,n,r,o){var a=r[i],h=o[i];if(a===h)return!0;if(Array.isArray(a)&&Array.isArray(h)&&a.length===h.length)for(var l=0,u=h.length;l<u;l++){var c=a[l],p=h[l];c===p||"number"==typeof c&&"number"==typeof p||t(l,n[i],a,h)}if("number"==typeof a&&"number"==typeof h);else if(a&&a.splice&&a.isString&&h&&h.splice&&h.isString);else{if("string"==typeof a&&Array.isArray(h)){var d=s(a),f=h.map(s);return r[i]=d,o[i]=f,!0}if("string"==typeof a||"string"==typeof h){d=Array.isArray(a)&&a[0]===e.STRING_PROP?a:s(a);var _=Array.isArray(h)&&h[0]===e.STRING_PROP?h:s(h);if(void 0===d)return;for(l=1;l<d.length;)d[l]===_[l]&&"string"==typeof d[l-1]?(d.splice(l-1,2,d[l-1]+d[l]),_.splice(l-1,2,_[l-1]+_[l])):l++;return l=0,d[0]===e.STRING_PROP&&d.shift(),_[0]===e.STRING_PROP&&_.shift(),r[i]=d,o[i]=_,!0}if("object"==typeof a&&"object"==typeof h){if(Array.isArray(a)&&!a.isString&&a.map)return a.map((function(e,r){return t(r,n[i],a,h)}));for(var v in h)t(v,n[i],a,h);return!0}}return!1},e.RGB="rgb(",e.RGBA="rgba(",e.isRGBColor=a,e.recompose=function t(i,n,r,o,s,h,l){var u=l?r:r[i],c=l?o:o[i];if(void 0===c)return u;if(void 0===u||"string"==typeof u||u===c)return c;if("object"==typeof u&&"object"==typeof c){if(!u||!c)return n[i];if("object"==typeof u&&u&&u.isString&&c&&c.splice&&c.isString){for(var p="",d=0,f=u.length;d<f;d++)if(u[d]!==c[d]||"number"!=typeof u[d]||"number"==typeof c[d]){var _="number"==typeof u[d]&&"string"==typeof c[d]&&"="===c[d][1],v="number"!=typeof u[d]?u[d]:_?u[d]+parseFloat(c[d][0]+c[d].substr(2))*s:u[d]+(c[d]-u[d])*s;(a(u,d)||a(u,d,e.RGBA))&&(v|=0),p+=v,_&&1===h&&(u[d]=u[d]+parseFloat(c[d][0]+c[d].substr(2)))}else p+=u[d];return l||(n[i]=p),p}if(Array.isArray(u)&&u[0]!==e.STRING_PROP)for(d=0,f=u.length;d<f;d++)u[d]!==c[d]&&"string"!=typeof n[i]&&t(d,n[i],u,c,s,h);else if("object"==typeof u&&u&&!u.isString)for(var d in u)u[d]!==c[d]&&t(d,n[i],u,c,s,h)}else if("number"==typeof u){_="string"==typeof c;n[i]=_?u+parseFloat(c[0]+c.substr(2))*s:u+(c-u)*s,_&&1===h&&(r[i]=n[i])}else"function"==typeof c&&(n[i]=c(s));return n[i]};var h=/([.[])/g,l=/\]/g,u=function(t,e){var i=t[e],n=e.replace(l,"").split(h),r=n.length-1,o=Array.isArray(t),s="object"==typeof t&&!o;return s?(t[e]=null,delete t[e]):o&&t.splice(e,1),n.reduce((function(t,e,a){o&&"."!==e&&"["!==e&&(e*=1);var h="["===n[a+1];if("."===e||"["===e)return"."===e?(s=!0,o=!1):"["===e&&(s=!1,o=!0),t;if(void 0===t[e]){if(o||s)return t[e]=a===r?i:o||h?[]:s?{}:null,s=o=!1,t[e]}else if(void 0!==t[e])return a===r&&(t[e]=i),t[e];return t}),t)};e.SET_NESTED=function(t){if("object"==typeof t&&t)for(var e in t)if(-1!==e.indexOf(".")||-1!==e.indexOf("["))u(t,e);else if("object"==typeof t[e]&&t[e]){var i=t[e];for(var n in i)if(-1!==n.indexOf(".")||-1!==n.indexOf("["))u(i,n);else if("object"==typeof i[n]&&i[n]){var r=i[n];for(var o in r)-1===o.indexOf(".")&&-1===o.indexOf("[")||u(r,o)}}return t}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.TimeLine=e.TimeLineDataItem=e.TimeLineDefaultData=void 0;var o=i(6),s=i(3),a=i(11),h=function(){this.delay=0,this.paused=!1,this.repeat=0,this.yoyo=!1};e.TimeLineDefaultData=h;var l=function(){this.positionTime=NaN,this.hasPlay=!1};e.TimeLineDataItem=l;var u=function(t){function e(e){var i=t.call(this)||this;return i._duration=0,i._reactDuration=0,i._objList=[],i._propertyList=[],i._pauseTime=NaN,i._currenTimer=0,i._totalRepeat=0,i._repeat=0,i._playStates=0,i._oldPlayStates=0,i._tickIns=void 0,i._isFinite=!1,i._needDownGrade=!1,i._tweens=[],i._defaultParam=e,e.repeat&&(i._repeat=i._totalRepeat=e.repeat),i._defaultParam.paused||i.play(),a.addTimeLine(i),i}return r(e,t),Object.defineProperty(e.prototype,"needDownGrade",{get:function(){return this._needDownGrade},set:function(t){this._needDownGrade=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onStart",{set:function(t){this.getDefaultParam().onStart=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onStartParams",{set:function(t){this.getDefaultParam().onStartParams=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onUpdate",{set:function(t){this.getDefaultParam().onUpdate=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onUpdateParams",{set:function(t){this.getDefaultParam().onUpdateParams=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRepeat",{set:function(t){this.getDefaultParam().onRepeat=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRepeatParams",{set:function(t){this.getDefaultParam().onRepeatParams=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{set:function(t){this.getDefaultParam().onComplete=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCompleteParams",{set:function(t){this.getDefaultParam().onCompleteParams=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onReverseComplete",{set:function(t){this.getDefaultParam().onReverseComplete=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onReverseCompleteParams",{set:function(t){this.getDefaultParam().onReverseCompleteParams=t},enumerable:!1,configurable:!0}),e.prototype.getDefaultParam=function(){var t=this._defaultParam;return t||(t=new h),t},Object.defineProperty(e.prototype,"playStates",{set:function(t){this._playStates=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currenTimer",{get:function(){return this._currenTimer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){var t=this._playStates;return 0===this._playStates&&(t=this._oldPlayStates),2===t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return 0===this._playStates},enumerable:!1,configurable:!0}),e.prototype.add=function(t,e){var i=this;if(void 0===e&&(e=NaN),Array.isArray(t))return t.map&&t.map((function(t){i.add(t,e)})),this;var n=this._defaultParam,r=n.delay?n.delay:0,s=new l;t instanceof o.Tween&&(s.tween=t);var a=s.tween?s.tween.delayTime:0;e=isNaN(e)?0:e;var h=s.tween?Number(s.tween.duration):0;s.positionTime=e+r,this._reactDuration=Math.max(h+a+e,0),this._duration=this._reactDuration+r,this._tweens.push(s),this._tweens.sort((function(t,e){return t.positionTime-e.positionTime})),this._objList=[],this._propertyList=[];for(var u=0;u<this._tweens.length;u++){var c=this._tweens[u];if(c&&c.tween){var p=c.tween.object;if(this._objList.indexOf(p)>=0)continue;this._objList.push(p);var d=this.getPropertyList(p);this._propertyList.push(d)}}return this.cacheStartData(),this},e.prototype.cacheStartData=function(){for(var t=this._tweens,e={},i=0;i<=t.length-1;i++){var n=t[i];if(n&&n.tween){var r=this._objList.indexOf(n.tween.object),o=this._propertyList[r];e[r]||(e[r]={});var s=e[r];n.tween._virtualValueStart={};for(var a=o.length-1;a>=0;a--){var h=o[a],l=n.tween.object[h];s.hasOwnProperty(h)?l=s[h]:s[h]=l,n.tween._virtualValueStart[h]=n.tween.valuesStart[h]=l,n.tween.valuesEnd.hasOwnProperty(h)?s[h]=n.tween.valuesEnd[h]=n.tween.valuesEnd[h]:n.tween.valuesEnd[h]=l}}}},e.prototype.cacheStartDataTest=function(){this._tweens;this.cacheStartData()},e.prototype.getNextValue=function(t,e){for(var i,n,r=this._tweens,o={value:[],isStart:!1},s=0;s<=r.length-1;s++){var a=r[s];if(s!==e){var h=a.positionTime,l=null===(i=a.tween)||void 0===i?void 0:i.duration,u=-1,c=!1;if(h>t?(u=h,c=!0):l>t&&(u=l,c=!1),o.value&&o.value[0]){var p=o.value[0],d=o.isStart?p.positionTime:p.positionTime+(null===(n=p.tween)||void 0===n?void 0:n.duration);d>u?(o.value=[p],o.isStart=c||o.isStart):d===u&&o.value.push(p)}}}return o},e.prototype.getPropertyList=function(t){for(var e=this._tweens,i=[],n=e.length-1;n>=0;n--){var r=e[n];if(r&&r.tween&&r.tween.object===t)for(var o in r.tween.valuesEnd)i.indexOf(o)>=0||i.push(o)}return i},e.prototype.toStartData=function(t){for(var e=this._tweens,i=[],n=0;n<e.length;n++){var r=e[n].tween;if(r){var o=r.object;if(i.indexOf(o)>=0){r.stop();continue}i.push(o);var s=2===this._playStates?Number(r.duration)-t:t;r.gotoAndStop(s)}}},e.prototype.setTimeProries=function(t){for(var e=this._tweens,i=[],n=0;n<e.length;n++){!(o=(r=e[n]).tween)||t<r.positionTime||i.push(r)}i.sort((function(t,e){return t.tween&&e.tween?t.positionTime+Number(t.tween.duration)-(e.positionTime+Number(e.tween.duration)):0}));for(n=0;n<i.length;n++){var r,o;if(o=(r=i[n]).tween){var s=o?Number(o.duration):0;t>=r.positionTime&&o.gotoAndStop(Math.min(t-r.positionTime,s))}}},e.prototype.addPause=function(t,e,i){return void 0===t&&(t=NaN),this._pauseTime=isNaN(t)?this._currenTimer:t,this._pauseCallBack=e,this._pauseCallBackParam=i,this},e.prototype.to=function(t,e,i,n){var r=new o.Tween(t),s={};for(var a in this._defaultParam&&this._defaultParam.ease&&(r.easing(this._defaultParam.ease),r.easingReverse(this._defaultParam.ease)),i){var h=i[a];switch(a){case"yoyo":r.yoyo(h);break;case"repeat":r.repeat(h),r.repeat.call(this,h);break;case"ease":r.easing(h),r.easingReverse(h);break;case"onStart":case"onStartParams":case"onUpdate":case"onUpdateParams":case"onComplete":case"onCompleteParams":case"onRepeat":case"onRepeatParams":case"onReverseComplete":case"onReverseCompleteParams":r[a]=i[a];break;default:"function"!=typeof h&&(s[a]=h)}}return r.to(s,e),this.add(r,n),this},e.prototype.play=function(t){void 0===t&&(t=NaN);var e=this._defaultParam;this.playStates=1,this._oldPlayStates=this._playStates,isNaN(t)||(this._currenTimer=t),0===this._currenTimer&&e&&e.onStart&&e.onStart(e.onStartParams),!this._tickIns&&(this._tickIns=s.TickerShared.add(this.onUpdata,this))},e.prototype.pause=function(){this._oldPlayStates=this._playStates,this.addPause(this._currenTimer)},e.prototype.resume=function(){this.playStates=this._oldPlayStates,!this._tickIns&&(this._tickIns=s.TickerShared.add(this.onUpdata,this))},e.prototype.seek=function(t){this._currenTimer=t,this.setTimeProries(t)},e.prototype.reverse=function(t){void 0===t&&(t=NaN),2!==this._playStates&&(isNaN(t)||(this._currenTimer=t),this.playStates=2,this._oldPlayStates=this._playStates,this._isFinite||(this._repeat=this._totalRepeat>=0?this._totalRepeat-this._repeat:-1),!this._tickIns&&(this._tickIns=s.TickerShared.add(this.onUpdata,this)))},e.prototype.onUpdata=function(t){var e=this._tweens,i=this._playStates,n=this._defaultParam;if(0!==i&&e&&!(e.length<=0)){if(!0===this.needDownGrade&&this._repeat>=0){s.TickerShared.remove(this.onUpdata,this),this._tickIns=void 0,!0===n.yoyo&&(this._playStates=this._repeat%2==1?2:1);var r=1===this._playStates?this.duration:0;return this.seek(r),void this.complete()}!0===this._isFinite&&(this._isFinite=!1),0!==i&&this.playUpdate()}},e.prototype.playUpdate=function(){var t,e=this._duration,i=this._playStates,n=this._defaultParam;0!==i&&(n&&n.onUpdate&&n.onUpdate(n.onUpdateParams),1===i?this._currenTimer+=s.TickerShared.deltaMS:this._currenTimer-=s.TickerShared.deltaMS,t=(t=(t=this._currenTimer/e)>1?1:t)<0?0:t,this.tweenItemPlay(),this.checkNextRepeat(t),this.checkPause())},e.prototype.checkPause=function(){var t=this._tweens,e=this._playStates,i=this._pauseCallBack,n=this._pauseCallBackParam;if(isNaN(this._pauseTime)||!(this._currenTimer>=this._pauseTime&&1===e||this._currenTimer<=this._pauseTime&&2===e));else{this.playStates=0,this._pauseTime=NaN,i&&(i(n),this._pauseCallBack=void 0,this._pauseCallBackParam=void 0);for(var r=0;r<t.length;){var o=t[r].tween;o&&o.isPlaying&&o.pause(),r++}}},e.prototype.tweenItemPlay=function(){for(var t=this._tweens,e=this._playStates,i=this._currenTimer,n=0;n<t.length;n++){var r=t[n],o=i-r.positionTime;if(2===e&&(o=(r.tween?Number(r.tween.duration):0)-o),r&&r.tween){var s=r.tween.reversed();Number(r.tween.duration);o>=0&&(o<r.tween.duration?((2===e&&!1===s||1===e&&!0===s)&&r.tween.reverse(!s,o),!1===r.tween.isPlaying&&(r.hasPlay=!0,r.tween.gotoAndPlay(o))):!1===r.hasPlay&&((2===e&&!1===s||1===e&&!0===s)&&r.tween.reverse(!s,o),r.hasPlay=!0,!1===r.tween.isPlaying&&r.tween.gotoAndEnd()))}}},e.prototype.checkNextRepeat=function(t){var e=this._repeat,i=this._defaultParam;(1===t||2===this._playStates&&0===t)&&this.checkTweensComplete()&&(e?(this._repeat--,!i.yoyo||i.yoyo&&2!==this._playStates?i&&i.onRepeat&&i.onRepeat(i.onRepeatParams):i&&i.onStart&&i.onStart(i.onStartParams),this.toNext()):this.complete())},e.prototype.checkTweensComplete=function(){for(var t=0;t<this._tweens.length;t++){var e=this._tweens[t];if(e.tween&&e.tween.isPlaying)return!1}return!0},e.prototype.toNext=function(){var t=this._duration,e=this._defaultParam;this.stopAll();var i=2===this._playStates?Math.abs(this._currenTimer):this._currenTimer-this.duration;e.yoyo?this._playStates=2===this._playStates?1:2:this.toStartData(i),this._currenTimer=2===this._playStates?t-i:i},e.prototype.complete=function(){var t=this._defaultParam;this._isFinite=!0,this.stopAll(),this._repeat=this._totalRepeat,2===this._playStates?(this.playStates=0,t&&t.onReverseComplete&&t.onReverseComplete(t.onReverseCompleteParams)):1===this._playStates&&(this.playStates=0,t&&t.onComplete&&t.onComplete(t.onCompleteParams))},e.prototype.stopAll=function(){for(var t=this._tweens,e=0;e<t.length;e++){var i=t[e];i&&i.tween&&(i.tween.stop(),i.hasPlay=!1)}},e.prototype.release=function(){if(a.removeTimeLine(this),this._tickIns=void 0,this._defaultParam=void 0,this._duration=0,this._reactDuration=0,this._objList=[],this._propertyList=[],this._pauseTime=NaN,this._pauseCallBack=void 0,this._pauseCallBackParam=void 0,this._currenTimer=0,this._totalRepeat=0,this._repeat=0,this._playStates=0,this._oldPlayStates=0,this._tickIns=void 0,this._tweens){for(var t=0;t<this._tweens.length;t++){var e=this._tweens[t];e&&e.tween&&e.tween.release()}this._tweens=[]}s.TickerShared.remove(this.onUpdata,this)},e}(vf.utils.EventEmitter);e.TimeLine=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easing=void 0,e.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return Math.pow(t,2)},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,2):-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return Math.pow(t,3)},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return Math.pow(t,4)},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return Math.pow(t,5)},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-e.Easing.Bounce.Out(1-t)},Out:function(t){var e=2.75,i=7.5625;return t<1/e?i*t*t:t<2/e?i*(t-=1.5/e)*t+.75:t<2.5/e?i*(t-=2.25/e)*t+.9375:i*(t-=2.625/e)*t+.984375},InOut:function(t){return t<.5?.5*e.Easing.Bounce.In(2*t):.5*e.Easing.Bounce.Out(2*t-1)+.5}},Stepped:{steps:function(t){return function(e){return(e*t|0)/t}}}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Label=void 0;var o=i(2),s=i(1),a=i(10),h=i(0),l=function(t){function e(e){void 0===e&&(e="");var i=t.call(this)||this;return i._textDecorationWidth=3,i._textDecorationStyle="Solid",i._textAlpha=1,i._defaultColor=16777215,i._color=i._defaultColor,i.sprite=new vf.Text(e,{breakWords:!0,fill:"0xffffff",align:i.style.textAlign}),i.container.addChild(i.sprite),i.on(s.ComponentEvent.WIDTH_CHANGE,i.onWidthChange,i),i}return r(e,t),Object.defineProperty(e.prototype,"widthNoShadow",{get:function(){var t=this.sprite.width,e=this.sprite.style,i=Math.max(0,Math.cos(e.dropShadowAngle)*e.dropShadowDistance);return e.dropShadow?Math.ceil(t-i):t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"heightNoShadow",{get:function(){var t=this.sprite.height,e=this.sprite.style,i=Math.max(0,Math.sin(e.dropShadowAngle)*e.dropShadowDistance);return e.dropShadow?Math.ceil(t-i):t},enumerable:!1,configurable:!0}),e.prototype.onWidthChange=function(t){isNaN(this.style.wordWrapWidth)&&(this.sprite.style.wordWrapWidth=t)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.sprite.resolution},set:function(t){this.sprite.resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this.style.fillColor},set:function(t){if(0===t.length)this.sprite.style.fill=void 0;else if(Array.isArray(t[0])){this.sprite.style.fill=[];var e=[];t.forEach((function(t){e.push("rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")")})),this.sprite.style.fill=e}else this.sprite.style.fill="rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillAlpha",{set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){var e=h.hexListToIntList(t,void 0);this._color!==e&&(this.sprite.style.fill=this._color=e,this.style._color=e,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(t){this._textAlpha!==t&&(this.sprite.alpha=this._textAlpha=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textDecorationStyle",{get:function(){return this._textDecorationStyle},set:function(t){this._textDecorationStyle!==t&&(this._textDecorationStyle=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.sprite.text},set:function(t){this.sprite.text!==t&&(this.sprite.text=t,this.setActualSize(this.widthNoShadow,this.heightNoShadow),this.invalidateSize(),this.invalidateDisplayList(),this.emit(s.ComponentEvent.CHANGE,this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontCssStyle",{set:function(t){t.color&&(t.fill=t.color),t.breakWords=!0,this.sprite.style=t,t.fontFamily&&(this.sprite.style.fontFamily=t.fontFamily),this.setActualSize(this.widthNoShadow,this.heightNoShadow),this.invalidateSize(),this.invalidateDisplayList()},enumerable:!1,configurable:!0}),e.prototype.setLine=function(){var t=this.style.textDecoration;this.clearLineGraphics(),"None"!=t&&this.sprite&&this.sprite.text&&""!=this.sprite.text&&(this.cacheOldData(),this.showUnderLine())},e.prototype.showUnderLine=function(){this._lineGraphics||(this._lineGraphics=new vf.Graphics),this._lineGraphics.parent||this.container.addChild(this._lineGraphics),this.autoDrawLine()},e.prototype.autoDrawLine=function(){var t=this.sprite.vfMeasured;if(null!=t){this._textDecorationWidth=this.style.fontSize/10+1;for(var e=Number.MAX_VALUE,i=[],n=t.lines.length,r=0;r<n;r++){var o=this.getStartPosX(t.lineWidths[r]),s=this.getStartPosY(t.lineHeight,r);e=e<o?e:o,i.push({leftX:o,lineY:s,lineWidths:t.lineWidths[r]})}var a=this.sprite.y;for(r=0;r<i.length;r++){var h=i[r];o=h.leftX;this.drawLine(o,h.lineY+a,h.lineWidths)}}else console.log("文本渲染参数未初始化")},e.prototype.getStartPosX=function(t){var e=0;switch(this.style.textAlign){case"left":e=0;break;case"right":e=this.width-t;break;case"center":e=.5*(this.width-t)}return e},e.prototype.getStartPosY=function(t,e){var i=this.sprite.vfMeasured,n=0,r=this.style.textDecoration,o=this.sprite.style.strokeThickness,s=i.fontProperties.fontSize+o;switch(r){case"None":break;case"UnderLine":n=e*t+1+s;break;case"LineThrough":n=e*t+.5*s;break;case"Overline":n=e*t}return n},e.prototype.drawLine=function(t,e,i){var n=this._lineGraphics;switch(this._textDecorationStyle){case"Solid":n.lineStyle(this._textDecorationWidth,this.style.textDecorationColor),n.moveTo(t,e),n.lineTo(t+i,e);break;case"Double":n.lineStyle(.5*this._textDecorationWidth,this.style.textDecorationColor),n.moveTo(t,e),n.lineTo(t+i,e),n.moveTo(t,e+1*this._textDecorationWidth),n.lineTo(t+i,e+1*this._textDecorationWidth)}},e.prototype.measure=function(){var t=this.$values;t[a.measuredWidth]=this.widthNoShadow,t[a.measuredHeight]=this.heightNoShadow},e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i);var n=this.$values;if(!isNaN(n[a.explicitWidth]))switch(this.style.textAlign){case"left":this.sprite.x=0;break;case"right":this.sprite.x=n[a.explicitWidth]-this.widthNoShadow;break;case"center":this.sprite.x=n[a.explicitWidth]-this.widthNoShadow>>1}if(!isNaN(n[a.explicitHeight]))switch(this.style.verticalAlign){case"top":this.sprite.y=0;break;case"bottom":this.sprite.y=n[a.explicitHeight]-this.sprite.height;break;case"middle":this.sprite.y=n[a.explicitHeight]-this.sprite.height>>1}this.setLine()},e.prototype.cacheOldData=function(){if(isNaN(this.style.textDecorationColor)||void 0===this.style.textDecorationColor||null===this.style.textDecorationColor){var t=this._defaultColor;if(void 0!==this.style.color){if("number"==typeof this.style.color)t=this.style.color;else{var e=this.style.color[0].toString();e=h.hexToInt(e,e)}this.style.textDecorationColor=t}this.style.textDecorationColor=t}},e.prototype.clearLineGraphics=function(){var t=this._lineGraphics;t&&(t.parent&&t.parent.removeChild(this._lineGraphics),t.clear())},e.prototype.release=function(){t.prototype.release.call(this);var e=this.sprite;e&&e.parent&&e.parent.removeChild(e).destroy(),this.offAll(s.ComponentEvent.CHANGE),this.clearLineGraphics(),this._textDecorationStyle="Solid",this._textDecorationWidth=3,this.off(s.ComponentEvent.WIDTH_CHANGE,this.onWidthChange,this),this._color=16777200},e}(o.DisplayObject);e.Label=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GraphicsCore=void 0;var o=function(t){function e(e){var i=t.call(this,e)||this;return i._lineType="full",i.RatioLine=3,i.RatioNone=2,i}return r(e,t),e.prototype.lineStyle=function(e,i,n,r,o,s){return void 0===s&&(s="full"),this._lineType=s,t.prototype.lineStyle.call(this,e,i,n,r,o)},e.prototype.lineTo=function(e,i){if("full"===this._lineType)return t.prototype.lineTo.call(this,e,i);var n=this._lineStyle.width;if(n<=0)return this;for(var r=this.currentPath?this.currentPath.points[0]:0,o=this.currentPath?this.currentPath.points[1]:0,s=this.RatioLine,a=this.RatioNone,h=n*s,l=n*a,u=Math.sqrt(Math.pow(e-r,2)+Math.pow(i-o,2)),c=n/u,p=r,d=o,f=c*(e-r)*s,_=c*(i-o)*s,v=c*(e-r)*(s+a),g=c*(i-o)*(s+a),y=u,m=0;m<y;m=m+h+l){var b=p+f,P=d+_;p+=v,d+=g,m+h+l>y&&(p=b=e,d=P=i),t.prototype.lineTo.call(this,b,P),this.moveTo(p,d)}return this},e.prototype.arc=function(e,i,n,r,o,s){var a=r*Math.PI/180,h=o*Math.PI/180;if("full"===this._lineType)return 0===r&&360===o||360===r&&0===o?this.drawCircle(e,i,n):t.prototype.arc.call(this,e,i,n,a,h,s);if(this._lineStyle.width<=0)return this;for(var l=a,u=n*(Math.abs(h-a)/(2*Math.PI)),c=0;c<u;c++){var p=(h-a)/(2*u)+l;t.prototype.arc.call(this,e,i,n,l,p,s),l+=(h-a)/u;var d=e+Math.cos(l)*n,f=i+Math.sin(l)*n;t.prototype.moveTo.call(this,d,f)}return this},e.prototype.drawEllipse=function(e,i,n,r){if("full"===this._lineType)return t.prototype.drawEllipse.call(this,e,i,n,r);if(this._lineStyle.width<=0)return this;var o=2*n,s=2*r,a=e-o/2,h=i-s/2,l=o/2*.5522848,u=s/2*.5522848,c=a+o,p=h+s,d=a+o/2,f=h+s/2;return t.prototype.moveTo.call(this,a,f),this.bezierCurveTo(a,f-u,d-l,h,d,h),this.bezierCurveTo(d+l,h,c,f-u,c,f),this.bezierCurveTo(c,f+u,d+l,p,d,p),this.bezierCurveTo(d-l,p,a,f+u,a,f),this},e.prototype.drawRoundedRect=function(e,i,n,r,o){if("full"===this._lineType)return t.prototype.drawRoundedRect.call(this,e,i,n,r,o);if(this._lineStyle.width<=0)return this;var s=Math.min(n,r)/2|0,a=(o=o>s?s:o,e+n),h=i+r,l=.5522848*o,u=.5522848*o;Math.PI;return t.prototype.moveTo.call(this,e+o,i),this.lineTo(e+n-o,i),this.bezierCurveTo(a-o+l,i,a,i+u,a,i+o),this.lineTo(a,h-o),this.bezierCurveTo(a,h-o+u,a-o+l,h,a-o,h),this.lineTo(e+o,h),this.bezierCurveTo(e+o-l,h,e,h-o+u,e,h-o),this.lineTo(e,i+o),this.bezierCurveTo(e,i+o-u,e+o-l,i,e+o,i),this},e.prototype.drawPolygonOne=function(e,i){if(void 0===i&&(i=!0),"full"===this._lineType){for(var n=[],r=0;r<e.length;r++)n.push(e[r].x,e[r].y);var o={points:n,closeStroke:i};return t.prototype.drawPolygon.call(this,o)}if(this._lineStyle.width<=0)return this;var s=e[0];this.moveTo(s.x,s.y);for(r=0;r<e.length;r++){var a=e[r];this.lineTo(a.x,a.y)}return i&&this.lineTo(s.x,s.y),this},e.prototype.checOnkBezier=function(t,e,i,n,r,o,s,a,h,l){for(var u,c=0,p=1,d=.5,f=r-3*i+3*t-s,_=3*i-6*t+3*s,v=3*t-3*s,g=s,y=0;Math.abs(f*Math.pow(d,3)+_*d*d+v*d+g-h)>1&&((f*Math.pow(c,3)+_*c*c+v*c+g-h)*(f*Math.pow(d,3)+_*d*d+v*d+g-h)<0?(p=d,d=.5*(c+d)):(c=d,d=.5*(d+p)),!(++y>=10)););var m=1-d;return u=Math.round(a*Math.pow(m,3)+3*Math.pow(m,2)*d*e+3*d*d*m*n+o*Math.pow(m,3)),Math.abs(u-l)<=Math.ceil(.5*this._lineStyle.width)?m:-1},e.prototype.quadraticCurveTo=function(e,i,n,r){if("full"===this._lineType)return t.prototype.quadraticCurveTo.call(this,e,i,n,r);if(this._lineStyle.width<=0)return this;var o=this.currentPath.points,s=this.quadPointLength(o[o.length-2],o[o.length-1],e,i,n,r),a=this.bezierLength(s),h=this.bezierToLineData(s,a);return t.prototype.moveTo.call(this,o[o.length-2],o[o.length-1]),this.drawBezierDash(h),t.prototype.moveTo.call(this,n,r),this},e.prototype.bezierCurveTo=function(e,i,n,r,o,s){if("full"===this._lineType)return t.prototype.bezierCurveTo.call(this,e,i,n,r,o,s);if(this._lineStyle.width<=0)return this;var a=this.currentPath.points,h=this.bezierPointLength(a[a.length-2],a[a.length-1],e,i,n,r,o,s),l=this.bezierLength(h),u=this.bezierToLineData(h,l);return this.moveTo(a[a.length-2],a[a.length-1]),this.drawBezierDash(u),this.moveTo(o,s),this},e.prototype.drawBezierDash=function(e){for(var i=0;i<e.length;i++){var n=e[i],r=n.point;!1===n.type?t.prototype.moveTo.call(this,r.x,r.y):t.prototype.lineTo.call(this,r.x,r.y)}},e.prototype.quadPointLength=function(t,e,i,n,r,o,s){void 0===s&&(s=30);for(var a=0,h=0,l=0,u=0,c=0,p=[new vf.Point(t,e)],d=1;d<=s;++d)u=(h=t+(i-t)*(a=d/s))+(i+(r-i)*a-h)*a,c=(l=e+(n-e)*a)+(n+(o-n)*a-l)*a,p.push(new vf.Point(u,c));return p},e.prototype.bezierPointLength=function(t,e,i,n,r,o,s,a,h){void 0===h&&(h=30);for(var l=0,u=0,c=0,p=0,d=0,f=0,_=0,v=0,g=[new vf.Point(t,e)],y=1;y<=h;++y)_=(f=(d=(p=1-(l=y/h))*p)*p)*t+3*d*l*i+3*p*(u=l*l)*r+(c=u*l)*s,v=f*e+3*d*l*n+3*p*u*o+c*a,g.push(new vf.Point(_,v));return g},e.prototype.bezierLength=function(t){if(!t||t.length<=0)return 0;for(var e=0,i=0,n=0,r=0,o=0,s=t[0].x,a=t[0].y,h=0;h<t.length;h++)r=s-(i=t[h].x),o=a-(n=t[h].y),s=i,a=n,e+=Math.sqrt(r*r+o*o);return e},e.prototype.bezierToLineData=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!0);for(var r=this._lineStyle.width,o=r*this.RatioLine,s=r*this.RatioNone,a=t[0],h=1,l=[],u=i,c=n;h<t.length;){var p=t[h],d=this.pointDistance(p,a),f=u>0?u:c?o:s,_=d-f;if(_>=0){var v=a,g=t[h],y=f/d,m=v.x+(g.x-v.x)*y,b=v.y+(g.y-v.y)*y,P=new vf.Point(m,b);l.push({type:c,point:P}),u=0,a=P,c=!c}else if(a=t[h],h++,u=Math.abs(_),h>=t.length){l.push({type:c,point:a});break}}return l},e.prototype.pointDistance=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},e.prototype.getLineRotation=function(t,e,i,n,r,o,s,a,h,l){if(void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),void 0===l&&(l=0),"M"===t)return 0;var u,c,p=[];switch(t){case"L":e?(u=new vf.Point(r,o),c=new vf.Point(i,n)):(u=new vf.Point(i,n),c=new vf.Point(r,o));break;case"Q":case"C":p="Q"===t?this.quadPointLength(i,n,s,a,r,o):this.bezierPointLength(i,n,s,a,h,l,r,o),e?(u=new vf.Point(p[1].x,p[1].y),c=new vf.Point(i,n)):(u=new vf.Point(p[p.length-2].x,p[p.length-2].y),c=new vf.Point(r,o))}var d=c.x-u.x,f=c.y-u.y;return f>0?-Math.atan(d/f):0===f?Math.PI+Math.atan(d/f):f<0?Math.PI-Math.atan(d/f):0},e}(vf.Graphics);e.GraphicsCore=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Graphics=void 0;var o=i(2),s=i(23),a=function(t){function e(e){var i=t.call(this)||this;return i.graphics=new s.GraphicsCore(e),i.container.addChild(i.graphics),i}return r(e,t),e}(o.DisplayObject);e.Graphics=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragEvent=void 0;var n=i(1),r=i(8),o=function(){function t(t){this.id=0,this.offset=new vf.Point,this.movementX=0,this.movementY=0,this.bound=!1,this.start=new vf.Point,this.mouse=new vf.Point,this.cancel=!1,this.dragging=!1,this.isStop=!0,this.ishover=!1,this.obj=t,t.interactive=!0,this.startEvent()}return t.prototype.startEvent=function(){this.isStop&&(this.obj.container.on("mousedown",this._onDragStart,this),this.obj.container.on("touchstart",this._onDragStart,this),this.obj.container.on("mouseover",this._onDragOver,this),this.obj.container.on("mouseout",this._onMouseOut,this),this.isStop=!1)},t.prototype.executeAction=function(t){switch(t.type){case n.ComponentEvent.DRAG_START:this._onDragStart(t);break;case n.ComponentEvent.DRAG_MOVE:this._onDragMove(t);break;case n.ComponentEvent.DRAG_END:this._onDragEnd(t)}},t.prototype._onDragOver=function(t){this.ishover||(this.ishover=!0,this.onDragHover&&this.onDragHover.call(this.obj,t,!0,this))},t.prototype._onMouseOut=function(t){this.ishover&&(this.ishover=!1,this.onDragHover&&this.onDragHover.call(this.obj,t,!1,this))},t.prototype._onDragStart=function(t){if(this.obj.stage&&this.obj.stage.syncInteractiveFlag&&("mousedown"==t.type||"touchstart"==t.type)&&r.SyncManager.getInstance(this.obj.stage).collectEvent(t,this.obj),this.obj.dragStopPropagation&&t.data.originalEvent&&t.data.originalEvent.stopPropagation&&t.data.originalEvent.stopPropagation(),this.id=t.data.identifier,"mousedown"!=t.type&&"touchstart"!=t.type||this.onDragPress&&this.onDragPress.call(this.obj,t,!0,this),!this.bound&&this.obj.parent&&this.obj.stage){var e=this.obj.stage.container;this.start.copyFrom(t.data.global),e.off("mousemove",this._onDragMove,this),e.off("touchmove",this._onDragMove,this),e.on("mousemove",this._onDragMove,this),e.on("touchmove",this._onDragMove,this),e.on("mouseup",this._onDragEnd,this),e.on("mouseupoutside",this._onDragEnd,this),e.on("touchend",this._onDragEnd,this),e.on("touchendoutside",this._onDragEnd,this),e.on("touchcancel",this._onDragEnd,this),this.obj.container.on("mouseup",this._onDragEnd,this),this.obj.container.on("touchend",this._onDragEnd,this),this.bound=!0}this.obj.stage&&this.obj.stage.originalEventPreventDefault&&t.data.originalEvent&&t.data.originalEvent.preventDefault&&t.data.originalEvent.preventDefault()},t.prototype._onDragMove=function(t){if(this.obj.dragStopPropagation&&t.data.originalEvent&&t.data.originalEvent.stopPropagation&&t.data.originalEvent.stopPropagation(),t.data.identifier===this.id){if(this.obj.stage&&this.obj.stage.syncInteractiveFlag&&("mousemove"==t.type||"touchmove"==t.type)&&r.SyncManager.getInstance(this.obj.stage).collectEvent(t,this.obj.stage),this.mouse.copyFrom(t.data.global),this.offset.set(this.mouse.x-this.start.x,this.mouse.y-this.start.y),!this.dragging){if(this.movementX=Math.abs(this.offset.x),this.movementY=Math.abs(this.offset.y),0===this.movementX&&0===this.movementY||Math.max(this.movementX,this.movementY)<this.obj.dragThreshold)return;if(void 0!==this.dragRestrictAxis&&(this.cancel=!1,"x"==this.dragRestrictAxis&&this.movementY>this.movementX?this.cancel=!0:"y"==this.dragRestrictAxis&&this.movementY<=this.movementX&&(this.cancel=!0),this.cancel))return void this._onDragEnd(t);this.onDragStart&&this.onDragStart.call(this.obj,t,this),this.dragging=!0}this.onDragMove&&this.onDragMove.call(this.obj,t,this.offset,this)}},t.prototype._onDragEnd=function(t){if(this.obj.dragStopPropagation&&t.stopPropagation&&t.stopPropagation(),t.data.identifier===this.id&&(this.obj.stage&&this.obj.stage.syncInteractiveFlag&&("mouseup"==t.type||"mouseupoutside"==t.type||"touchend"==t.type||"touchendoutside"==t.type||"touchcancel"==t.type)&&r.SyncManager.getInstance(this.obj.stage).collectEvent(t,this.obj.stage),this.bound&&this.obj.stage)){var e=this.obj.stage.container;e.off("mousemove",this._onDragMove,this),e.off("touchmove",this._onDragMove,this),e.off("mouseup",this._onDragEnd,this),e.off("mouseupoutside",this._onDragEnd,this),e.off("touchend",this._onDragEnd,this),e.off("touchendoutside",this._onDragEnd,this),e.off("touchcancel",this._onDragEnd,this),this.obj.container.off("mouseup",this._onDragEnd,this),this.obj.container.off("touchend",this._onDragEnd,this),this.dragging=!1,this.bound=!1,this.onDragEnd&&this.onDragEnd.call(this.obj,t,this),this.onDragPress&&this.onDragPress.call(this.obj,t,!1,this)}},t.prototype.stopEvent=function(){if(this.bound&&this.obj.stage){var t=this.obj.stage.container;t.off("mousemove",this._onDragMove,this),t.off("touchmove",this._onDragMove,this),t.off("mouseup",this._onDragEnd,this),t.off("mouseupoutside",this._onDragEnd,this),t.off("touchend",this._onDragEnd,this),t.off("touchendoutside",this._onDragEnd,this),this.bound=!1}this.obj.container.off("mousedown",this._onDragStart,this),this.obj.container.off("touchstart",this._onDragStart,this),this.obj.container.off("mouseover",this._onDragOver,this),this.obj.container.off("mouseout",this._onMouseOut,this),this.obj.container.off("mouseup",this._onDragEnd,this),this.obj.container.off("touchend",this._onDragEnd,this),this.isStop=!0},t.prototype.remove=function(){this.stopEvent(),this.onDragPress=void 0,this.onDragEnd=void 0,this.onDragMove=void 0,this.onDragStart=void 0,this.obj.interactive=!1},t}();e.DragEvent=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseScrollEvent=void 0;var n=i(0),r=function(){function t(t,e){this.id=0,this.delta=new vf.Point,this.isStop=!0,this.obj=t,this.preventDefault=e,t.container.interactive=!0,this.startEvent()}return t.prototype.startEvent=function(){this.isStop&&(this.obj.container.on("mouseover",this._onHover,this),this.obj.container.on("mouseout",this._onMouseOut,this),this.isStop=!1)},t.prototype._onMouseScroll=function(t){var e=t;this.preventDefault&&e.preventDefault(),void 0!==e.deltaX?this.delta.set(e.deltaX,e.deltaY):this.delta.set(1==e.axis?60*e.detail:0,2==e.axis?60*e.detail:0),this.onMouseScroll&&this.onMouseScroll.call(this.obj,e,this.delta)},t.prototype._onHover=function(){void 0===this.mouseScrllBind&&(this.id=n.uid(),this.mouseScrllBind=this._onMouseScroll.bind(this),document.addEventListener("mousewheel",this.mouseScrllBind,{passive:!1}),document.addEventListener("DOMMouseScroll",this.mouseScrllBind,{passive:!1}))},t.prototype._onMouseOut=function(){this.mouseScrllBind&&(document.removeEventListener("mousewheel",this.mouseScrllBind),document.removeEventListener("DOMMouseScroll",this.mouseScrllBind),this.mouseScrllBind=void 0)},t.prototype.stopEvent=function(){this.mouseScrllBind&&(document.removeEventListener("mousewheel",this.mouseScrllBind),document.removeEventListener("DOMMouseScroll",this.mouseScrllBind),this.mouseScrllBind=void 0),this.obj.container.removeListener("mouseover",this._onHover,this),this.obj.container.removeListener("mouseout",this._onMouseOut,this),this.isStop=!0},t.prototype.remove=function(){this.stopEvent()},t}();e.MouseScrollEvent=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WIDTH_CHANGE=e.PLAY_AUDIO=e.DROP_TARGET=e.DRAG_TARGET=e.DRAG_TARGET_BEFORE=e.DRAG_MOVE=e.DRAG_END=e.DRAG_END_BEFORE=e.DRAG_START=e.DRAG_START_BEFORE=e.DRAG_MOUSELEAVE=e.DRAG_MOUSEENTER=e.DRAG_HOVER=e.DRAG_UP=e.DRAG_DOWN=e.CREATION_COMPLETE=e.MOVE=e.RESIZE=e.REMOVEED=e.ADDED=e.ADD=e.LOOP=e.STATE_CHANGE=e.COMPLETE=e.CHANGEING=e.CHANGE=void 0,e.CHANGE="CHANGE",e.CHANGEING="CHANGEING",e.COMPLETE="COMPLETE",e.STATE_CHANGE="STATE_CHANGE",e.LOOP="LOOP",e.ADD="add",e.ADDED="added",e.REMOVEED="removed",e.RESIZE="RESIZE",e.MOVE="MOVE",e.CREATION_COMPLETE="CREATION_COMPLETE",e.DRAG_DOWN="DRAG_DOWN",e.DRAG_UP="DRAG_UP",e.DRAG_HOVER="DRAG_HOVER",e.DRAG_MOUSEENTER="DRAG_MOUSEENTER",e.DRAG_MOUSELEAVE="DRAG_MOUSELEAVE",e.DRAG_START_BEFORE="DRAG_START_BEFORE",e.DRAG_START="DRAG_START",e.DRAG_END_BEFORE="DRAG_END_BEFORE",e.DRAG_END="DRAG_END",e.DRAG_MOVE="DRAG_MOVE",e.DRAG_TARGET_BEFORE="DRAG_TARGET_BEFORE",e.DRAG_TARGET="DRAG_TARGET",e.DROP_TARGET="DROP_TARGET",e.PLAY_AUDIO="PLAY_AUDIO",e.WIDTH_CHANGE="WIDTH_CHANGE"},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayLayoutAbstract=e.$tempLocalBounds=void 0;var o=i(10),s=i(29),a=i(1),h=i(0),l=i(18);e.$tempLocalBounds=new vf.Rectangle;var u=function(t){function e(){var e=t.call(this)||this;return e.isContainer=!1,e.$values={},e.initializeUIValues(),e}return r(e,t),e.prototype.initializeUIValues=function(){var t;this.$values=((t={})[o.invalidatePropertiesFlag]=!0,t[o.invalidateSizeFlag]=!0,t[o.invalidateDisplayListFlag]=!0,t[o.includeInLayout]=!0,t[o.left]=NaN,t[o.right]=NaN,t[o.top]=NaN,t[o.bottom]=NaN,t[o.horizontalCenter]=NaN,t[o.verticalCenter]=NaN,t[o.percentWidth]=NaN,t[o.percentHeight]=NaN,t[o.width]=NaN,t[o.height]=NaN,t[o.explicitWidth]=NaN,t[o.explicitHeight]=NaN,t[o.minWidth]=0,t[o.maxWidth]=1e5,t[o.minHeight]=0,t[o.maxHeight]=1e5,t[o.measuredWidth]=0,t[o.measuredHeight]=0,t[o.oldPreferWidth]=NaN,t[o.oldPreferHeight]=NaN,t)},e.prototype.checkInvalidateFlag=function(){var t=this.$values;t[o.invalidatePropertiesFlag]&&s.default.invalidateProperties(this),t[o.invalidateSizeFlag]&&s.default.invalidateSize(this),t[o.invalidateDisplayListFlag]&&s.default.invalidateDisplayList(this),this.validateSize()},e.prototype.validateProperties=function(){var t=this.$values;t[o.invalidatePropertiesFlag]&&(this.commitProperties(),t[o.invalidatePropertiesFlag]=!1)},e.prototype.validateSize=function(t){if(void 0!==this.parent){if(t){var e=this.uiChildren;if(e)for(var i=e.length,n=0;n<i;n++){e[n].validateSize(!0)}}var r=this.$values;if(r[o.invalidateSizeFlag])this.measureSizes()&&(this.invalidateDisplayList(),this.invalidateParentLayout()),r[o.invalidateSizeFlag]=!1}},e.prototype.validateDisplayList=function(){if(null!=this.parent){var t=this.$values;t[o.invalidateDisplayListFlag]&&(this.updateSize(),this.updateDisplayList(this.width,this.height),this.updateBackground(this.width,this.height),this.updateMask(this.width,this.height),t[o.invalidateDisplayListFlag]=!1)}},e.prototype.commitProperties=function(){},e.prototype.measure=function(){var t=this.$values;t[o.measuredWidth]=this.container.width,t[o.measuredHeight]=this.container.height},e.prototype.measureSizes=function(){var t=!1,e=this.$values;if(!e[o.invalidateSizeFlag])return t;var i=this.parent,n=i?i.width:1,r=i?i.height:1,s=h.formatRelative(e[o.maxWidth],n),a=h.formatRelative(e[o.maxHeight],r),l=h.formatRelative(e[o.minWidth],n),u=h.formatRelative(e[o.minHeight],r);isNaN(e[o.explicitWidth])||isNaN(e[o.explicitHeight])?(isNaN(e[o.percentWidth])&&isNaN(e[o.percentHeight])&&this.measure(),isNaN(e[o.percentWidth])||(e[o.measuredWidth]=Math.ceil(e[o.percentWidth]*n)),isNaN(e[o.percentHeight])||(e[o.measuredHeight]=Math.ceil(e[o.percentHeight]*r)),e[o.measuredWidth]<l&&(e[o.measuredWidth]=l),e[o.measuredWidth]>s&&(e[o.measuredWidth]=s),e[o.measuredHeight]<u&&(e[o.measuredHeight]=u),e[o.measuredHeight]>a&&(e[o.measuredHeight]=a)):(e[o.explicitWidth]<l&&(e[o.explicitWidth]=l),e[o.explicitWidth]>s&&(e[o.explicitWidth]=s),e[o.explicitHeight]<u&&(e[o.explicitHeight]=u),e[o.explicitHeight]>a&&(e[o.explicitHeight]=a));var c=this.getPreferredUWidth(),p=this.getPreferredUHeight();return c===e[o.oldPreferWidth]&&p===e[o.oldPreferHeight]||(e[o.oldPreferWidth]=c,e[o.oldPreferHeight]=p,e[o.width]=c,e[o.height]=p,t=!0),t},e.prototype.getPreferredUWidth=function(){var t=this.$values;return isNaN(t[o.explicitWidth])?t[o.measuredWidth]:t[o.explicitWidth]},e.prototype.getPreferredUHeight=function(){var t=this.$values;return isNaN(t[o.explicitHeight])?t[o.measuredHeight]:t[o.explicitHeight]},e.prototype.getPreferredBounds=function(t){return t.width=this.getPreferredUWidth(),t.height=this.getPreferredUHeight(),t.x=this.container.x,t.y=this.container.y,t},e.prototype.invalidateProperties=function(){var t=this.$values;t[o.invalidatePropertiesFlag]||(t[o.invalidatePropertiesFlag]=!0,s.default.invalidateProperties(this))},e.prototype.invalidateSize=function(){var t=this.$values;t[o.invalidateSizeFlag]||(t[o.invalidateSizeFlag]=!0,s.default.invalidateSize(this))},e.prototype.invalidateDisplayList=function(){var t=this.$values;t[o.invalidateDisplayListFlag]||(t[o.invalidateDisplayListFlag]=!0,s.default.invalidateDisplayList(this))},e.prototype.invalidateParentLayout=function(){var t=this.parent;t&&this.$values[o.includeInLayout]&&t instanceof e&&(t.invalidateSize(),t.invalidateDisplayList())},e.prototype.setPosition=function(t,e){this.container.position.set(t,e),this.emit(a.ComponentEvent.MOVE,this)},e.prototype.setMeasuredSize=function(t,e){var i=this.$values;i[o.measuredWidth]=Math.ceil(+t||0),i[o.measuredHeight]=Math.ceil(+e||0)},e.prototype.setActualSize=function(t,e,i){void 0===i&&(i=!0);var n=!1,r=this.$values;r[o.width]!==t&&(r[o.width]=t,n=!0),r[o.height]!==e&&(r[o.height]=e,n=!0),n&&i&&(this.invalidateDisplayList(),this.emit(a.ComponentEvent.RESIZE,this))},e.prototype.updateTransform=function(){this.container.setTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation*(Math.PI/180),this.skewX,this.skewY,this.pivotX,this.pivotY)},e.prototype.updateBackground=function(t,e){this.$background.update(t,e)},e.prototype.updateMask=function(t,e){this.$mask.update(t,e)},e.prototype.updateSize=function(){this.setActualSize(this.getPreferredUWidth(),this.getPreferredUHeight())},e.prototype.updateDisplayList=function(t,e){},e.prototype.validateNow=function(){this.parent&&s.default.validateClient(this)},e.prototype.validateSizeNow=function(){this.validateSize(!0),this.updateSize()},Object.defineProperty(e.prototype,"includeInLayout",{get:function(){return this.$values[o.includeInLayout]},set:function(t){var e=this.$values;t=!!t,e[o.includeInLayout]!==t&&(e[o.includeInLayout]=!0,this.invalidateParentLayout(),e[o.includeInLayout]=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.$values[o.left]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[o.left]!==t&&(e[o.left]=t,this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.$values[o.right]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[o.right]!==t&&(e[o.right]=t,this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.$values[o.top]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[o.top]!==t&&(e[o.top]=t,this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.$values[o.bottom]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[o.bottom]!=t&&(e[o.bottom]=t,this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"horizontalCenter",{get:function(){return this.$values[o.horizontalCenter]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[o.horizontalCenter]!==t&&(e[o.horizontalCenter]=t,this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalCenter",{get:function(){return this.$values[o.verticalCenter]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[o.verticalCenter]!==t&&(e[o.verticalCenter]=t,this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"percentWidth",{get:function(){return this.$values[o.percentWidth]},set:function(t){t=+t;var e=this.$values;e[o.percentWidth]!==t&&(e[o.percentWidth]=t,this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"percentHeight",{get:function(){return this.$values[o.percentHeight]},set:function(t){t=+t;var e=this.$values;e[o.percentHeight]!==t&&(e[o.percentHeight]=t,this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"explicitWidth",{get:function(){return this.$values[o.explicitWidth]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"explicitHeight",{get:function(){return this.$values[o.explicitHeight]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this.$values[o.minWidth]},set:function(t){t=+t||0;var e=this.$values;t<0||e[o.minWidth]===t||(e[o.minWidth]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this.$values[o.maxWidth]},set:function(t){t=+t||0;var e=this.$values;t<0||e[o.maxWidth]===t||(e[o.maxWidth]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.$values[o.minHeight]},set:function(t){t=+t||0;var e=this.$values;t<0||e[o.minHeight]===t||(e[o.minHeight]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this.$values[o.maxHeight]},set:function(t){t=+t||0;var e=this.$values;t<0||e[o.maxHeight]===t||(e[o.maxHeight]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!1,configurable:!0}),e.prototype.allInvalidate=function(){this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList(),this.invalidateParentLayout()},Object.defineProperty(e.prototype,"width",{get:function(){var t=this.$values;return this.getPreferredUWidth()!==t[o.width]&&this.validateSize(),t[o.width]},set:function(t){t=+t;var e=this.$values;t<0||e[o.explicitWidth]===t||(e[o.explicitWidth]=t,this.emit(a.ComponentEvent.WIDTH_CHANGE,t),this.invalidateSize(),this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var t=this.$values;return this.getPreferredUHeight()!==t[o.height]&&this.validateSize(),t[o.height]},set:function(t){t=+t;var e=this.$values;t<0||e[o.explicitHeight]===t||(e[o.explicitHeight]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.container.scale.x},set:function(t){this.container.scale.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.container.scale.y},set:function(t){this.container.scale.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.container.x},set:function(t){this.container.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.container.y},set:function(t){this.container.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skewX",{get:function(){return this.container.skew.x},set:function(t){this.container.skew.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skewY",{get:function(){return this.container.skew.y},set:function(t){this.container.skew.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivotX",{get:function(){return this.container.pivot.x},set:function(t){this.container.pivot.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivotY",{get:function(){return this.container.pivot.y},set:function(t){this.container.pivot.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.container.angle},set:function(t){this.container.angle=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this.container.zIndex},set:function(t){this.parent&&this.parent.isContainer&&!this.parent.container.sortableChildren&&(this.parent.container.sortableChildren=!0),this.container.zIndex=t},enumerable:!1,configurable:!0}),e}(l.DisplayObjectAbstract);e.DisplayLayoutAbstract=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=function(){function t(){this.map={},this.items=[],this.length=0}return t.prototype.insert=function(t){var e=t.uuid;this.map[e]||(this.map[e]=!0,this.length++,this.items.push(t))},t.prototype.pop=function(){var t=this.items.pop();return t&&(this.length--,0===this.length?this.map={}:this.map[t.uuid]=!1),t},t.prototype.remove=function(t){var e=this.items.indexOf(t);e>=0&&(this.items.splice(e,1),this.length--,0===this.length?this.map={}:this.map[t.uuid]=!1)},t}(),a=function(){function t(){this.depthBins={},this.minDepth=0,this.maxDepth=-1}return t.prototype.removeAll=function(){var t=this.depthBins;for(var e in t){var i=t[e];i.items=[],i.map={},i.length=0}this.minDepth=0,this.maxDepth=-1},t.prototype.insert=function(t){var e=t.$nestLevel;this.maxDepth<this.minDepth?this.minDepth=this.maxDepth=e:(e<this.minDepth&&(this.minDepth=e),e>this.maxDepth&&(this.maxDepth=e));var i=this.depthBins[e];i||(i=this.depthBins[e]=new s),i.insert(t)},t.prototype.pop=function(){var t,e=this.minDepth;if(e<=this.maxDepth){for(var i=this.depthBins[this.maxDepth];!i||0===i.length;){if(this.maxDepth--,this.maxDepth<e)return;i=this.depthBins[this.maxDepth]}for(t=i.pop();!(i&&0!=i.length||(this.maxDepth--,this.maxDepth<e));)i=this.depthBins[this.maxDepth]}return t},t.prototype.shift=function(){var t,e=this.maxDepth;if(this.minDepth<=e){for(var i=this.depthBins[this.minDepth];!i||0===i.length;){if(this.minDepth++,this.minDepth>e)return;i=this.depthBins[this.minDepth]}for(t=i.pop();!(i&&0!=i.length||(this.minDepth++,this.minDepth>e));)i=this.depthBins[this.minDepth]}return t},t.prototype.removeLargestChild=function(t){for(var e=t.uuid,i=t.$nestLevel,n=this.maxDepth,r=i;r<=n;){var o=this.depthBins[n];if(o&&o.length>0){if(n===i){if(o.map[e])return o.remove(t),t}else{if(!t.isContainer)break;for(var s=o.items,a=o.length,h=0;h<a;h++){var l=s[h];if(t.contains(l))return o.remove(l),l}}n--}else if(n==this.maxDepth&&this.maxDepth--,--n<r)break}},t.prototype.removeSmallestChild=function(t){for(var e=t.$nestLevel,i=e,n=this.maxDepth,r=t.uuid;i<=n;){var o=this.depthBins[i];if(o&&o.length>0){if(i===e){if(o.map[r])return o.remove(t),t}else{if(!t.isContainer)break;for(var s=o.items,a=o.length,h=0;h<a;h++){var l=s[h];if(t.contains(l))return o.remove(l),l}}i++}else if(i==this.minDepth&&this.minDepth++,++i>n)break}},t.prototype.isEmpty=function(){return this.minDepth>this.maxDepth},t}(),h=new(function(t){function e(){var e=t.call(this)||this;return e.targetLevel=1/0,e.invalidatePropertiesFlag=!1,e.invalidateClientPropertiesFlag=!1,e.invalidatePropertiesQueue=new a,e.invalidateSizeFlag=!1,e.invalidateClientSizeFlag=!1,e.invalidateSizeQueue=new a,e.invalidateDisplayListFlag=!1,e.invalidateDisplayListQueue=new a,e.listenersAttached=!1,e}return r(e,t),e.prototype.invalidateProperties=function(t){this.invalidatePropertiesFlag||(this.invalidatePropertiesFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.$nestLevel&&(this.invalidateClientPropertiesFlag=!0),this.invalidatePropertiesQueue.insert(t)},e.prototype.validateProperties=function(){for(var t=this.invalidatePropertiesQueue,e=t.shift();e;)e.parent&&e.validateProperties(),e=t.shift();t.isEmpty()&&(this.invalidatePropertiesFlag=!1)},e.prototype.invalidateSize=function(t){this.invalidateSizeFlag||(this.invalidateSizeFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.$nestLevel&&(this.invalidateClientSizeFlag=!0),this.invalidateSizeQueue.insert(t)},e.prototype.validateSize=function(){for(var t=this.invalidateSizeQueue,e=t.pop();e;)e.parent&&e.validateSize(),e=t.pop();t.isEmpty()&&(this.invalidateSizeFlag=!1)},e.prototype.invalidateDisplayList=function(t){this.invalidateDisplayListFlag||(this.invalidateDisplayListFlag=!0,this.listenersAttached||this.attachListeners()),this.invalidateDisplayListQueue.insert(t)},e.prototype.validateDisplayList=function(){for(var t=this.invalidateDisplayListQueue,e=t.shift();e;)e.parent&&e.validateDisplayList(),e=t.shift();t.isEmpty()&&(this.invalidateDisplayListFlag=!1)},e.prototype.attachListeners=function(){o.TickerShared.addOnce(this.doPhasedInstantiationCallBack,this),this.listenersAttached=!0},e.prototype.doPhasedInstantiationCallBack=function(){this.doPhasedInstantiation()},e.prototype.doPhasedInstantiation=function(){this.invalidatePropertiesFlag&&this.validateProperties(),this.invalidateSizeFlag&&this.validateSize(),this.invalidateDisplayListFlag&&this.validateDisplayList(),this.invalidatePropertiesFlag||this.invalidateSizeFlag||this.invalidateDisplayListFlag?this.attachListeners():this.listenersAttached=!1},e.prototype.validateClient=function(t){var e,i=!1,n=this.targetLevel;this.targetLevel===1/0&&(this.targetLevel=t.$nestLevel);for(var r=this.invalidatePropertiesQueue,o=this.invalidateSizeQueue,s=this.invalidateDisplayListQueue;!i;){for(i=!0,e=r.removeSmallestChild(t);e;)e.parent&&e.validateProperties(),e=r.removeSmallestChild(t);for(r.isEmpty()&&(this.invalidatePropertiesFlag=!1),this.invalidateClientPropertiesFlag=!1,e=o.removeLargestChild(t);e;){if(e.parent&&e.validateSize(),this.invalidateClientPropertiesFlag&&(e=r.removeSmallestChild(t))){r.insert(e),i=!1;break}e=o.removeLargestChild(t)}for(o.isEmpty()&&(this.invalidateSizeFlag=!1),this.invalidateClientPropertiesFlag=!1,this.invalidateClientSizeFlag=!1,e=s.removeSmallestChild(t);e;){if(e.parent&&e.validateDisplayList(),this.invalidateClientPropertiesFlag&&(e=r.removeSmallestChild(t))){r.insert(e),i=!1;break}if(this.invalidateClientSizeFlag&&(e=o.removeLargestChild(t))){o.insert(e),i=!1;break}e=s.removeSmallestChild(t)}s.isEmpty()&&(this.invalidateDisplayListFlag=!1)}n===1/0&&(this.targetLevel=1/0)},e.prototype.removeDepthQueueAll=function(){this.invalidatePropertiesQueue.removeAll(),this.invalidateDisplayListQueue.removeAll(),this.invalidateSizeQueue.removeAll(),this.doPhasedInstantiation()},e}(vf.utils.EventEmitter));e.default=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerBase=void 0;var o=function(t){function e(){var e=t.call(this)||this;return e.isEmitRender=!1,e}return r(e,t),e.prototype.render=function(e){this.isEmitRender&&this.emit("renderChange",e),t.prototype.render.call(this,e)},e}(vf.Container);e.ContainerBase=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateBasicDisplayList=e.formatRelative=e.$tempRectangle=void 0;var n=i(10);function r(t,e){if(null==t)return NaN;if("number"==typeof t)return t;var i=t,n=i.indexOf("%");return-1==n?+i:.01*+i.substring(0,n)*e}e.$tempRectangle=new vf.Rectangle,e.formatRelative=r,e.updateBasicDisplayList=function(t,e,i){if(t){var o=t.$values,s=t.parent,a=1,h=1;s&&(a=s.width||1,h=s.height||1);var l=r(o[n.horizontalCenter],.5*a),u=r(o[n.verticalCenter],.5*h),c=r(o[n.left],a||1),p=r(o[n.right],a),d=r(o[n.top],h||1),f=r(o[n.bottom],h),_=e,v=i;isNaN(c)||isNaN(p)||(_=a-p-c),isNaN(d)||isNaN(f)||(v=h-f-d),t.setMeasuredSize(_,v),t.setActualSize(_,v);var g=NaN,y=NaN;g=isNaN(l)?isNaN(c)?isNaN(p)?t.x:a-_-p:c:Math.round((a-_)/2+l),y=isNaN(u)?isNaN(d)?isNaN(f)?t.y:h-v-f:d:Math.round((h-v)/2+u),t.setPosition(g,y)}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=void 0;var o=i(61),s=i(3),a=i(28),h=i(11),l=i(29),u=i(8),c=i(13),p=function(t){function e(e,i,n){var r=t.call(this)||this;return r.resumeStatusFlag=!1,r.originalEventPreventDefault=!1,r._syncInteractiveFlag=!1,r.width=e,r.height=i,r.setActualSize(e,i),r.container.name="Stage",r.container.hitArea=new vf.Rectangle(0,0,e,i),r.container.interactive=!0,r.container.interactiveChildren=!0,r.$nestLevel=1,r.app=n,r.initialized=!0,s.TickerShared.started||s.TickerShared.start(),s.TickerShared.add(o.update,r),r.container.parent||r.app.stage.addChildAt(r.container,0),r}return r(e,t),Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this.app.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this.app.view.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.container.scale.x},set:function(t){this.container.scale.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.container.scale.y},set:function(t){this.container.scale.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Scale",{set:function(t){this.container.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"syncInteractiveFlag",{get:function(){return this._syncInteractiveFlag},set:function(t){this._syncInteractiveFlag=t,t?(this.syncManager||(this.syncManager=new u.SyncManager(this),u.SyncManager.instance=this.syncManager),this.syncManager.start()):this.syncManager&&this.syncManager.stop()},enumerable:!1,configurable:!0}),e.prototype.getSystemEvent=function(){return this},e.prototype.sendToPlayer=function(t){},e.prototype.release=function(){t.prototype.release.call(this),c.Scheduler.stopAll(),s.TickerShared.remove(o.update,this),h.releaseAllTimeLine(),this.syncManager&&this.syncManager.stop(),this.syncManager=void 0,u.SyncManager.instance=void 0},e.prototype.releaseAll=function(){c.Scheduler.stopAll(),s.TickerShared.remove(o.update,this),h.releaseAllTimeLine(),this.syncManager&&this.syncManager.stop(),this.syncManager=void 0,u.SyncManager.instance=void 0;for(var t=this.uiChildren.length-1;t>=0;t--){this.uiChildren[t].releaseAll()}this.uiChildren=[],this.container.removeAllListeners(),this.container.removeChildren(),l.default.removeAllListeners(),l.default.removeDepthQueueAll(),this.app=void 0},e.prototype.resize=function(){this.container.hitArea=new vf.Rectangle(0,0,this.width,this.height)},e.prototype.receiveFromPlayer=function(t){if("syncEvent"==t.code){var e=t.data;this.syncManager&&this.syncManager.receiveEvent(e.data,e.type)}},e.prototype.getVitualCanvas=function(){return this._virCanvas||(this._virCanvas=document.createElement("canvas")),this._virCanvas},e.prototype.screenShots=function(t,e,i,n,r,o,s){void 0===r&&(r=NaN),void 0===o&&(o=NaN);var a=this.getVitualCanvas(),h=a.getContext("2d"),l=this.app.renderer.extract.canvas(s||this.container),u=isNaN(r)?i:r,c=isNaN(o)?n:o;h.clearRect(0,0,a.width,a.height),a.width=u,a.height=c,h.drawImage(l,t,e,i,n,0,0,u,c);var p=a.toDataURL("image/png",1);return vf.Texture.from(p)},e}(a.DisplayLayoutAbstract);e.Stage=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Interpolation=void 0;var n,r=i(19);e.Interpolation={Linear:function(t,i,n){var r=t.length-1,o=r*i,s=Math.floor(o),a=e.Interpolation.Utils.Linear;return i<0?a(t[0],t[1],o,n):i>1?a(t[r],t[r-1],r-o,n):a(t[s],t[s+1>r?r:s+1],o-s,n)},Bezier:function(t,i,n){for(var r=e.Interpolation.Utils.Reset(n),o=t.length-1,s=Math.pow,a=e.Interpolation.Utils.Bernstein,h=Array.isArray(r),l=0;l<=o;l++)if("number"==typeof r)r+=s(1-i,o-l)*s(i,l)*t[l]*a(o,l);else if(h)for(var u=0,c=r.length;u<c;u++)"number"==typeof r[u]?r[u]+=s(1-i,o-l)*s(i,l)*t[l][u]*a(o,l):r[u]=t[l][u];else if("object"==typeof r)for(var u in r)"number"==typeof r[u]?r[u]+=s(1-i,o-l)*s(i,l)*t[l][u]*a(o,l):r[u]=t[l][u];else if("string"==typeof r){var p="",d=t[Math.round(o*i)],f=1;for(c=d.length;f<c;f++)p+=d[f];return p}return r},CatmullRom:function(t,i,n){var r=t.length-1,o=r*i,s=Math.floor(o),a=e.Interpolation.Utils.CatmullRom;return t[0]===t[r]?(i<0&&(s=Math.floor(o=r*(1+i))),a(t[(s-1+r)%r],t[s],t[(s+1)%r],t[(s+2)%r],o-s,n)):i<0?a(t[1],t[1],t[0],t[0],-i,n):i>1?a(t[r-1],t[r-1],t[r],t[r],(0|i)-i,n):a(t[s?s-1:0],t[s],t[r<s+1?r:s+1],t[r<s+2?r:s+2],o-s,n)},Utils:{Linear:function(t,i,n,o){if(t===i||"string"==typeof t){if(i.length&&i.splice&&i.isString){i="";for(var s=0,a=t.length;s<a;s++)i+=t[s]}return i}if("number"==typeof t)return"function"==typeof t?t(n):t+(i-t)*n;if("object"==typeof t){if(void 0!==t.length){var h="string"==typeof t[0]||t.isString;if(h||t[0]===r.STRING_PROP){var l="";for(s=h?0:1,a=t.length;s<a;s++){var u=0===n?t[s]:1===n?i[s]:"number"==typeof t[s]?t[s]+(i[s]-t[s])*n:i[s];(n>0&&n<1&&r.isRGBColor(t,s)||r.isRGBColor(t,s,r.RGBA))&&(u|=0),l+=u}return l}if(o&&o.length&&o.splice){var c=0;for(a=o.length;c<a;c++)o[c]=e.Interpolation.Utils.Linear(t[c],i[c],n,o[c])}}else for(var c in o)o[c]=e.Interpolation.Utils.Linear(t[c],i[c],n,o[c]);return o}},Reset:function(t){if(Array.isArray(t)){for(var i=0,n=t.length;i<n;i++)t[i]=e.Interpolation.Utils.Reset(t[i]);return t}if("object"==typeof t){for(var i in t)t[i]=e.Interpolation.Utils.Reset(t[i]);return t}return"number"==typeof t?0:t},Bernstein:function(t,i){var n=e.Interpolation.Utils.Factorial;return n(t)/n(i)/n(t-i)},Factorial:(n=[1],function(t){var e=1;if(n[t])return n[t];for(var i=t;i>1;i--)e*=i;return n[t]=e,e}),CatmullRom:function(t,i,n,o,s,a){if("string"==typeof t)return i;if("number"==typeof t){var h=.5*(n-t),l=.5*(o-i),u=s*s;return(2*i-2*n+h+l)*(s*u)+(-3*i+3*n-2*h-l)*u+h*s+i}if("object"==typeof t){if(void 0!==t.length){if(t[0]===r.STRING_PROP){for(var c="",p=1,d=t.length;p<d;p++){var f="number"==typeof t[p]?e.Interpolation.Utils.CatmullRom(t[p],i[p],n[p],o[p],s):o[p];(r.isRGBColor(t,p)||r.isRGBColor(t,p,r.RGBA))&&(f|=0),c+=f}return c}var _=0;for(d=a.length;_<d;_++)a[_]=e.Interpolation.Utils.CatmullRom(t[_],i[_],n[_],o[_],s,a[_])}else for(var _ in a)a[_]=e.Interpolation.Utils.CatmullRom(t[_],i[_],n[_],o[_],s,a[_]);return a}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GifFrame=e.GifFrames=void 0;var n=i(63),r=function(){function t(t){var e,i;this._frames=[],this._gif=new n.GifReader("data"in t?t.data:t);var r=this.calcSingleTextureWidth(),s=null===(i=null===(e=null===document||void 0===document?void 0:document.createElement("canvas"))||void 0===e?void 0:e.getContext("2d"))||void 0===i?void 0:i.createImageData(this._gif.width,this._gif.height);if(isNaN(r))for(var a=0;a<this._gif.numFrames;a++){var h=this._gif.getFrameInfo(a);this._frames.push(new o(a,this.generateTextureFromGifData(s,this._gif,a),10*h.delay))}else{var l=Math.floor(r/(this._gif.width+1)),u=Math.ceil(this._gif.numFrames/l),c=new vf.Point(this._gif.width+1,this._gif.height+1),p=document.createElement("canvas");p.width=c.x*l-1,p.height=c.y*u-1;var d=p.getContext("2d"),f=void 0;for(a=0;a<this._gif.numFrames;a++){var _=a%l,v=Math.floor(a/l);f&&2==f.disposal&&(null==s||s.data.fill(0)),f=this._gif.decodeAndBlitFrameRGBA(a,null==s?void 0:s.data),null==d||d.putImageData(s,_*c.x,v*c.y)}var g=vf.BaseTexture.from(p);for(a=0;a<this._gif.numFrames;a++){_=a%l,v=Math.floor(a/l),h=this._gif.getFrameInfo(a);var y=new vf.Texture(g,new vf.Rectangle(_*c.x,v*c.y,this._gif.width,this._gif.height));this._frames.push(new o(a,y,10*h.delay))}}}return t.prototype.calcSingleTextureWidth=function(){for(var t=0,e=[1024,2048,3072,4096];t<e.length;t++){var i=e[t];if(Math.floor(i/(this._gif.width+1))*Math.floor(i/(this._gif.height+1))>=this._gif.numFrames)return i}return Number.NaN},Object.defineProperty(t.prototype,"gif",{get:function(){return this._gif},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frames",{get:function(){return this._frames},enumerable:!1,configurable:!0}),t.prototype.generateTextureFromGifData=function(t,e,i){var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var r=n.getContext("2d");e.decodeAndBlitFrameRGBA(i,t.data),null==r||r.putImageData(t,0,0);var o=vf.BaseTexture.from(n);return new vf.Texture(o,new vf.Rectangle(0,0,e.width,e.height))},Object.defineProperty(t.prototype,"numFrames",{get:function(){return this._frames.length},enumerable:!1,configurable:!0}),t.prototype.getFrame=function(t){if(t<0||t>=this._frames.length)throw new Error("Gif Frame Index out of range");return this._frames[t]},t}();e.GifFrames=r;var o=function(t,e,i){this.index=t,this.texture=e,this.delayTime=i};e.GifFrame=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollBar=void 0;var o=i(36),s=i(1),a=i(0),h=function(t){function e(){var e=t.call(this)||this;return e.autohide=!0,e._hidden=!1,e._dragScrolling=!0,e.thumbImg.on(s.ComponentEvent.COMPLETE,e.onThumbLoadComplete,e),e}return r(e,t),e.prototype.toggleHidden=function(t){this.autohide&&(t&&!this._hidden?(this.alpha=0,this._hidden=!0):!t&&this._hidden&&(this.alpha=1,this._hidden=!1))},e.prototype.onThumbLoadComplete=function(t,e){this.alignToContainer()},e.prototype.triggerValueChanging=function(){t.prototype.triggerValueChanging.call(this);var e=this._scrollingContainer;e&&((e.explicitHeight/e.innerContainer.height||.001)<1&&e.forcePctPosition(this.vertical?"y":"x",this._amt))},Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(t){this._source!==t&&(this._source=t,this.invalidateProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragScrolling",{get:function(){return this._source},set:function(t){this._dragScrolling!==t&&(this._dragScrolling=t,this.invalidateProperties())},enumerable:!1,configurable:!0}),e.prototype.commitProperties=function(){if(this._scrollingContainer!==a.getDisplayObject(this._source,this)){this._scrollingContainer&&(this._scrollingContainer.off(s.ComponentEvent.CHANGE,this.alignToContainer,this),this._scrollingContainer.off(s.ComponentEvent.RESIZE,this.alignToContainer,this));var t=this._scrollingContainer=a.getDisplayObject(this._source,this);t.expandMask=2,t.softness=.2,t.on(s.ComponentEvent.CHANGE,this.alignToContainer,this),t.on(s.ComponentEvent.RESIZE,this.alignToContainer,this)}var e=this._scrollingContainer;e&&(e.dragScrolling=this._dragScrolling,this.vertical?(e.scrollY=!0,this.parent&&(this.height=this.parent.height)):(e.scrollX=!0,this.parent&&(this.width=this.parent.width)),this.alignToContainer())},e.prototype.alignToContainer=function(){if(this._scrollingContainer){var t=this.thumbImg;this.vertical?t.style.width="100%":t.style.height="100%";var e=void 0,i=this.vertical?"y":"x",n=this.vertical?"height":"width",r=(this.vertical,this._scrollingContainer),o=r.innerContainer,s=(o[n]&&(o[i],o[n]),o[n]?r[n]/o[n]:1),a=o[n]-r[n];this._amt=r[n]&&a?-o[i]/a:0;var h=this[n];s>=1?(e=h,this.toggleHidden(!0)):(e=h*s,this._amt>1?e-=(h-e)*(this._amt-1):this._amt<0&&(e-=(h-e)*-this._amt),this.toggleHidden(!1)),t[n]=e,e==t[n]&&this.updatePosition()}},e.prototype.onDragMove=function(t,e){this._thumbDrag.id==t.data.identifier?(this._amt=this._maxPosition?Math.max(0,Math.min(1,this._startValue+(this.vertical?e.y:e.x)/this._maxPosition)):0,this.triggerValueChanging(),this.updatePosition()):this._trackDrag&&this._trackDrag.id==t.data.identifier&&this.updatePositionToMouse(t.data.global,!1)},e.prototype.updatePosition=function(t){this.updateLayout();var e=0,i=this.thumbImg;this.tracklightImg;if(this.vertical){e=this.explicitHeight*this._amt;var n=i.height/2,r=this.height-n;e<n&&(e=n),e>r&&(e=r),i.x=this.width/2,i.y=e}else{e=this.explicitWidth*this._amt;var o=i.width/2,s=this.width-o;e<o&&(e=o),e>s&&(e=s),i.y=this.height/2,i.x=e}},e.prototype.release=function(){t.prototype.release.call(this),this.thumbImg.off(s.ComponentEvent.COMPLETE),this._scrollingContainer=void 0,this._source=void 0},e}(o.Slider);e.ScrollBar=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0;var o=i(2),s=i(9),a=i(0),h=i(1),l=i(6),u=i(21),c=function(t){function e(){var e=t.call(this)||this;return e._amt=0,e._decimals=0,e._startValue=0,e._maxPosition=0,e._lastChange=0,e._lastChanging=0,e._localMousePosition=new vf.Point,e.trackImg=new s.Image,e.thumbImg=new s.Image,e.tracklightImg=new s.Image,e._thumbDrag=new h.DragEvent(e.thumbImg),e._trackDrag=new h.DragEvent(e.trackImg),e._minValue=0,e._maxValue=100,e._vertical=!1,e.thumbImg.container.name="thumbImg",e.thumbImg.fillMode="scale",e.thumbImg.scale9Grid=[0,0,0,0],e.thumbImg.anchorX=.5,e.thumbImg.anchorY=.5,e.thumbImg.on(h.ComponentEvent.COMPLETE,e.onImgload,e),e.trackImg.container.name="trackImg",e.trackImg.fillMode="scale",e.trackImg.scale9Grid=[2,2,2,2],e.trackImg.style.width="100%",e.trackImg.style.height="100%",e.trackImg.on(h.ComponentEvent.COMPLETE,e.onImgload,e),e.tracklightImg.container.name="tracklightImg",e.tracklightImg.fillMode="scale",e.tracklightImg.scale9Grid=[2,2,2,2],e.addChild(e.trackImg),e.addChild(e.tracklightImg),e.addChild(e.thumbImg),e._thumbDrag.onDragPress=e.onPress.bind(e),e._thumbDrag.onDragStart=e.onDragStart.bind(e),e._thumbDrag.onDragMove=e.onDragMove.bind(e),e._thumbDrag.onDragEnd=e.onDragEnd.bind(e),e._trackDrag.onDragPress=e.onPress.bind(e),e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return a.Round(a.Lerp(this.minValue,this.maxValue,this._amt),this._decimals)},set:function(t){this.valueSystem(t)},enumerable:!1,configurable:!0}),e.prototype.valueSystem=function(t){void 0===t&&(t=0),this._amt=(Math.max(this.minValue,Math.min(this.maxValue,t))-this.minValue)/(this.maxValue-this.minValue),this.invalidateDisplayList()},Object.defineProperty(e.prototype,"minValue",{get:function(){return this._minValue},set:function(t){this._minValue!==t&&(this._minValue=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxValue",{get:function(){return this._maxValue},set:function(t){this._maxValue!==t&&(this._maxValue=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical!==t&&(this._vertical=t,this.invalidateProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"track",{get:function(){return this._track},set:function(t){t!==this._track&&(this._track=t,this.trackImg.src=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumb",{get:function(){return this._thumb},set:function(t){t!==this._thumb&&(this._thumb=t,this.thumbImg.src=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tracklight",{get:function(){return this._tracklight},set:function(t){t!==this._tracklight&&(this._tracklight=t,this.tracklightImg.src=t)},enumerable:!1,configurable:!0}),e.prototype.onImgload=function(){this.invalidateProperties()},e.prototype.updatePosition=function(t){var e=0,i=this.thumbImg,n=this.tracklightImg;this.vertical?(e=this.explicitHeight*this._amt,t?l.Tween.to({y:i.y,height:n.height},{y:e,height:e},300).easing(u.Easing.Linear.None).on(l.Tween.Event.update,(function(t){i.y=t.y,n.setSpeiteSize(void 0,t.height)})).start():(i.y=e,n.height=e)):(e=this.explicitWidth*this._amt,t?l.Tween.to({x:i.x,width:n.width},{x:e,width:e},300).easing(u.Easing.Linear.None).on(l.Tween.Event.update,(function(t){i.x=t.x,n.setSpeiteSize(t.width)})).start():(i.x=e,n.width=e))},e.prototype.onPress=function(t,e,i){t.stopPropagation(),this._trackDrag==i&&this._trackDrag.id==t.data.identifier&&e&&this.updatePositionToMouse(t.data.global,!0)},e.prototype.onDragStart=function(t){this._thumbDrag.id==t.data.identifier&&(this._startValue=this._amt,this._maxPosition=this.vertical?this.explicitHeight:this.explicitWidth)},e.prototype.onDragMove=function(t,e){this._thumbDrag.id==t.data.identifier?(this._amt=this._maxPosition?Math.max(0,Math.min(1,this._startValue+(this.vertical?e.y:e.x)/this._maxPosition)):0,this.triggerValueChanging(),this.updatePosition()):this._trackDrag&&this._trackDrag.id==t.data.identifier&&this.updatePositionToMouse(t.data.global,!1)},e.prototype.onDragEnd=function(t){this._thumbDrag.id==t.data.identifier?(this.triggerValueChange(),this.updatePosition()):this._trackDrag&&this._trackDrag.id==t.data.identifier&&this.triggerValueChange()},e.prototype.updatePositionToMouse=function(t,e){this.trackImg.container.toLocal(t,void 0,this._localMousePosition,!0);var i=this.vertical?this._localMousePosition.y:this._localMousePosition.x,n=this.vertical?this.explicitHeight:this.explicitWidth;this._amt=n?Math.max(0,Math.min(1,i/n)):0,this.updatePosition(e),this.triggerValueChanging()},e.prototype.triggerValueChange=function(){var t=this.value;this.emit(h.ComponentEvent.CHANGE,this,t,this._lastChange),this._lastChange!=t&&(this._lastChange=t)},e.prototype.triggerValueChanging=function(){var t=this.value;this.emit(h.ComponentEvent.CHANGEING,this,t,this._lastChanging),this._lastChanging!=t&&(this._lastChanging=t)},e.prototype.updateLayout=function(){this.invalidateProperties()},e.prototype.commitProperties=function(){var t=this.thumbImg,e=this.tracklightImg;this.vertical?(t.y=this._amt,t.x=this.explicitWidth>>1,e.width=this.width,e.height=this._amt*this.height):(t.x=this._amt,t.y=this.explicitHeight>>1,e.height=this.height,e.width=this._amt*this.width)},e.prototype.updateDisplayList=function(e,i){this.commitProperties(),this.updatePosition(),t.prototype.updateDisplayList.call(this,e,i)},e.prototype.release=function(){t.prototype.release.call(this),this.trackImg.release(),this.thumbImg.release(),this.tracklightImg.release()},e}(o.DisplayObject);e.Slider=c},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.GifSprite=void 0;var o=i(0),s=i(70),a=function(t){function e(e){var i=t.call(this)||this;i._sequences={},"string"==typeof e?(e=o.getSource(e),i._frames=e.frames):i._frames=e&&"gif"in e&&"frames"in e?e:e.frames;for(var n=[],r=0;r<i._frames.numFrames;++r)n.push(r);return i._currentSequence=i._addSequence("",i._frames.frames,i._frames.gif.loopCount),i.setSequence("",!0),i}return r(e,t),Object.defineProperty(e.prototype,"gifFrames",{get:function(){return this._frames},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._frames.numFrames},enumerable:!1,configurable:!0}),e.prototype.getSequence=function(t){return this._sequences[t]||this._sequences[""]},e.prototype.addSequence=function(t,e,i){var n=this;return this._addSequence(t,e.map((function(t){return n._frames.getFrame(t)})),i)},e.prototype._addSequence=function(t,e,i){var n=new s.GifSequence(this,t,e,i);return this._sequences[t]=n,n},e.prototype.setSequence=function(t,i){var n=this._currentSequence.playing;void 0===i&&(i=n),this._currentSequence.stop(!0),this._currentSequence=this.getSequence(t),this.setGifFrame(this._currentSequence.frames[0]),i&&this._currentSequence.play()||n&&this.emit(e.EVENT.STOP,this)},e.prototype.destroy=function(){this.stop(),t.prototype.destroy.call(this)},e.prototype.play=function(){this._currentSequence.play()},e.prototype.stop=function(){this._currentSequence.stop()},e.prototype.setFrame=function(t){this.setGifFrame(this._frames.getFrame(t))},e.prototype.setGifFrame=function(t){this._currentFrame!=t&&(this._currentFrame=t,this.texture=t?t.texture:null,this.emit(e.EVENT.FRAME_CHANGED,this))},e.prototype.gotoAndStop=function(t){this.setSequence("",!1),this.setFrame(t)},e.prototype.gotoAndPlay=function(t){this.setSequence("",!0),this.setFrame(t)},Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame?this._currentFrame.index:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentGifFrame",{get:function(){return this._currentFrame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSequence",{get:function(){return this._currentSequence},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._currentSequence.playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speedScale",{get:function(){return this._currentSequence.speedScale},set:function(t){this._currentSequence.speedScale=t},enumerable:!1,configurable:!0}),e.EVENT={FRAME_CHANGED:"frameChanged",PLAY:"play",STOP:"stop",COMPLETE:"complete",END:"end"},e}(vf.Sprite);e.GifSprite=a},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InputBase=void 0;var o=i(2),s=i(1),a=function(t){function e(){var e=t.call(this)||this;return e.clickEvent=new s.ClickEvent(e,!0),e._currentState="up",e._focused=!1,e._useTab=!0,e._usePrev=!0,e._useNext=!0,e._down=!1,e._useMoveEvent=!1,e.container.interactiveChildren=!1,e.on(s.TouchMouseEvent.onHover,e.onHover,e),e.on(s.TouchMouseEvent.onPress,e.onPress,e),e.on(s.TouchMouseEvent.onClick,e.onClick,e),e}return r(e,t),Object.defineProperty(e.prototype,"interactabled",{get:function(){return!0},set:function(t){console.warn('Button cannot be set "interactabled" property')},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentState",{get:function(){return this._currentState},set:function(t){this._currentState!=t&&(this._currentState=t,this.emit(s.ComponentEvent.STATE_CHANGE,this,t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clickSound",{get:function(){return this._clickSound},set:function(t){this._clickSound!==t&&(this._clickSound=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"double",{get:function(){return this.clickEvent.double},set:function(t){this.clickEvent.double=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useMoveEvent",{get:function(){return this._useMoveEvent},set:function(t){this._useMoveEvent!==t&&(this._useMoveEvent=t,t?this.on(s.TouchMouseEvent.onMove,this.onMove,this):this.off(s.TouchMouseEvent.onMove,this.onMove,this))},enumerable:!1,configurable:!0}),e.prototype.onMove=function(){this._down||(this.currentState="move")},e.prototype.onHover=function(){this._down||(this.currentState="up")},e.prototype.onPress=function(t,e,i){this._down=i,i?(this.focus(),this.currentState="down"):this.currentState="up"},e.prototype.onClick=function(t){this._clickSound&&this.emit(s.ComponentEvent.PLAY_AUDIO,{name:this._clickSound,mode:"effect"})},e.prototype.keyDownEvent=function(t){var e=t;9===e.which?this._useTab&&(s.InputController.fireTab(),e.preventDefault()):38===e.which?this._usePrev&&(s.InputController.firePrev(),e.preventDefault()):40===e.which&&this._useNext&&(s.InputController.fireNext(),e.preventDefault())},e.prototype.documentMouseDown=function(){"down"!==this.currentState&&this.blur()},e.prototype._bindEvents=function(){this.stage&&(this.stage.on("pointerdown",this.documentMouseDown,this),this.keyDownEventBind=this.keyDownEvent.bind(this),document.addEventListener("keydown",this.keyDownEventBind))},e.prototype._clearEvents=function(){this.stage&&(this.stage.off("pointerdown",this.documentMouseDown,this),document.removeEventListener("keydown",this.keyDownEventBind))},e.prototype.focus=function(){this._focused||(this._focused=!0,this._bindEvents(),s.InputController.set(this),this.emit("focusChanged",!0),this.emit("focus"))},e.prototype.blur=function(){this._focused&&(s.InputController.clear(),this._focused=!1,this._clearEvents(),this.emit("focusChanged",!1),this.emit("blur"))},e.prototype.release=function(){this.clickEvent&&this.clickEvent.remove(),this.clickEvent=void 0,this.off(s.TouchMouseEvent.onMove,this.onMove,this),this.off(s.TouchMouseEvent.onHover,this.onHover,this),this.off(s.TouchMouseEvent.onPress,this.onPress,this),this.off(s.TouchMouseEvent.onClick,this.onClick,this),this.keyDownEventBind&&document.removeEventListener("keydown",this.keyDownEventBind),this.documentMouseDown&&this.stage&&this.stage.off("pointerdown",this.documentMouseDown,this),t.prototype.release.call(this)},e.prototype.setTabIndex=function(t,e){this._tabIndex=t,this._tabGroup=e,void 0!==t&&void 0!==e&&s.InputController.registrer(this,t,e)},e}(o.DisplayObject);e.InputBase=a},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;var o=i(22),s=i(9),a=i(38),h=i(1),l=function(t){function e(){var e=t.call(this)||this;return e._selectedStr="",e._oldState="",e._offsetY=0,e.img=new s.Image,e.label=new o.Label,e._text="",e.container.buttonMode=!0,e.img.fillMode="scale",e.img.scale9Grid=[3,3,3,3],e.addChild(e.img),e.label.sprite.style.fontSize=18,e.addChild(e.label),e.on(h.ComponentEvent.STATE_CHANGE,e.onStateChange,e),e}return r(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.label.text},set:function(t){this._text=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textOffsetY",{get:function(){return this._offsetY},set:function(t){this._offsetY!==t&&(this._offsetY=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),e.prototype.setSelected=function(t){this._oldState="",this._selectedStr=t?"AndSelected":"",this.emit(h.ComponentEvent.CHANGE,this),this.onStateChange(this,this.currentState)},e.prototype.updateDisplayList=function(e,i){if(!isNaN(this.explicitWidth)||!isNaN(this.explicitHeight)){t.prototype.updateDisplayList.call(this,e,i),this.container.hitArea=new vf.Rectangle(0,0,e,i);var n=this.img;this.width!==n.width&&(n.width=e),this.height!==n.height&&(n.height=i);var r=i+this._offsetY;this.label.width!==e&&(this.label.width=e),this.label.height!==r&&(this.label.height=r),this.label.text!==this._text&&(this.label.text=this._text),this.onStateChange(this,this.currentState)}},e.prototype.release=function(){this.offAll(h.ComponentEvent.STATE_CHANGE),this.img&&this.img.parent&&this.img.parent.removeChild(this.img),this.img.release(),this.img=void 0,this.label&&this.label.parent&&this.label.parent.removeChild(this.label),this.label.release(),this.label=void 0,this.removeAllListeners(),t.prototype.release.call(this)},e.prototype.onStateChange=function(t,e){this._oldState!=e&&(this._oldState=e,this.img.src=this[e+this._selectedStr])},e}(a.InputBase);e.Button=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var o=i(4),s=function(t){function e(){var e=t.call(this)||this;return e._startAngle=0,e._endAngle=360,e._anticlockwise=!1,e}return r(e,t),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){this._startAngle=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this._endAngle},set:function(t){this._endAngle=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anticlockwise",{get:function(){return this._anticlockwise},set:function(t){this._anticlockwise=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),e.prototype.drawGraph=function(){var t=this.graphics;if(t.clear(),this._lineWidth<0)console.log("属性错误，线宽小于0");else{t.lineStyle(this._lineWidth,this._lineColor,this._lineAlpha,this._alignment,!1,this.lineType);var e=Math.ceil(this.explicitWidth||this.explicitHeight||2*this._radius)/2,i=2*e;this.setActualSize(i,i),this.color?t.beginFill(this._color,this._fillAlpha):o.updateTextureFill(this.graphics,this),t.arc(this._anchorX?(.5-this._anchorX)*i:e,this._anchorY?(.5-this._anchorY)*i:e,e,this._startAngle,this._endAngle,this._anticlockwise),t.endFill()}},e}(i(5).GraphBase);e.Circle=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Star=void 0;var o=i(4),s=function(t){function e(){var e=t.call(this)||this;return e.path=[],e.PI_2=2*Math.PI,e._triangleNum=5,e.RADIUS_V=1,e._innerRadius=e.RADIUS_V/2,e}return r(e,t),e.prototype.drawGraph=function(){var t=this.graphics;t.clear(),this.path=[],this._triangleNum<=1||this._lineWidth<0?console.log("属性错误，线宽小于0或者角数错误"):(t.lineStyle(this._lineWidth,this._lineColor,this._lineAlpha,.5,!1,this.lineType),this.setStarPath(),this.color?t.beginFill(this._color,this._fillAlpha):o.updateTextureFill(this.graphics,this),t.drawPolygonOne(this.path),t.endFill())},Object.defineProperty(e.prototype,"triangleNum",{get:function(){return this._triangleNum},set:function(t){this._triangleNum=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),e.prototype.setStarPath=function(){var t=this.RADIUS_V;isNaN(this.innerRadius)&&(this.innerRadius=t/2);for(var e=this.innerRadius,i=this._triangleNum,n=this.PI_2,r=-1*Math.PI/2,o=2*i,s=n/o,a=this.width>0?this.width/(2*t):1,h=this.height>0?this.height/(2*t):1,l=this._anchorX?this._anchorX:0,u=this._anchorY?this._anchorY:0,c=0;c<o;c++){var p=c%2?e:t,d=c*s+r,f=(p*Math.cos(d)+l+t)*a,_=(p*Math.sin(d)+u+t)*h,v=new vf.Point(f,_);this.path.push(v)}},e}(i(5).GraphBase);e.Star=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationJitter=void 0;var o=i(43),s=i(12),a=i(6),h=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r._revertAni=!0,r}return r(e,t),e.prototype.play=function(e){if(void 0===e&&(e=0),!0!==this.playing){t.prototype.play.call(this,e);var i=this.sprite;this.tween&&this.clearTween(),this.tween||(this.tween=new a.Tween(i).to(this.options,35).repeat(1/0).easing(vf.gui.Easing.Linear.None).yoyo(!0).delay(10),this.tween.on(s.TweenEvent.complete,this.complete.bind(this))),this.tween.start()}},e.prototype.gotoAndStop=function(e){this.tween&&this.tween.gotoAndStop(e),t.prototype.gotoAndStop.call(this,e)},e.prototype.clearTween=function(){this.sprite;this.tween&&(this.tween.release(),this.tween=void 0)},e.prototype.complete=function(){this.clearTween(),t.prototype.complete.call(this)},e.prototype.release=function(){this.clearTween(),t.prototype.release.call(this)},e}(o.AnimationBase);e.AnimationJitter=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationBase=e.AnimationBaseData=void 0;var o=i(3),s=i(0),a=function(){this.x=NaN,this.y=NaN,this.rotation=NaN};e.AnimationBaseData=a;var h=function(t){function e(e,i,n){var r=t.call(this)||this;return r._duratime=NaN,r._currenTimer=NaN,r._revertAni=!1,r._playing=!1,r._addTick=!1,e&&(r.sprite=e),i&&(r._options=i),n&&(r._duratime=n),r}return r(e,t),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sprite",{get:function(){return this._sprite},set:function(t){this._sprite=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revertAni",{get:function(){return this._revertAni},enumerable:!1,configurable:!0}),e.prototype.cacheSprite=function(){if(this.sprite){var t=this.sprite,e=this._options;for(var i in this._valuesStart={},e){var n=t&&t[i]&&s.deepCopy(t[i]);this._valuesStart[i]=n}}},e.prototype.play=function(t){void 0===t&&(t=NaN),!0===this._revertAni&&this.cacheSprite(),this._playing=!0,isNaN(t)?isNaN(this._currenTimer)&&(this._currenTimer=0):this._currenTimer=t,this._addTick||(this._addTick=!0,o.TickerShared.add(this.updata,this))},e.prototype.pause=function(){this._playing=!1,this.gotoAndStop(this._currenTimer)},e.prototype.complete=function(){o.TickerShared.remove(this.updata,this),this._playing=!1,!0===this._revertAni&&this.setTimeStates(0),this.emit("complete")},e.prototype.gotoAndPlay=function(t){this.goto(t),this._playing=!0,this.play(t)},e.prototype.gotoAndStop=function(t){this._playing=!1,this.goto(t)},e.prototype.goto=function(t){this._currenTimer=t,this.setTimeStates(t)},e.prototype.setTimeStates=function(t){var e=this.getTimeData(t);this._sprite&&e&&(!isNaN(e.x)&&(this._sprite.x=e.x),!isNaN(e.y)&&(this._sprite.y=e.y),!isNaN(e.rotation)&&(this._sprite.rotation=e.rotation))},e.prototype.getTimeData=function(t){return this._spriteData},e.prototype.updata=function(t){!1!==this._playing&&(this._duratime>0&&this._currenTimer>=this._duratime?this.complete():this._currenTimer+=o.TickerShared.deltaMS)},e.prototype.release=function(){this.emit("release"),this.removeAllListeners(),o.TickerShared.remove(this.updata,this),this._addTick=!1,this._sprite=void 0,this._options=void 0,this._duratime=NaN,this._playing=!1},e}(vf.utils.EventEmitter);e.AnimationBase=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.NumberFrame=e.Frame=e.Timeline=void 0;var o=function(){function t(){this.frames=[],this.curTime=0,this.lastTime=0,this.loop=!1,this.totalTime=0,this._defaultValue=null,this._globalTime=0,this._lastGlobalTime=0,this._lastFrame=null,this._curFrame=null,this._nextFrame=null,this._times=-1,this._curValue=null}return Object.defineProperty(t.prototype,"defaultValue",{set:function(t){this._defaultValue=t,this._curValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curValue",{get:function(){return this._curValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"globalTime",{set:function(t){this._globalTime=t,this.tick(),this._lastGlobalTime=t},enumerable:!1,configurable:!0}),t.prototype.getProgress=function(t,e,i,n){var r=0,o=0;return o=r=i===e?0:(t-e)/(i-e),n&&(o=n(r)),o},t.prototype.tick=function(){this.curTime=this._globalTime,this.loop&&(this._times=Math.floor(this.curTime/this.totalTime),this.curTime=this.curTime-this.totalTime*this._times),this.updateCurFrame(),this.updateCurValue(),this.lastTime=this.curTime},t.prototype.updateCurFrame=function(){if(0!==this.frames.length){this._lastFrame=this._curFrame;var t,e=0;for(e=0,t=this.frames.length;e<t;e++)if(this.frames[e].time>this.curTime)return void(0===e?(this._curFrame=null,this._nextFrame=this.frames[e]):(this._curFrame=this.frames[e-1],this._nextFrame=this.frames[e]));this._curFrame=this.frames[this.frames.length-1],this._nextFrame=this._curFrame}},t.prototype.updateCurValue=function(){if(this._curFrame&&this._nextFrame){var t=this.getProgress(this.curTime,this._curFrame.time,this._nextFrame.time,this._curFrame.ease);this._curValue=this._curFrame.getValue(t,this._nextFrame.value)}},t.prototype.release=function(){this.frames=[],this.curTime=0,this.lastTime=0,this.loop=!1,this.totalTime=0,this._defaultValue=null,this._globalTime=0,this._lastGlobalTime=0,this._lastFrame=null,this._curFrame=null,this._nextFrame=null,this._times=-1},t}();e.Timeline=o;var s=function(){function t(){this.time=-1,this.value=null}return t.prototype.getValue=function(t,e){return null},t}();e.Frame=s;var a=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.getValue=function(t,e){return this.value+(e-this.value)*t},e}(s);e.NumberFrame=a},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Audio=e.PlayerStates=void 0;var o,s=i(2),a=i(0),h=i(88);!function(t){t.init="init",t.play="play",t.pause="pause",t.end="end"}(o=e.PlayerStates||(e.PlayerStates={}));var l=function(t){function e(){var e=t.call(this)||this;return e._autoplay=!1,e._loop=!1,e._playbackRate=1,e._volume=1,e._audioUid="",e._playerStates=o.init,e._id=a.now().toString(),e._audioUid=e.uuid.toString(),e.audioGroup="",vf.utils.deprecation("1.0.0","在互动课件环境，Audio组件仅支持最基础的播放、暂停功能。"),e}return r(e,t),Object.defineProperty(e.prototype,"audioUid",{set:function(t){this._audioUid=t},enumerable:!1,configurable:!0}),e.prototype.initAudio=function(){var t=this,e={autoplay:this._autoplay,loop:this._loop,playbackRate:this._playbackRate,volume:this._volume};this.audio=vf.AudioEngine.Ins().createAudio(this._audioUid,this._src,e),this.audio.on("canplay",(function(e){t.emit("canplay",e)}),this),this.audio.on("canplaythrough",(function(e){t.emit("canplaythrough",e)}),this),this.audio.on("play",(function(e){t.emit("play",e)}),this),this.audio.on("pause",(function(e){t.emit("pause",e)}),this),this.audio.on("error",(function(e){t.emit("error",e)})),this.audio.on("timeupdate",(function(e,i){t.emit("timeupdate",e,i)})),this.audio.on("ended",(function(e){t.emit("ended",e),t.dispose()}),this)},Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(t){var e=a.getSound(t);"object"==typeof e&&e.url?this._src=e.url:this._src=t,this.audio&&this.dispose(),this._playerStates=o.init,this.invalidateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoplay",{get:function(){return this._autoplay},set:function(t){this._autoplay=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return!!this.audio&&this.audio.loop},set:function(t){this._loop=t,this.audio&&(this.audio.loop=this._loop)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){return this.audio?this.audio.playbackRate:0},set:function(t){this._playbackRate=t,this.audio&&(this.audio.playbackRate=this._playbackRate)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.audio?this.audio.volume:0},set:function(t){this._volume=t,this.audio&&(this.audio.volume=this._volume)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.audio?this.audio.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return!!this.audio&&this.audio.paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioGroup",{get:function(){return this._groupName},set:function(t){void 0===t&&h.unRegistrerAudioGroup(this),this._groupName!=t&&(this._groupName=t,h.registrerAudioGroup(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerStates",{get:function(){return this._playerStates},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._playerStates===o.play},enumerable:!1,configurable:!0}),e.prototype.play=function(t,e,i){var n;if(this._playerStates=o.play,h.updateAudioGroupStates(this),!((null===(n=this.stage)||void 0===n?void 0:n.syncManager)&&this.stage.syncManager.resumeStatusFlag)){if(this.useNativeAudio())return this.nativeEmit(this._src,"playAudio"),void this.emit("play",this);this.audio||this.initAudio(),this.audio&&this.audio.play(t,e,i)}},e.prototype.stop=function(t){var e,i=this;if(!((null===(e=this.stage)||void 0===e?void 0:e.syncManager)&&this.stage.syncManager.resumeStatusFlag)){var n=this;this.stoping&&clearTimeout(this.stoping),t?this.stoping=setTimeout((function(){i._playerStates=o.end,n.emit("stop",n)}),t):(this._playerStates=o.end,this.emit("stop",this)),this.useNativeAudio()?this.nativeEmit(this._src,"pauseAudio"):this.audio&&this.audio.stop(t)}},e.prototype.pause=function(){var t;if(this._playerStates=o.pause,!((null===(t=this.stage)||void 0===t?void 0:t.syncManager)&&this.stage.syncManager.resumeStatusFlag))return this.useNativeAudio()?(this.nativeEmit(this._src,"pauseAudio"),void this.emit("pause",this)):void(this.audio&&this.audio.pause())},e.prototype.dispose=function(){this._playerStates=o.end,this.audio&&(vf.AudioEngine.Ins().map.delete(this._audioUid),this.audio.removeAllListeners(),this.audio.dispose(),this.audio=void 0),this.parent&&this.parent.removeChild(this),this.useNativeAudio()&&this.nativeEmit(this._src,"pauseAudio")},e.prototype.release=function(){t.prototype.release.call(this),this.dispose()},e.prototype.commitProperties=function(){this.audio||this.initAudio(),this._autoplay&&this.play()},e.prototype.useNativeAudio=function(){var t,e;return null===(e=null===(t=this.stage)||void 0===t?void 0:t.config)||void 0===e?void 0:e.vfvars.useNativeAudio},e.prototype.nativeEmit=function(t,e){var i;null===(i=this.stage)||void 0===i||i.getSystemEvent().emit("message",{code:"native",type:"native",level:"command",data:{type:e,src:t,id:this._audioUid,mode:"sound",signalling:!1}})},e}(s.DisplayObject);e.Audio=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gui=void 0;var n=i(15);e.gui=n,void 0===window.vf&&(window.vf={}),window.vf.gui=n,window.vf.gui.VERSION="3.0.3"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickEvent=void 0;var n=i(16),r=i(0),o=i(8),s=function(){function t(t,e,i,n){if(this.id=0,this.isOpenLocalPoint=!1,this.localOffset=new vf.Point,this.offset=new vf.Point,this.movementX=0,this.movementY=0,this.ishover=!1,this.mouse=new vf.Point,this.bound=!1,this.right=!1,this.hover=!0,this.double=!1,this.time=0,this.isStop=!0,this.deviceType=vf.utils.getSystemInfo().device.type,this._tempMovePoint=new vf.Point,this.obj=t,void 0!==e&&(this.hover=e),void 0!==i){this.right=i;var r=vf.utils.getSystemInfo().device.type;"tablet"!==r&&"mobile"!==r||(this.right=!1)}void 0!==n&&(this.double=n),t.interactive=!0,this.startEvent()}return t.prototype.getTarget=function(){return this.obj},t.prototype.startEvent=function(){if(this.isStop){var t=this.obj.container;t.on("mousedown",this._onMouseDown,this),this.right?t.on("rightdown",this._onMouseRight,this):(t.on("touchstart",this._onMouseDown,this),this.hover&&(t.on("mouseover",this._onMouseOver,this),t.on("mouseout",this._onMouseOut,this),"pc"!==this.deviceType&&(t.on("touchstart",this._onMouseOver,this),t.on("touchend",this._onMouseOut,this),t.on("touchendoutside",this._onMouseOut,this)))),this.isStop=!1}},t.prototype._onStageTouchOutside=function(t){var e;null===(e=this.obj.stage)||void 0===e||e.container.off("touchendoutside",this._onStageTouchOutside,this),this._onMouseUpOutside(t)},t.prototype._onMouseRight=function(t){switch(this.obj.stage&&this.obj.stage.syncInteractiveFlag&&this.obj.listenerCount(n.TouchMouseEvent.onRightDown)>0&&o.SyncManager.getInstance(this.obj.stage).collectEvent(t,this.obj),t.type){case"rightdown":this.emitTouchEvent(n.TouchMouseEvent.onRightDown,t,!0)}this.obj.stage&&this.obj.stage.originalEventPreventDefault&&t.data.originalEvent&&(t.data.originalEvent.preventDefault(),t.data.originalEvent.stopImmediatePropagation())},t.prototype.stopEvent=function(){var t=this.obj.container;this.bound&&(t.off("mouseup",this._onMouseUp,this),t.off("mouseupoutside",this._onMouseUpOutside,this),this.right||(t.off("touchend",this._onMouseUp,this),t.off("touchendoutside",this._onMouseUpOutside,this),t.off("touchcancel",this._onMouseUpOutside,this)),this.bound=!1),t.off("mousedown",this._onMouseDown,this),this.right?t.off("rightdown",this._onMouseRight,this):t.off("touchstart",this._onMouseDown,this),this.hover&&(t.off("mouseover",this._onMouseOver,this),t.off("mouseout",this._onMouseOut,this),t.off("mousemove",this._onMouseMove,this),t.off("touchmove",this._onMouseMove,this),t.off("touchstart",this._onMouseOver,this),t.off("touchend",this._onMouseOut,this),t.off("touchendoutside",this._onMouseOut,this)),this.isStop=!0},t.prototype._onMouseDown=function(e){t.downObjects.set(this.obj.uuid.toString(),this),this.obj.stage&&this.obj.stage.syncInteractiveFlag&&(this.obj.listenerCount(n.TouchMouseEvent.onPress)>0||this.obj.listenerCount(n.TouchMouseEvent.onDown)>0||this.obj.listenerCount(n.TouchMouseEvent.onClick)>0)&&o.SyncManager.getInstance(this.obj.stage).collectEvent(e,this.obj),this.setLocalPoint(e),this.mouse.copyFrom(e.data.global),this.id=e.data.identifier,this.emitTouchEvent(n.TouchMouseEvent.onPress,e,!0),this.obj.listenerCount(n.TouchMouseEvent.onDown)>0&&this.emitTouchEvent(n.TouchMouseEvent.onDown,e,!0);var i=this.obj.container;if(this.bound||(i.on("mouseup",this._onMouseUp,this),i.on("mouseupoutside",this._onMouseUpOutside,this),i.on("touchend",this._onMouseUp,this),i.on("touchendoutside",this._onMouseUpOutside,this),i.on("touchcancel",this._onMouseUpOutside,this),this.bound=!0),this.double){var r=performance.now();r-this.time<210?this.emitTouchEvent("double",e):this.time=r}this.obj.stage&&this.obj.stage.originalEventPreventDefault&&e.data.originalEvent&&(e.data.originalEvent.preventDefault(),e.data.originalEvent.stopImmediatePropagation())},t.prototype.emitTouchEvent=function(t,e,i){if(!(this.obj.listenerCount(t)<=0)){if(r.debug){var o=this.obj.stage;o&&t!==n.TouchMouseEvent.onMove&&o.sendToPlayer({code:t,level:"info",target:this.obj,data:[i],action:e.type})}e.type=t.toString(),this.obj.emit(e.type,e,this.obj,i)}},t.prototype._mouseUpAll=function(t){t.data.identifier===this.id&&(this.offset.set(t.data.global.x-this.mouse.x,t.data.global.y-this.mouse.y),this.bound&&(this.obj.container.off("mouseup",this._onMouseUp,this),this.obj.container.off("mouseupoutside",this._onMouseUpOutside,this),this.obj.container.off("touchend",this._onMouseUp,this),this.obj.container.off("touchendoutside",this._onMouseUpOutside,this),this.obj.container.off("touchcancel",this._onMouseUpOutside,this),this.bound=!1),this.emitTouchEvent(n.TouchMouseEvent.onUp,t,!1),this.emitTouchEvent(n.TouchMouseEvent.onPress,t,!1))},t.prototype._onMouseUp=function(t){t.data.identifier===this.id&&(this.obj.stage&&this.obj.stage.syncInteractiveFlag&&(this.obj.listenerCount(n.TouchMouseEvent.onUp)>0||this.obj.listenerCount(n.TouchMouseEvent.onPress)>0||this.obj.listenerCount(n.TouchMouseEvent.onClick)>0)&&o.SyncManager.getInstance(this.obj.stage).collectEvent(t,this.obj),this._mouseUpAll(t),this.obj.dragThreshold&&(this.movementX=Math.abs(this.offset.x),this.movementY=Math.abs(this.offset.y),Math.max(this.movementX,this.movementY)>this.obj.dragThreshold)||this.double||this.emitTouchEvent(n.TouchMouseEvent.onClick,t,!1))},t.prototype._onMouseUpOutside=function(t){t.data.identifier===this.id&&(this.obj.stage&&this.obj.stage.syncInteractiveFlag&&(this.obj.listenerCount(n.TouchMouseEvent.onUp)>0||this.obj.listenerCount(n.TouchMouseEvent.onPress)>0)&&o.SyncManager.getInstance(this.obj.stage).collectEvent(t,this.obj),this._mouseUpAll(t),"pc"!==this.deviceType&&this.removeAllMove())},t.prototype._onMouseOver=function(t){this.ishover||(this.obj.stage&&this.obj.stage.syncInteractiveFlag&&(this.obj.listenerCount(n.TouchMouseEvent.onHover)>0||this.obj.listenerCount(n.TouchMouseEvent.onMouseEnter)>0)&&o.SyncManager.getInstance(this.obj.stage).collectEvent(t,this.obj),this.ishover=!0,this.obj.container.listeners("mousemove").length<=0&&this.obj.container.on("mousemove",this._onMouseMove,this),this.obj.container.listeners("touchmove").length<=0&&this.obj.container.on("touchmove",this._onMouseMove,this),this.emitTouchEvent(n.TouchMouseEvent.onHover,t,!0),this.emitTouchEvent(n.TouchMouseEvent.onMouseEnter,t))},t.prototype._onMouseOut=function(t){this.ishover&&(this.obj.stage&&this.obj.stage.syncInteractiveFlag&&(this.obj.listenerCount(n.TouchMouseEvent.onHover)>0||this.obj.listenerCount(n.TouchMouseEvent.onMouseLeave)>0)&&o.SyncManager.getInstance(this.obj.stage).collectEvent(t,this.obj),this.ishover=!1,"pc"!==this.deviceType&&this.removeAllMove(),this.emitTouchEvent(n.TouchMouseEvent.onHover,t,!1),this.emitTouchEvent(n.TouchMouseEvent.onMouseLeave,t))},t.prototype._onMouseMove=function(t){this.obj.stage&&this.obj.stage.syncInteractiveFlag&&this.obj.listenerCount(n.TouchMouseEvent.onMove)>0&&o.SyncManager.getInstance(this.obj.stage).collectEvent(t,this.obj);var e=this.obj.container;e.toLocal(t.data.global,void 0,this._tempMovePoint),e.hitArea&&e.hitArea.contains(this._tempMovePoint.x,this._tempMovePoint.y)&&(this.setLocalPoint(t),this.emitTouchEvent(n.TouchMouseEvent.onMove,t)),this.obj.stage&&this.obj.stage.originalEventPreventDefault&&t.data.originalEvent&&(t.data.originalEvent.preventDefault(),t.data.originalEvent.stopImmediatePropagation())},t.prototype.setLocalPoint=function(t){this.isOpenLocalPoint&&(this.obj.container.toLocal(t.data.global,void 0,this.localOffset),t.local=this.localOffset)},t.prototype.removeAllMove=function(){t.downObjects.forEach((function(t){var e=t.obj;e.container.off("mousemove",t._onMouseMove,t),e.container.off("touchmove",t._onMouseMove,t)})),t.downObjects.clear()},t.prototype.remove=function(){this.stopEvent(),this.obj.container.interactive=!1},t.downObjects=new Map,t}();e.ClickEvent=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEventItem=e.getItem=e.removeDropTarget=e.getDropTargets=e.addDropTarget=e.remove=e.add=e._dropTargets=e._items=void 0,e._items=[],e._dropTargets=[],e.add=function(t,i){return t.attach.dragDropEventId=i.data.identifier,-1===e._items.indexOf(t)&&(e._items.push(t),!0)},e.remove=function(t){var i=e._items.indexOf(t);return i>-1&&(e._items.splice(i,1),!0)},e.addDropTarget=function(t,i){var n={group:t,target:i};e._dropTargets.push(n)},e.getDropTargets=function(t){var i=[];return e._dropTargets.forEach((function(e){e.group===t&&i.push(e.target)})),i},e.removeDropTarget=function(t){for(var i,n=0;n<e._dropTargets.length;++n)if(e._dropTargets[n].target===t){i=n;break}void 0!==i&&e._dropTargets.splice(i,1)},e.getItem=function(t){for(var i,n=0;n<e._items.length;n++)if(e._items[n]===t){i=n;break}return void 0!==i&&(e._items.splice(i,1),t)},e.getEventItem=function(t,i){for(var n,r=null,o=t.data.identifier,s=0;s<e._items.length;s++)if(e._items[s].attach.dragDropEventId===o){if(i!==e._items[s].attach.dragGroup&&""!==e._items[s].attach.dragGroup)return!1;r=e._items[s],n=s;break}return void 0!==n&&(e._items.splice(n,1),r)}},function(t,e,i){"use strict";var n;function r(){var t=n;t&&t.blur&&"function"==typeof t.blur&&t.blur()}Object.defineProperty(e,"__esModule",{value:!0}),e.setCheckGroupSelectedValue=e.getCheckGroupSelectedValue=e.updateCheckGroupSelected=e.unRegistrerCheckGroup=e.registrerCheckGroup=e.firePrev=e.fireNext=e.fireTab=e.clear=e.set=e.blur=e.registrer=e._checkGroupObject=e.tabGroups=void 0,e.tabGroups={},e._checkGroupObject={groups:{},values:{}},e.registrer=function(t,i,n){var r=n||"default",o=e.tabGroups[r];o||(o=e.tabGroups[r]=[]),-1===o.indexOf(t)&&(t.attach._tabIndex=void 0!==i?i:-1,t.attach._tabGroup=o,o.push(t),o.sort((function(t,e){return t.attach._tabIndex<e.attach._tabIndex?-1:t.attach._tabIndex>e.attach._tabIndex?1:0})))},e.blur=r,e.set=function(t){r(),n=t},e.clear=function(){n=void 0},e.fireTab=function(){if(n){var t=n.attach._tabGroup,e=t.indexOf(n)+1;e>=t.length&&(e=0);var i=t[e];i.focus&&i.focus()}},e.fireNext=function(){if(n){var t=n.attach._tabGroup,e=t.indexOf(n)+1;e>=t.length&&(e=t.length-1);var i=t[e];i.focus&&i.focus()}},e.firePrev=function(){if(n){var t=n.attach._tabGroup,e=t.indexOf(n)-1;e<0&&(e=0);var i=t[e];i.focus&&i.focus()}},e.registrerCheckGroup=function(t){var i=t.checkGroup;if(i){var n=e._checkGroupObject.groups[i];n||(n=e._checkGroupObject.groups[i]={}),n[t.uuid.toString()]=t,t.checked&&(e._checkGroupObject.values[i]=t.uuid.toString())}},e.unRegistrerCheckGroup=function(t){if(t.checkGroup&&e._checkGroupObject.groups[t.checkGroup]){delete e._checkGroupObject.groups[t.checkGroup][t.uuid.toString()];var i=!1;for(var n in e._checkGroupObject.groups[t.checkGroup]){n&&(i=!0);break}i||delete e._checkGroupObject.groups[name],t.checked&&(e._checkGroupObject.values[name]=void 0)}},e.updateCheckGroupSelected=function(t){if(t.checkGroup){var i=e._checkGroupObject.groups[t.checkGroup];for(var n in i){var r=i[n];r!==t&&(r.checked=!1)}e._checkGroupObject.values[t.checkGroup]=t.uuid.toString()}},e.getCheckGroupSelectedValue=function(t){var i=e._checkGroupObject.values[t];if(i)return e._checkGroupObject.groups[t][i.toString()].value},e.setCheckGroupSelectedValue=function(t,i){var n=e._checkGroupObject.groups[t];if(n){var r=n[i];r&&(r.checked=!0)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateVideoGroupStates=e.unRegistrerVideoGroup=e.registrerVideoGroup=e._videoGroupObject=void 0,e._videoGroupObject={groups:{},values:{}},e.registrerVideoGroup=function(t){var i=t.videoGroup;if(i||""===i){var n=e._videoGroupObject.groups[i];n||(n=e._videoGroupObject.groups[i]={}),n[t.uuid.toString()]=t,e._videoGroupObject.values[i]=t.uuid.toString()}},e.unRegistrerVideoGroup=function(t){if((t.videoGroup||""===t.videoGroup)&&e._videoGroupObject.groups[t.videoGroup]){delete e._videoGroupObject.groups[t.videoGroup][t.uuid.toString()];var i=!1;for(var n in e._videoGroupObject.groups[t.videoGroup]){n&&(i=!0);break}i||delete e._videoGroupObject.groups[t.videoGroup],e._videoGroupObject.values[t.videoGroup]=void 0}},e.updateVideoGroupStates=function(t){if(t.videoGroup||""===t.videoGroup){var i=e._videoGroupObject.groups[t.videoGroup];for(var n in i){var r=i[n];r!==t?r.isPlaying&&r.pause():r.isPlaying||r.play()}e._videoGroupObject.values[t.videoGroup]=t.uuid.toString()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGroup=e.unRegistrerGroup=e.registrerGroup=e.unRegistrerID=e.registrerID=e.getObjectById=e._idObject=e._GroupObject=void 0,e._GroupObject=new Map,e._idObject=new Map,e.getObjectById=function(t){return e._idObject.get(t)},e.registrerID=function(t){return!(!t.id||e._idObject.has(t.id))&&(e._idObject.set(t.id,t),!0)},e.unRegistrerID=function(t){t.id&&e._idObject.has(t.id)&&e._idObject.delete(t.id)},e.registrerGroup=function(t){if(t.groupName){var i=e._GroupObject.get(t.groupName);i||(i={},e._GroupObject.set(t.groupName,i)),i[t.uuid]=t}},e.unRegistrerGroup=function(t){if(t.groupName){var i=e._GroupObject.get(t.groupName);i&&delete i[t.uuid];var n=!1;for(var r in i){n=!0;break}n&&e._GroupObject.delete(t.groupName)}},e.getGroup=function(t){if(null!=t)return e._GroupObject.get(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Background=void 0;var n=i(0),r=i(4),o=function(){function t(t){this._oldRepeat="",this._invalidateFlag=!1,this.isInit=!1,this._type=0,this._color=void 0,this._alpha=1,this._radius=0,this._positionX=0,this._positionY=0,this._repeat="no-repeat",this._fillAlpha=1,this._fillGradientStops=[],this._fillGradientType=1,this.parent=t}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,void 0===this._container&&(this._container=new vf.Container,this._container.name="background",this.parent.container.addChildAt(this._container,0),this._mask=new vf.Graphics,this.isInit=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t||void 0,0===t&&(this._color=0),this._invalidateFlag=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha=t,this._container?this._container.alpha=t:(this._invalidateFlag=!0,this.parent.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this._invalidateFlag=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this._src},set:function(t){this._src=t||void 0,this._invalidateFlag=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionX",{get:function(){return this._positionX},set:function(t){this._positionX=t,this._invalidateFlag=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionY",{get:function(){return this._positionY},set:function(t){this._positionY=t,this._invalidateFlag=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t,this._invalidateFlag=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeat",{get:function(){return this._repeat},set:function(t){this._repeat=t,this._invalidateFlag=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillColor",{get:function(){return this._color},set:function(t){if(Array.isArray(t))return Array.isArray(t[0])?(void 0===this.canvas&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.texture=vf.Texture.from(this.canvas)),this._color=t,void(this._invalidateFlag=!0)):(this._fillAlpha=t[3]||1,void(this.color=n.rgbToNumber(t[0],t[1],t[2])));this.color=t||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){this._fillGradientStops=t,this._invalidateFlag=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType=t,this._invalidateFlag=!0},enumerable:!1,configurable:!0}),t.prototype.update=function(t,e){if(this.lastW===t&&this.lastH===e||(this._invalidateFlag=!0,this.lastW=t,this.lastH=e),this._invalidateFlag&&(this._invalidateFlag=!1,void 0!==this._container)){var i=this._container;if(i.alpha=this._alpha,1===this.type){this._image&&this.removeImage(this._image,i);var r=this._color,o=this._radius,s=this._rect;if(void 0===r&&s&&s.parent)return void i.removeChild(s);void 0===this._rect&&(this._rect=new vf.Graphics),r&&(this.drawRect(this._rect,r,t,e,o,this._fillAlpha),this._rect.parent||i.addChild(this._rect))}else if(2===this.type){if(void 0===this._mask)return;this._rect&&this._rect.parent&&i.removeChild(this._rect);var a=this._repeat,h=this._src,l=this._size,u=this._mask;if(this._oldRepeat!=a||this._oldSrc!=h){switch(this._oldRepeat=a,this._image&&this._image.destroy(),a){case"no-repeat":this._image=new vf.Sprite(n.getTexture(h));break;case"repeat":this._image=new vf.TilingSprite(n.getTexture(h))}this._image&&(this._image.mask=u)}var c=this._image;if(c){if(void 0===h)return void this.removeImage(c,i);c instanceof vf.TilingSprite?c.tilePosition.set(this._positionX,this._positionY):c.position.set(this._positionX,this._positionY),this.drawRect(u,0,t,e,this._radius),void 0!==l?(c.width=l[0],c.height=l[1]):c.texture.width>1&&(c.width=c.texture.width,c.height=c.texture.height),u.parent||i.addChild(u),c.parent||i.addChild(c)}}}},t.prototype.drawRect=function(t,e,i,n,o,s){void 0===s&&(s=1),t.clear(),"number"==typeof e?t.beginFill(e,s):r.updateTextureFill(t,{canvas:this.canvas,context:this.context,texture:this.texture,width:i,height:n,anchorX:0,anchorY:0,style:{fillColor:e,fillGradientStops:this._fillGradientStops,fillGradientType:this.fillGradientType}}),t.drawRoundedRect(0,0,i,n,o),t.endFill()},t.prototype.removeImage=function(t,e){this._mask&&this._mask.parent&&e.removeChild(this._mask),t.parent&&e.removeChild(t)},t.prototype.release=function(){this._mask&&this._mask.parent&&this._mask.destroy(),this._image&&(this._image.destroy(),this._image=void 0),this._rect&&(this._rect.destroy(),this._rect=void 0),this.canvas&&(this.canvas.height=this.canvas.width=0,this.context=void 0,this.canvas=void 0),this._container&&(this._container.destroy(),this._container.parent&&this._container.parent.removeChild(this._container),this._container=void 0),this._invalidateFlag=!1,this._type=0,this.parent=void 0},t}();e.Background=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mask=void 0;var n=i(0),r=function(){function t(t){this._invalidateFlag=!1,this.parent=t}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t,this._invalidateFlag=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t,this._invalidateFlag=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"image",{get:function(){return this._image},set:function(t){t!==this._image&&(this._image=t,this._invalidateFlag=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(t,e){if(this._invalidateFlag){this._invalidateFlag=!1;var i,r=this.parent.container,o=this._image;if(o!==this._oldImage){if(this._oldImage=o,this._mask&&this._mask.parent&&this._mask.parent.removeChild(this._mask),void 0===o)return void(r.mask=null);if(this._mask=void 0,"string"==typeof o&&-1!==o.indexOf("//"))this._mask=i=vf.Sprite.from(o);else if("string"==typeof o&&-1!==o.indexOf("this"))i=n.getDisplayObject(this._image);else if("string"==typeof o||"number"==typeof o){var s=n.getDisplayObject(o);"string"==typeof s?this._mask=i=vf.Sprite.from(s):i=this.getGuiObject(s)}else"string"==typeof o&&-1!==o.indexOf(".")?this._mask=i=vf.Sprite.from(o):o instanceof vf.Graphics||o instanceof vf.Sprite?this._mask=i=o:o.maskSprite&&(i=this.getGuiObject(o));i&&(r.mask=i,i.parent||r.addChild(i))}var a=r.mask;a&&this._size&&(this._mask?(this._mask.width=this._size[0],this._mask.height=this._size[1]):(a.width=this._size[0],a.height=this._size[1])),a&&this._position&&(this._mask?(this._mask.x=this._position[0]||0,this._mask.y=this._position[1]||0):(a.x=this._position[0]||0,a.y=this._position[1]||0))}},t.prototype.getGuiObject=function(t){return this._mask=t,t.parent||this.parent.addChild(t),t.validateNow(),t.maskSprite()},t.prototype.release=function(){this.parent&&(this.parent.mask=null),this._mask=void 0,this._oldImage=void 0,this.image=void 0,this.parent=void 0,this._invalidateFlag=!1},t}();e.Mask=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSStyle=void 0;var n=i(55),r=i(0),o=i(0),s=function(){function t(t){this._display="block",this._position="absolute",this._fillColor=[],this._lineColor=[],this._lineWidth=0,this._color=[255,255,255,1],this._wordWrap=!1,this._textDecoration="None",this._textDecorationColor=NaN,this._textAlign="center",this._verticalAlign="middle",this._fontFamily="Arial",this._whiteFamily=["Arial"],this._fontSize=22,this._fontStyle="normal",this._fontVariant="normal",this._fontWeight="normal",this._strokeThickness=0,this._dropShadow=!1,this._dropShadowAlpha=!1,this._dropShadowAngle=0,this._dropShadowBlur=0,this._dropShadowColor=0,this._dropShadowDistance=5,this._fillGradientType=0,this._fillGradientStops=[],this._breakWords=!0,this.parent=t}return t.prototype.release=function(){},Object.defineProperty(t.prototype,"display",{get:function(){return this._display},set:function(t){this._display=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"justifyContent",{get:function(){return this._justifyContent},set:function(t){this._justifyContent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alignContent",{get:function(){return this._alignContent},set:function(t){this._alignContent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridTemplateColumns",{get:function(){return this._gridTemplateColumns},set:function(t){this._gridTemplateColumns=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridColumnGap",{get:function(){return this._gridColumnGap},set:function(t){this._gridColumnGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridTemplateRows",{get:function(){return this._gridTemplateRows},set:function(t){this._gridTemplateRows=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridRowGap",{get:function(){return this._gridRowGap},set:function(t){this._gridRowGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.parent.width},set:function(t){"number"==typeof t?(this.parent.width=t,this.parent.percentWidth=NaN):this.parent.percentWidth=r.formatRelative(t,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.parent.height},set:function(t){"number"==typeof t?(this.parent.height=t,this.parent.percentWidth=NaN):this.parent.percentHeight=r.formatRelative(t,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.parent.minWidth},set:function(t){this.parent.minWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.parent.maxWidth},set:function(t){this.parent.maxWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this.parent.maxHeight},set:function(t){this.parent.maxHeight=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.parent.minHeight},set:function(t){this.parent.minHeight=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.parent.left},set:function(t){this.parent.left=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.parent.top},set:function(t){this.parent.top=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.parent.right},set:function(t){this.parent.right=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.parent.bottom},set:function(t){this.parent.bottom=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{get:function(){return this.parent.scaleX},set:function(t){var e=this.parent;e.scaleX=t,e.invalidateSize(),e.invalidateParentLayout()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleY",{get:function(){return this.parent.scaleY},set:function(t){var e=this.parent;e.scaleY=t,e.invalidateSize(),e.invalidateParentLayout()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skewX",{get:function(){return this.parent.skewX},set:function(t){var e=this.parent;e.skewX=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skewY",{get:function(){return this.parent.skewY},set:function(t){var e=this.parent;e.skewY=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.parent.rotation},set:function(t){this.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.parent.rotation},set:function(t){var e=this.parent;e.rotation=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivotX",{get:function(){return this.parent.pivotX},set:function(t){var e=this.parent;e.pivotX=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivotY",{get:function(){return this.parent.pivotY},set:function(t){var e=this.parent;e.pivotY=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this.parent.tint},set:function(t){this.parent.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.parent.alpha},set:function(t){this.parent.alpha=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.parent.visible},set:function(t){this.parent.visible=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){return this.parent.visible?"visible":"hidden"},set:function(t){this.visible="hidden"!==t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.parent.$background.color},set:function(t){var e=this.parent;e.$background.type=1,e.$background.fillColor=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundRadius",{get:function(){return this.parent.$background.radius},set:function(t){var e=this.parent;e.$background.radius=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this.parent.$background.src},set:function(t){var e=this.parent;e.$background.type=2,e.$background.src=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundPositionX",{get:function(){return this.parent.$background.positionX},set:function(t){var e=this.parent;e.$background.positionX=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundPositionY",{get:function(){return this.parent.$background.positionY},set:function(t){var e=this.parent;e.$background.positionY=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundSize",{get:function(){return this.parent.$background.size},set:function(t){var e=this.parent;e.$background.size=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundRepeat",{get:function(){return this.parent.$background.repeat},set:function(t){var e=this.parent;e.$background.repeat=t,e.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this.parent.$background.alpha},set:function(t){this.parent.$background.alpha=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskImage",{get:function(){return this.parent.$mask.image},set:function(t){this.parent.$mask.image=t,this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskPosition",{get:function(){return this.parent.$mask.position},set:function(t){this.parent.$mask.position=t,this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskSize",{get:function(){return this.parent.$mask.size},set:function(t){this.parent.$mask.size=t,this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this.parent.filter},set:function(t){console.error("[VF LOG] 只读属性 filter!")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{get:function(){return this.parent.container.cursor},set:function(t){this.parent.container.cursor=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){this._fillColor=t,n.ColorRGBA(this.parent,"fillColor",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineColor",{get:function(){return this._lineColor},set:function(t){this._lineColor=t,n.ColorRGBA(this.parent,"lineColor",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,n.lineWidth(this.parent,"lineWidth",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){vf.utils.deprecation("1.0.0","style.color API近期会被删除，请使用style.fillColor"),this._color=t,n.color(this.parent,"color",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing=t,n.updateFontStyle(this.parent,"letterSpacing",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap=t,n.updateFontStyle(this.parent,"wordWrap",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth=t,(isNaN(t)||null==t)&&(t=this.width),n.updateFontStyle(this.parent,"wordWrapWidth",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textDecoration",{get:function(){return this._textDecoration},set:function(t){this._textDecoration=t,n.updateFontStyle(this.parent,"textDecoration",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textDecorationColor",{get:function(){return this._textDecorationColor},set:function(t){var e=void 0;e=r.hexToInt(t,e),this._textDecorationColor!==e&&(this._textDecorationColor=e,n.updateFontStyle(this.parent,"textDecorationColor",t),this.parent.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign=t,n.updateFontStyle(this.parent,"textAlign",t),n.updateFontStyle(this.parent,"align",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign=t,n.updateFontStyle(this.parent,"verticalAlign",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight=t,n.updateFontStyle(this.parent,"lineHeight",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){var e=this;this._fontFamily=t;var i=[];if(t){var s=[].concat(t);s&&s.forEach((function(t){if(t&&""!==t){var n=t;if(t&&e._whiteFamily.indexOf(t)<0){var o=r.getSource(t);"object"==typeof o&&o.name&&(n=o.name)}i.push(n)}}))}0===i.length&&(i=["Arial"]),n.updateFontStyle(this.parent,"fontFamily",o.deepCopy(i)),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t,n.updateFontStyle(this.parent,"fontSize",t),this.parent.allInvalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle=t,n.updateFontStyle(this.parent,"fontStyle",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant=t,n.updateFontStyle(this.parent,"fontVariant",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight=t,n.updateFontStyle(this.parent,"fontWeight",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding=t,n.updateFontStyle(this.parent,"padding",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke=t,Array.isArray(t)&&(t=0===t.length?void 0:"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"),n.updateFontStyle(this.parent,"stroke",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness=t,n.updateFontStyle(this.parent,"strokeThickness",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow=t,n.updateFontStyle(this.parent,"dropShadow",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha=t,n.updateFontStyle(this.parent,"dropShadowAlpha",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle=t,n.updateFontStyle(this.parent,"dropShadowAngle",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur=t,n.updateFontStyle(this.parent,"dropShadowBlur",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){this._dropShadowColor=t,Array.isArray(t)&&(0===t.length?t=void 0:(n.updateFontStyle(this.parent,"dropShadowAlpha",t[3]),t=r.rgbToNumber(t[0],t[1],t[2]))),n.updateFontStyle(this.parent,"dropShadowColor",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance=t,n.updateFontStyle(this.parent,"dropShadowDistance",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType=t,n.updateFontStyle(this.parent,"fillGradientType",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){this._fillGradientStops=t,n.updateFontStyle(this.parent,"fillGradientStops",t),this.parent.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords=t,n.updateFontStyle(this.parent,"breakWords",t)},enumerable:!1,configurable:!0}),t}();e.CSSStyle=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lineWidth=e.ColorRGBA=e.color=e.updateFontStyle=void 0,e.updateFontStyle=function(t,e,i){t.setInputStyle?t.setInputStyle(e,i):t.setRichLabelStyle?t.setRichLabelStyle(e,i):t.sprite&&t.sprite.style&&(t.sprite.style[e]=i)},e.color=function(t,e,i){t.setInputStyle?t.setInputStyle(e,i):t.color=i},e.ColorRGBA=function(t,e,i){switch(void 0===t[e]&&console.warn("访问的属性"+e+"不存在",t),e){case"fillColor":t.fillColor=i,t.fillAlpha=i[3];break;case"lineColor":t.lineColor=i,t.lineAlpha=i[3]}},e.lineWidth=function(t,e,i){void 0===t[e]&&console.warn("访问的属性"+e+"不存在",t),t.lineWidth=i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateDisplayLayout=e.measure=e.$TempMeasureRectangle=e.$TempLayoutRectangle=e.$TempyAlignRectangle=void 0;var n=i(57),r=i(31),o=i(10);function s(t,i,n,r,o){if(void 0===r&&(r=0),void 0===o&&(o=0),null==t.style)return!1;if(null==t.style.justifyContent&&null==t.style.alignContent)return!1;var s=t.x,a=t.y,h=0,l=0,u=t.getPreferredBounds(e.$TempyAlignRectangle);switch(t.style.justifyContent){case"center":h=i-u.width>>1;break;case"flex-start":h=o;break;case"flex-end":h=i-u.width-o}switch(t.style.alignContent){case"center":l=n-u.height>>1;break;case"flex-start":l=r;break;case"flex-end":l=n-u.height-r}return 0!==h&&(t.x=h),0!==l&&(t.y=l),s!==h||a!==l}e.$TempyAlignRectangle=new vf.Rectangle,e.$TempLayoutRectangle=new vf.Rectangle,e.$TempMeasureRectangle=new vf.Rectangle,e.measure=function(t){if(t){for(var i=0,n=0,r=e.$TempMeasureRectangle,s=t.uiChildren.length,a=0;a<s;a++){var h=t.uiChildren[a];if(h.includeInLayout){var l=h.$values,u=+l[o.horizontalCenter],c=+l[o.verticalCenter],p=+l[o.left],d=+l[o.right],f=+l[o.top],_=+l[o.bottom],v=void 0,g=void 0;h.getPreferredBounds(r),isNaN(p)||isNaN(d)?isNaN(u)?isNaN(p)&&isNaN(d)?v=r.x:(v=isNaN(p)?0:p,v+=isNaN(d)?0:d):v=2*Math.abs(u):v=p+d,isNaN(f)||isNaN(_)?isNaN(c)?isNaN(f)&&isNaN(_)?g=r.y:(g=isNaN(f)?0:f,g+=isNaN(_)?0:_):g=2*Math.abs(c):g=f+_;var y=r.width,m=r.height;i=Math.ceil(Math.max(i,v+y)),n=Math.ceil(Math.max(n,g+m))}}t.setMeasuredSize(i,n)}},e.updateDisplayLayout=function(t,i,o){if(null!=t.style){if("block"===t.style.display)r.updateBasicDisplayList(t,i,o);else if("grid"===t.style.display){var a=n.updateGridLayout(t);r.updateBasicDisplayList(t,a.width,a.height)}var h=!1;if(t.parent&&(h=s(t,t.parent.width,t.parent.height,t.style.gridRowGap,t.style.gridColumnGap)),t.isContainer)for(var l=t.getPreferredBounds(e.$TempLayoutRectangle),u=void 0,c=0;c<t.uiChildren.length;c++)h=s(u=t.uiChildren[c],l.width,l.height,u.style.gridRowGap,u.style.gridColumnGap);h&&t.updateTransform()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateGridLayout=void 0;var n=i(0),r=i(31);function o(t,e){var i=[],r=!1;if(t)if("repeat"===t[0])if(t[1]===1/0)r=!0,i.push(n.formatRelative(0,e));else for(var o=0;o<t[1];o++)i.push(n.formatRelative(t[2],e));else for(o=0;o<t.length;o++)i.push(n.formatRelative(t[o],e));return{list:i,isInfinity:r}}e.updateGridLayout=function(t){if(null==t.parent)return r.$tempRectangle;if(null==t.style)return r.$tempRectangle;for(var e,i=0,n=0,s=t.style,a=s.gridColumnGap||0,h=s.gridRowGap||0,l=o(s.gridTemplateColumns,t.parent.width),u=o(s.gridTemplateRows,t.parent.height),c=0,p=0,d=0,f=0,_=0,v=0;v<t.uiChildren.length;v++)(e=t.uiChildren[v]).style.justifyContent||e.style.alignContent||(d=l.isInfinity?l.list[0]||0:l.list[c]||0,f=u.isInfinity?u.list[0]||0:u.list[p]||0,e.width=e.explicitWidth||d,e.height=e.explicitHeight||f,e.x=_,e.y=i,(_+=d+a)>n&&(n=_),++c>=l.list.length&&(c=0,_=0,i+=0!==f?f+h:e.height+h,l.isInfinity||p++));return n=Math.max(t.width,n-a),i=Math.max(t.height,i-h),t.width=n,t.height=i,r.$tempRectangle.width=n,r.$tempRectangle.height=i,r.$tempRectangle}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIBaseDrag=void 0;var n=i(1),r=i(18),o=i(0),s=i(8),a=function(){function t(e){this.oldInteractiveChildren=!0,this.dragInitialized=!1,this.dropInitialized=!1,this._dragState=0,this._dragPosition=new vf.Point,this._dropPosition=new vf.Point,this._startOffset=new vf.Point(0,0),this.dragging=!1,this.collision=!1,this.dragBoundary=!1,this.dragBounces=!1,this.dragMoveCursor="pointer",this._dropGroup="",this.oldWorldTransform=new vf.Matrix,this.oldLocalTransform=new vf.Matrix,this.target=e,e.plugs.set(t.key,this),e.dragStopPropagation=!0}return Object.defineProperty(t.prototype,"dragDropEventId",{get:function(){if(this.target)return this.target.attach.dragDropEventId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{set:function(t){t?this.initDraggable():this.clearDraggable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragRestrictAxis",{get:function(){return this._dragRestrictAxis},set:function(t){this._dragRestrictAxis=t,this.drag&&(this.drag.dragRestrictAxis=this._dragRestrictAxis)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragGroup",{get:function(){return this.target?this.target.attach.dragGroup:""},set:function(t){this.target&&(this.target.attach.dragGroup=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragContainer",{get:function(){return this._dragContainer},set:function(t){this._dragContainer=o.getDisplayObject(t,this.target)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppable",{set:function(t){t?this.initDroppable():this.clearDroppable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppableReparent",{get:function(){return this._droppableReparent},set:function(t){this._droppableReparent=o.getDisplayObject(t,this.target)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropGroup",{get:function(){return this._dropGroup},set:function(t){this._dropGroup=t,this.target&&n.DragDropController.addDropTarget(t,this.target)},enumerable:!1,configurable:!0}),t.prototype.clearDraggable=function(){this.dragInitialized&&(this.dragInitialized=!1,this.drag&&this.drag.stopEvent()),this.target&&(this.target.interactiveChildren=this.oldInteractiveChildren,n.DragDropController.remove(this.target)),this.dragging=!1,this._dragState=0},t.prototype.initDraggable=function(){var t=this;null!=this.target&&(this.dragInitialized||(this.dragInitialized=!0,this._dragPosition.set(0,0),this.drag=new n.DragEvent(this.target),this.drag.dragRestrictAxis=this._dragRestrictAxis,this.drag.onDragPress=function(e,i){if(null!=t.target){var r=t.target;void 0!==r.stage&&(i?r.emit(n.ComponentEvent.DRAG_DOWN,r,e):r.emit(n.ComponentEvent.DRAG_UP,r,e))}},this.drag.onDragHover=function(e,i){if(null!=t.target){var r=t.target;r.emit(n.ComponentEvent.DRAG_HOVER,r,e,i),i?r.emit(n.ComponentEvent.DRAG_MOUSEENTER,r,e):r.emit(n.ComponentEvent.DRAG_MOUSELEAVE,r,e)}},this.drag.onDragStart=function(e){if(null!=t.target){t._dragState=1;var i=t.target;t.$targetParent=i.parent,t.oldInteractiveChildren=i.interactiveChildren,null==t._dragContainer&&(t._dragContainer=t.target.stage);var s=n.DragDropController.add(i,e);if(!t.dragging&&s){if(i.emit(n.ComponentEvent.DRAG_START_BEFORE,i,e),t.dragging=!0,i.interactive=!1,i.interactiveChildren=!1,t.oldWorldTransform=o.toWorldTransform(i).clone(),t.oldLocalTransform=o.toLoacalTransform(i).clone(),t._dragContainer){var a=void 0;if(t._dragContainer instanceof r.DisplayObjectAbstract&&(a=t._dragContainer),a&&i.parent){a.addChild(i),i.scaleX=t.oldWorldTransform.a*(1/a.container.scale.x)/i.container.transform._cx,i.scaleY=t.oldWorldTransform.d*(1/a.container.scale.y)/i.container.transform._sy;var h=o.toLocal(new vf.Point(t.oldWorldTransform.tx,t.oldWorldTransform.ty),a);i.setPosition(h.x+(i.container.transform.pivot.x*t.oldWorldTransform.a+i.container.transform.pivot.y*t.oldWorldTransform.c),h.y+(i.container.transform.pivot.x*t.oldWorldTransform.b+i.container.transform.pivot.y*t.oldWorldTransform.d))}}if(o.debug){var l=i.stage;l&&l.sendToPlayer({code:n.ComponentEvent.DRAG_START,level:"info",target:i,data:[i.parent,i.x,i.y],action:e.type,message:"parent,start,offset pos"})}t._startOffset.set(i.x,i.y),i.emit(n.ComponentEvent.DRAG_START,i,e)}}},this.drag.onDragMove=function(e,i){if(null!=t.target){var r=t.target;if(r.stage&&r.stage.app)r.stage.app.renderer.plugins.interaction.cursor=t.dragMoveCursor;if(t.dragging&&r.stage){var s=t._startOffset.x+i.x/r.stage.scaleX,a=t._startOffset.y+i.y/r.stage.scaleY,h=t._dragPosition;if("x"==t.dragRestrictAxis?h.set(s,r.y):"y"==t.dragRestrictAxis?h.set(r.x,a):t._dragPosition.set(s,a),t.dragBoundary&&r.parent){var l=r.pivotX,u=r.pivotY,c=r.scaleX,p=r.scaleY,d=r._anchorX,f=r._anchorY,_=r.width,v=r.height,g=r.parent;h.x=Math.max(l*c+_*d*c,h.x),h.x=Math.min(h.x,g.width-(_-l)*c+_*d*c),h.y=Math.max(u*p+v*f*p,h.y),h.y=Math.min(h.y,g.height-(v-u)*p+v*f*p)}if(o.debug){var y=r.stage;y&&y.sendToPlayer({code:n.ComponentEvent.DRAG_MOVE,level:"info",target:r,data:[r.parent,h.x,h.y],action:e.type,message:"parent,move pos"})}t._dragState=2,r.setPosition(h.x,h.y),r.emit(n.ComponentEvent.DRAG_MOVE,r,e)}}},this.drag.onDragEnd=function(e){if(t.dragging&&t.collision&&t.checkCollision(e),t.dragging){if(t.dragging=!1,null==t.target)return;var i=t.target,r=t.$targetParent;i.interactive=!0,i.interactiveChildren=t.oldInteractiveChildren;var s=n.DragDropController.getItem(i),a=t._dragPosition;if(i.emit(n.ComponentEvent.DRAG_END_BEFORE,i,e),s&&r&&(i.parent!==r&&i.parent&&(r.container.toLocal(i.container.position,i.container.parent,a),r.addChild(i),i.x=a.x,i.y=a.y),i.scaleX=t.oldLocalTransform.a/i.container.transform._cx,i.scaleY=t.oldLocalTransform.d/i.container.transform._sy,t.dragBounces&&i.setPosition(t.oldLocalTransform.tx+(i.container.transform.pivot.x*t.oldLocalTransform.a+i.container.transform.pivot.y*t.oldLocalTransform.c),t.oldLocalTransform.ty+(i.container.transform.pivot.x*t.oldLocalTransform.b+i.container.transform.pivot.y*t.oldLocalTransform.d))),o.debug){var h=i.stage;h&&h.sendToPlayer({code:n.ComponentEvent.DRAG_END,level:"info",target:i,data:[i.parent,i.x,i.y],action:e.type,message:"parent,end pos"})}i.stage&&i.stage.app&&(i.stage.app.view.style.cursor=i.style.cursor),t._dragState=3,e.data.tiltX=a.x,e.data.tiltY=a.y,i.emit(n.ComponentEvent.DRAG_END,i,e)}}))},t.prototype.checkCollision=function(t){if(this.target){var e=this.target,i=n.DragDropController.getDropTargets(this.dragGroup);if(0!=i.length){var r=new vf.Rectangle,o=0;void 0!==e.anchorX&&(o=e.container.width*e.anchorX-e.pivotX*e.scaleX),r.x=e.x-o,void 0!==e.anchorY&&(o=e.container.height*e.anchorY-e.pivotY*e.scaleY),r.y=e.y-o,r.width=e.container.width,r.height=e.container.height;for(var s=0;s<i.length;++s){var a=i[s];e.parent&&e.parent.container.toLocal(a.container.position,a.container.parent,this._dropPosition);var h=new vf.Rectangle,l=0;if(void 0!==a.anchorX&&(l=a.width*a.scaleX*a.anchorX-a.pivotX*a.scaleX),h.x=this._dropPosition.x-l,void 0!==a.anchorY&&(l=a.height*a.scaleY*a.anchorY-a.pivotY*a.scaleY),h.y=this._dropPosition.y-l,h.width=a.width*a.scaleX,h.height=a.height*a.scaleY,this.checkBump(r,h)){a.dragOption.onDrop(t);break}}}}},t.prototype.checkBump=function(t,e){return!(t.y>e.y+e.height||t.y+t.height<e.y||t.x>e.x+e.width||t.x+t.width<e.x)&&(console.log("dragAndDrop-----collision----true"),!0)},t.prototype.clearDroppable=function(){if(null!=this.target){var t=this.target;this.dropInitialized&&(this.dropInitialized=!1,t.container.off("mouseup",this.onDrop,this),t.container.off("touchend",this.onDrop,this)),n.DragDropController.removeDropTarget(t)}},t.prototype.initDroppable=function(){if(null!=this.target){var t=this.target;if(!this.dropInitialized){this.dropInitialized=!0;var e=t.container;e.interactive=!0,e.on("mouseup",this.onDrop,this),e.on("touchend",this.onDrop,this)}}},t.prototype.onDrop=function(t){if(null!=this.target){this.target.stage&&this.target.stage.syncInteractiveFlag&&s.SyncManager.getInstance(this.target.stage).collectEvent(t,this.target);var e=this.target,i=n.DragDropController.getEventItem(t,this.dropGroup);if(i&&i.dragOption.dragging){i.dragOption.dragging=!1,i.interactive=!0;var r=this._dragPosition,a=void 0!==i.dragOption.droppableReparent?i.dragOption.droppableReparent:e;if(a&&(a.container.toLocal(i.container.position,i.container.parent,r),i.x=r.x,i.y=r.y,i.scaleX=this.oldLocalTransform.a/i.container.transform._cx,i.scaleY=this.oldLocalTransform.d/i.container.transform._sy,a!=i.parent&&(a.addChild(i),a.emit(n.ComponentEvent.DROP_TARGET,a,i,t)),i.dragOption.$targetParent=a),o.debug){var h=e.stage;h&&h.sendToPlayer({code:n.ComponentEvent.DRAG_TARGET,level:"info",target:i,data:[e.parent,i.x,i.y],action:t.type,message:"drag target,item pos"})}if(e.stage&&e.stage.app)e.stage.app.renderer.plugins.interaction.cursor=e.style.cursor;this._dragState=4,t.data.tiltX=r.x,t.data.tiltY=r.y,i.invalidateParentLayout(),i.emit(n.ComponentEvent.DRAG_TARGET,i,t)}}},t.prototype.executeDrop=function(t,e){if(this.target&&this.target.stage&&e){var i=this.target.stage.getChildByPath(e),r=this.target;r.dragOption.dragging=!1,r.interactive=!0,i&&(r.x=this._dragPosition.x,r.y=this._dragPosition.y,i!=r.parent&&(i.addChild(r),i.emit(n.ComponentEvent.DROP_TARGET,i,r,t)),this.$targetParent=i,r.emit(n.ComponentEvent.DRAG_TARGET,r,t))}},t.prototype.load=function(){},t.prototype.release=function(){this.clearDraggable(),this.clearDroppable(),this.target&&(this.target.plugs.delete(t.key),this.target=void 0,this.$targetParent=void 0,this.dragContainer=void 0)},t.key="UIBaseDrag",t}();e.UIBaseDrag=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIClick=void 0;var n=i(1),r=function(){function t(e){this._target=e,this._target.plugs.set(t.key,this),this._clickEvent=new n.ClickEvent(e,!0)}return Object.defineProperty(t.prototype,"double",{get:function(){return this._clickEvent.double},set:function(t){this._clickEvent.double=t},enumerable:!1,configurable:!0}),t.prototype.load=function(){},t.prototype.release=function(){this._clickEvent.remove(),this._target&&(this._target.plugs.delete(t.key),this._target=void 0)},t.key="UIClick",t}();e.UIClick=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HitArea=void 0;var n=i(0),r=function(){function t(e){this._type="rect",this._x=NaN,this._y=NaN,this._width=NaN,this._height=NaN,this._displayObj=e,e.plugs.set(t.key,this)}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type!==t&&(this._type=t,this._displayObj.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this._displayObj.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this._displayObj.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this._displayObj.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this._displayObj.invalidateDisplayList())},enumerable:!1,configurable:!0}),t.prototype.updataHitArea=function(){if(this._displayObj&&this._displayObj.container&&(this._displayObj.container.hitArea=this.getHitArea(),n.debug)){var t=this._x,e=this._y,i=this._width,r=this._height,o=isNaN(t)?0:t,s=isNaN(e)?0:e,a=isNaN(i)?this._displayObj.width:i,h=isNaN(r)?this._displayObj.height:r,l=a>>1,u=h>>1;switch(!this._drawShape&&(this._drawShape=new vf.Graphics),this._drawShape.clear(),this._drawShape.lineStyle(1,65535,1),this._drawShape.beginFill(16711680,.5),this.type){case"rect":this._drawShape.drawRect(o,s,a,h);break;case"ellipse":this._drawShape.drawEllipse(o+l,s+u,l,u)}this._drawShape.endFill(),!this._drawShape.parent&&this._displayObj.container.addChild(this._drawShape)}},t.prototype.getHitArea=function(){var t=this._x,e=this._y,i=this._width,n=this._height,r=isNaN(t)?0:t,o=isNaN(e)?0:e,s=isNaN(i)?this._displayObj.width:i,a=isNaN(n)?this._displayObj.height:n,h=s>>1,l=a>>1;switch(this.type){case"rect":this._sprite=new vf.Rectangle(r,o,s,a);break;case"ellipse":this._sprite=new vf.Ellipse(r+h,o+l,h,l)}return this._sprite},t.prototype.load=function(){},t.prototype.release=function(){this._type="rect",this._x=NaN,this._y=NaN,this._width=NaN,this._height=NaN,this._sprite=void 0,this._displayObj=void 0,this._drawShape&&(this._drawShape.parent&&this._drawShape.parent.removeChild(this._drawShape),this._drawShape.destroy(),this._drawShape=void 0)},t.key="HitArea",t}();e.HitArea=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.TimeLine=e.TweenEvent=e.Interpolation=e.ToggleLagSmoothing=e.FrameThrottle=e.isRunning=e.removeTimeLine=e.addTimeLine=e.releaseAllTimeLine=e.update=e.add=e.removeDisplay=e.remove=e.removeAll=e.getAll=e.get=e.Plugins=void 0;var n=i(11);Object.defineProperty(e,"add",{enumerable:!0,get:function(){return n.add}}),Object.defineProperty(e,"get",{enumerable:!0,get:function(){return n.get}}),Object.defineProperty(e,"getAll",{enumerable:!0,get:function(){return n.getAll}}),Object.defineProperty(e,"isRunning",{enumerable:!0,get:function(){return n.isRunning}}),Object.defineProperty(e,"FrameThrottle",{enumerable:!0,get:function(){return n.FrameThrottle}}),Object.defineProperty(e,"ToggleLagSmoothing",{enumerable:!0,get:function(){return n.ToggleLagSmoothing}}),Object.defineProperty(e,"Plugins",{enumerable:!0,get:function(){return n.Plugins}}),Object.defineProperty(e,"remove",{enumerable:!0,get:function(){return n.remove}}),Object.defineProperty(e,"removeAll",{enumerable:!0,get:function(){return n.removeAll}}),Object.defineProperty(e,"removeDisplay",{enumerable:!0,get:function(){return n.removeDisplay}}),Object.defineProperty(e,"update",{enumerable:!0,get:function(){return n.update}}),Object.defineProperty(e,"addTimeLine",{enumerable:!0,get:function(){return n.addTimeLine}}),Object.defineProperty(e,"removeTimeLine",{enumerable:!0,get:function(){return n.removeTimeLine}}),Object.defineProperty(e,"releaseAllTimeLine",{enumerable:!0,get:function(){return n.releaseAllTimeLine}});var r=i(33);Object.defineProperty(e,"Interpolation",{enumerable:!0,get:function(){return r.Interpolation}});var o=i(19);e.utils=o;var s=i(12);Object.defineProperty(e,"TweenEvent",{enumerable:!0,get:function(){return s.TweenEvent}});var a=i(20);Object.defineProperty(e,"TimeLine",{enumerable:!0,get:function(){return a.TimeLine}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toSVGString=e.parseSvgData=e.q2b=e.parser=e.arcToBezier=e.mapToEllipse=e.approxUnitArc=e.getArcCenter=e.vectorAngle=e.parseValues=void 0;var n=/([astvzqmhlc])([^astvzqmhlc]*)/gi,r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,o=2*Math.PI,s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0};function a(t){var e=t.match(r);return e?e.map(Number):[]}function h(t,e,i,n){var r=t*n-e*i<0?-1:1,o=(t*i+e*n)/(Math.sqrt(t*t+e*e)*Math.sqrt(t*t+e*e));return o>1&&(o=1),o<-1&&(o=-1),r*Math.acos(o)}function l(t,e,i,n,r,s,a,l,u,c,p,d){var f=Math.pow(r,2),_=Math.pow(s,2),v=Math.pow(p,2),g=Math.pow(d,2),y=f*_-f*g-_*v;y<0&&(y=0),y/=f*g+_*v;var m=(y=Math.sqrt(y)*(a===l?-1:1))*r/s*d,b=y*-s/r*p,P=c*m-u*b+(t+i)/2,S=u*m+c*b+(e+n)/2,w=(p-m)/r,O=(d-b)/s,x=(-p-m)/r,T=(-d-b)/s,C=h(1,0,w,O),E=h(w,O,x,T);return 0===l&&E>0&&(E-=o),1===l&&E<0&&(E+=o),[P,S,C,E]}function u(t,e){var i=4/3*Math.tan(e/4),n=Math.cos(t),r=Math.sin(t),o=Math.cos(t+e),s=Math.sin(t+e);return[{x:n-r*i,y:r+n*i},{x:o+s*i,y:s-o*i},{x:o,y:s}]}function c(t,e,i,n,r,o,s){return t.x*=e,t.y*=i,{x:n*t.x-r*t.y+o,y:r*t.x+n*t.y+s}}function p(t,e,i,n,r,s,a,h,p){void 0===a&&(a=0),void 0===h&&(h=0),void 0===p&&(p=0);var d=[];if(0===r||0===s)return[];var f=Math.sin(a*o/360),_=Math.cos(a*o/360),v=_*(t-i)/2+f*(e-n)/2,g=-f*(t-i)/2+_*(e-n)/2;if(0===v&&0===g)return[];r=Math.abs(r),s=Math.abs(s);var y=Math.pow(v,2)/Math.pow(r,2)+Math.pow(g,2)/Math.pow(s,2);y>1&&(r*=Math.sqrt(y),s*=Math.sqrt(y));var m=l(t,e,i,n,r,s,h,p,f,_,v,g),b=m[0],P=m[1],S=m[2],w=m[3],O=Math.max(Math.ceil(Math.abs(w)/(o/4)),1);w/=O;for(var x=0;x<O;x++)d.push(u(S,w)),S+=w;return d.map((function(t){var e=c(t[0],r,s,_,f,b,P),i=e.x,n=e.y,o=c(t[1],r,s,_,f,b,P),a=o.x,h=o.y,l=c(t[2],r,s,_,f,b,P);return{x1:i,y1:n,x2:a,y2:h,x:l.x,y:l.y}}))}function d(t){var e=[];return t.replace(n,(function(t,i,n){var r=i.toLowerCase();for(n=a(n),"m"==r&&n.length>2&&(e.push([i].concat(n.splice(0,2))),r="l",i="m"==i?"l":"L");;){if(n.length==s[r])return n.unshift(i),e.push(n);if(n.length<s[r])throw new Error("malformed path data");e.push([i].concat(n.splice(0,s[r])))}})),e}function f(t,e,i,n,r,o){return[t,e,(t+2*i)/3,(e+2*n)/3,(r+2*i)/3,(o+2*n)/3,r,o]}e.parseValues=a,e.vectorAngle=h,e.getArcCenter=l,e.approxUnitArc=u,e.mapToEllipse=c,e.arcToBezier=p,e.parser=d,e.q2b=f,e.parseSvgData=function(t){for(var e,i,n,r,o,s=d(t),a=[],h=s.length,l=0,u=0,c=0,_=[],v=0,g=0;c<h;c++){var y=s[c],m=y[0],b=s[c-1];switch(m){case"m":a[n=a.length]=[],_=a[n],l+=y[1],u+=y[2];break;case"M":a[n=a.length]=[],_=a[n],l=y[1],u=y[2];break;case"l":0===y[1]&&0===y[2]||(_.push([l,u,l,u,l,u,l+y[1],u+y[2]]),l+=y[1],u+=y[2]);break;case"L":l===y[1]&&u===y[2]||(_.push([l,u,y[1],y[2],y[1],y[2],y[1],y[2]]),l=y[1],u=y[2]);break;case"h":_.push([l,u,l,u,l,u,l+y[1],u]),l+=y[1];break;case"H":_.push([l,u,y[1],u,y[1],u,y[1],u]),l=y[1];break;case"v":_.push([l,u,l,u,l,u,l,u+y[1]]),u+=y[1];break;case"V":_.push([l,u,l,y[1],l,y[1],l,y[1]]),u=y[1];break;case"C":_.push([l,u,y[1],y[2],y[3],y[4],y[5],y[6]]),l=y[5],u=y[6];break;case"S":"C"===b[0]||"c"===b[0]?_.push([l,u,l+b[5]-b[3],u+b[6]-b[4],y[1],y[2],y[3],y[4]]):"S"!==b[0]&&"s"!==b[0]||_.push([l,u,l+b[3]-b[1],u+b[4]-b[2],y[1],y[2],y[3],y[4]]),l=y[3],u=y[4];break;case"c":_.push([l,u,l+y[1],u+y[2],l+y[3],u+y[4],l+y[5],u+y[6]]),l+=y[5],u+=y[6];break;case"s":"C"===b[0]||"c"===b[0]?_.push([l,u,l+b[5]-b[3],u+b[6]-b[4],l+y[1],u+y[2],l+y[3],u+y[4]]):"S"!==b[0]&&"s"!==b[0]||_.push([l,u,l+b[3]-b[1],u+b[4]-b[2],l+y[1],u+y[2],l+y[3],u+y[4]]),l+=y[3],u+=y[4];break;case"a":o=(r=p(l,u,l+y[6],u+y[7],y[1],y[2],y[3],y[4],y[5]))[r.length-1],r.forEach((function(t,e){0===e?_.push([l,u,t.x1,t.y1,t.x2,t.y2,t.x,t.y]):_.push([r[e-1].x,r[e-1].y,t.x1,t.y1,t.x2,t.y2,t.x,t.y])})),l=o&&o.x,u=o&&o.y;break;case"A":o=(r=p(l,u,y[6],y[7],y[1],y[2],y[3],y[4],y[5]))[r.length-1],r.forEach((function(t,e){0===e?_.push([l,u,t.x1,t.y1,t.x2,t.y2,t.x,t.y]):_.push([r[e-1].x,r[e-1].y,t.x1,t.y1,t.x2,t.y2,t.x,t.y])})),l=o&&o.x,u=o&&o.y;break;case"Q":_.push(f(l,u,y[1],y[2],y[3],y[4])),l=y[3],u=y[4];break;case"q":_.push(f(l,u,l+y[1],u+y[2],y[3]+l,y[4]+u)),l+=y[3],u+=y[4];break;case"T":"Q"===b[0]||"q"===b[0]?(v=l+b[3]-b[1],g=u+b[4]-b[2],_.push(f(l,u,v,g,y[1],y[2]))):"T"!==b[0]&&"t"!==b[0]||(_.push(f(l,u,l+l-v,u+u-g,y[1],y[2])),v=l+l-v,g=u+u-g),l=y[1],u=y[2];break;case"t":"Q"===b[0]||"q"===b[0]?(v=l+b[3]-b[1],g=u+b[4]-b[2],_.push(f(l,u,v,g,l+y[1],u+y[2]))):"T"!==b[0]&&"t"!==b[0]||(_.push(f(l,u,l+l-v,u+u-g,l+y[1],u+y[2])),v=l+l-v,g=u+u-g),l+=y[1],u+=y[2];break;case"Z":case"z":e=_[0][0],i=_[0][1],l===e&&u===i||_.push([l,u,e,i,e,i,e,i])}}return a},e.toSVGString=function(t){return t.map((function(t){return t.forEach((function(t,e){e?t.splice(0,2,"C"):(t.splice(2,0,"C"),t.unshift("M"))})),t.map((function(t){return t.join(" ")})).join("")})).join("")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GifReader=void 0;var n=function(){function t(t){this._frames=[],this._loop_count=NaN;var e=0;this._buf=new Uint8Array(t);var i=this._buf;if(71!==i[e++]||73!==i[e++]||70!==i[e++]||56!==i[e++]||56!=(i[e++]+1&253)||97!==i[e++])throw new Error("Invalid GIF 87a/89a header.");var n=i[e++]|i[e++]<<8,r=i[e++]|i[e++]<<8,o=i[e++],s=o>>7,a=1<<(7&o)+1;i[e++];i[e++];var h=NaN,l=NaN;s&&(h=e,l=a,e+=3*a);var u=!0,c=0,p=NaN,d=0;for(this._width=n,this._height=r;u&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(11!==i[e]||78==i[e+1]&&69==i[e+2]&&84==i[e+3]&&83==i[e+4]&&67==i[e+5]&&65==i[e+6]&&80==i[e+7]&&69==i[e+8]&&50==i[e+9]&&46==i[e+10]&&48==i[e+11]&&3==i[e+12]&&1==i[e+13]&&0==i[e+16])e+=14,this._loop_count=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((T=i[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}break;case 249:if(4!==i[e++]||0!==i[e+4])throw new Error("Invalid graphics extension block.");var f=i[e++];c=i[e++]|i[e++]<<8,p=i[e++],0==(1&f)&&(p=NaN),d=f>>2&7,e++;break;case 1:case 254:for(;;){if(!((T=i[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var _=i[e++]|i[e++]<<8,v=i[e++]|i[e++]<<8,g=i[e++]|i[e++]<<8,y=i[e++]|i[e++]<<8,m=i[e++],b=m>>6&1,P=1<<(7&m)+1,S=h,w=l,O=!1;if(m>>7){O=!0;S=e,w=P,e+=3*P}var x=e;for(e++;;){var T;if(!((T=i[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}this._frames.push({x:_,y:v,width:g,height:y,has_local_palette:O,palette_offset:S,palette_size:w,data_offset:x,data_length:e-x,transparent_index:p,interlaced:!!b,delay:c,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numFrames",{get:function(){return this._frames.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loopCount",{get:function(){return this._loop_count},enumerable:!1,configurable:!0}),t.prototype.getFrameInfo=function(t){if(t<0||t>=this._frames.length)throw new Error("Frame index out of range.");return this._frames[t]},t.prototype.decodeAndBlitFrameBGRA=function(t,e){var i=this._buf,n=this.getFrameInfo(t),o=n.width*n.height,s=new Uint8Array(o);r(i,n.data_offset,s,o);var a=n.palette_offset,h=n.transparent_index;null===h&&(h=256);var l=n.width,u=this._width-l,c=l,p=4*(n.y*this._width+n.x),d=4*((n.y+n.height)*this._width+n.x),f=p,_=4*u;!0===n.interlaced&&(_+=4*this._width*7);for(var v=8,g=0,y=s.length;g<y;++g){var m=s[g];if(0===c&&(c=l,(f+=_)>=d&&(_=4*u+4*this._width*(v-1),f=p+(l+u)*(v<<1),v>>=1)),m===h)f+=4;else{var b=i[a+3*m],P=i[a+3*m+1],S=i[a+3*m+2];e[f++]=S,e[f++]=P,e[f++]=b,e[f++]=255}--c}return n},t.prototype.decodeAndBlitFrameRGBA=function(t,e){var i=this._buf,n=this.getFrameInfo(t),o=n.width*n.height,s=new Uint8Array(o);r(i,n.data_offset,s,o);var a=n.palette_offset,h=n.transparent_index;null===h&&(h=256);var l=n.width,u=this._width-l,c=l,p=4*(n.y*this._width+n.x),d=4*((n.y+n.height)*this._width+n.x),f=p,_=4*u;!0===n.interlaced&&(_+=4*this._width*7);for(var v=8,g=0,y=s.length;g<y;++g){var m=s[g];if(0===c&&(c=l,(f+=_)>=d&&(_=4*u+4*this._width*(v-1),f=p+(l+u)*(v<<1),v>>=1)),m===h)f+=4;else{var b=i[a+3*m],P=i[a+3*m+1],S=i[a+3*m+2];e[f++]=b,e[f++]=P,e[f++]=S,e[f++]=255}--c}return n},t}();function r(t,e,i,n){for(var r=t[e++],o=1<<r,s=o+1,a=s+1,h=r+1,l=(1<<h)-1,u=0,c=0,p=0,d=t[e++],f=new Int32Array(4096),_=null;;){for(;u<16&&0!==d;)c|=t[e++]<<u,u+=8,1===d?d=t[e++]:--d;if(u<h)break;var v=c&l;if(c>>=h,u-=h,v!==o){if(v===s)break;for(var g=v<a?v:_,y=0,m=g;m>o;)m=f[m]>>8,++y;var b=m;if(p+y+(g!==v?1:0)>n)return void console.log("Warning, gif stream longer than expected.");i[p++]=b;var P=p+=y;for(g!==v&&(i[p++]=b),m=g;y--;)m=f[m],i[--P]=255&m,m>>=8;null!==_&&a<4096&&(f[a++]=_<<8|b,a>=l+1&&h<12&&(++h,l=l<<1|1)),_=v}else a=s+1,l=(1<<(h=r+1))-1,_=null}return p!==n&&console.log("Warning, gif stream shorter than expected."),i}e.GifReader=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.objectPoolShared=void 0;var n=function(){function t(){this.objPoolDict=new Map}return t.prototype.push=function(t,e){if(void 0!==e){var i=this.objPoolDict.get(t);void 0===i&&(i=[],this.objPoolDict.set(t,i)),-1===i.indexOf(e)&&(e.release(),i.push(e))}},t.prototype.pop=function(t){var e=this.objPoolDict.get(t);return void 0!==e&&e.length>0?e.pop():new t},t}();e.objectPoolShared=new n},function(t,e,i){"use strict";function n(t){if(null===t)throw new Error("Error No find canvas parent dom");var e={};return e.width=t.offsetWidth,e.height=t.offsetHeight,e}Object.defineProperty(e,"__esModule",{value:!0}),e.calculateUpdatePlayerSize=e.getBoundingClientRect=void 0,e.getBoundingClientRect=n,e.calculateUpdatePlayerSize=function(t,e,i,r,o,s){var a=e.view,h=e.renderer.resolution,l=vf.utils.isWebGLSupported(),u=n(t),c=u.width,p=u.height;r=vf.gui.Utils.formatRelative(r,c),o=vf.gui.Utils.formatRelative(o,p);var d=function(t,e,i,n,r){var o=e,s=i,a=n,h=r,l=e/a||0,u=i/h||0;switch(t){case"showAll":l>u?o=Math.round(a*u):s=Math.round(h*l);break;case"cover":l>u?s=Math.round(h*l):o=Math.round(a*u);break;case"contain":l>u?a=Math.round(e/u):h=Math.round(i/l);break;case"fixedHeight":o=Math.round(a*u);break;case"fixedWidth":s=Math.round(h*l);break;default:o=n,s=r,a=n,h=r}return a%2!=0&&(a+=1),h%2!=0&&(h+=1),o%2!=0&&(o+=1),s%2!=0&&(s+=1),{stageWidth:a,stageHeight:h,displayWidth:o,displayHeight:s}}(s,c,p,r||a.width,o||a.height),f=d.stageWidth,_=d.stageHeight,v=d.displayWidth,g=d.displayHeight;a.style.transformOrigin?a.style.transformOrigin="0% 0% 0px":a.style.webkitTransformOrigin="0% 0% 0px",s&&"noScale"!==s&&(a.style.top=0+(p-g)/2+"px",a.style.left=(c-v)/2+"px");var y=v/f,m=g/_,b=y*h,P=m*h;l||(b=Math.ceil(b),P=Math.ceil(P));var S=new vf.Matrix;return S.identity(),S.scale(y/b,m/P),S.rotate(0*Math.PI/180),a.style.position="absolute",a.style.transform?a.style.transform="matrix("+S.a+","+S.b+","+S.c+","+S.d+","+S.tx+","+S.ty+")":a.style.webkitTransform="matrix("+S.a+","+S.b+","+S.c+","+S.d+","+S.tx+","+S.ty+")",e.renderer.resize(f*y,_*m),i.container.hitArea=new vf.Rectangle(0,0,f,_),i.width=f,i.height=f,i.scaleX=b/h,i.scaleY=P/h,{width:f*y,height:_*m,scaleX:b,scaleY:P}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setInteractiveElement=void 0,e.setInteractiveElement=function(t,e){t.originalEventPreventDefault=!0;var i=document.getElementById("drawCanvas");if(e.className&&"canvas-container"!==e.className&&(i=document.getElementsByClassName(e.className)[0]),e.htmlElement&&(i=e.htmlElement),null==i){var n=document.getElementsByClassName("canvas-container")[0];n&&n.children[1]&&(i=n.children[1])}if(null!=i){var r=t.app.renderer,o=r.plugins.interaction;o.setTargetElement(i,e.resolution||r.resolution),o.cursorStyles.default=i.style.cursor,e.defaultPointer&&(o.cursorStyles.pointer=e.defaultPointer),i.style.display="none",setTimeout((function(){i&&(i.style.display="")}),60)}else t.sendToPlayer({code:"E0002",level:"error",target:"setTargetElement",data:[e]})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cacheDestroy=void 0,e.cacheDestroy=function(t,e){!function t(e,i){e instanceof vf.Texture?e.destroy(i):e instanceof vf.Spritesheet?e.destroy(i):"object"==typeof e&&e.texture?e.texture.destroy(i):"object"==typeof e&&e.spritesheet&&e.spritesheet.destroy(i),"string"==typeof e&&vf.Loader.shared.resources[e]&&(t(vf.Loader.shared.resources[e],i),i&&delete vf.Loader.shared.resources[e]),vf.utils.TextureCache[e]&&vf.utils.TextureCache[e].destroy(i)}(t,e)}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Filter=void 0;var o=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}return r(e,t),e.isFilter=!0,e.defaultFilterVertex=vf.defaultFilterVertex,e.list=new Map,e}(vf.Filter);e.Filter=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollingContainer=void 0;var o=i(7),s=i(3),a=i(0),h=i(25),l=i(26),u=i(0),c=i(1),p=i(30),d=i(35),f=function(t){function e(){var e=t.call(this)||this;e._dragScrolling=!1,e.softness=.5,e.radius=0,e.expandMask=0,e.animating=!1,e.scrollX=!1,e.scrollY=!1,e._innerContainer=new p.ContainerBase,e.innerBounds=new vf.Rectangle,e.scrolling=!1,e._boundCached=u.now()-1e3,e._lastWidth=0,e._lastHeight=0,e._isInitScrolling=!1,e._containerStart=new vf.Point,e._targetPosition=new vf.Point,e._lastPosition=new vf.Point,e._Position=new vf.Point,e._Speed=new vf.Point,e._stop=!1,e.isInitDrag=!1;var i=e._innerContainer;return e.container.addChild(i),e.container.name="ScrollingContainer",i.name="innerContainer",i.on("added",e.$onAddStage,e),i.on("removed",e.$onRemoveStage,e),e.scrollMask=new vf.Graphics,e}return r(e,t),Object.defineProperty(e.prototype,"dragScrolling",{get:function(){return this._dragScrolling},set:function(t){this._dragScrolling=t,t?(this.initDrag(),this.mouseScrollEvent&&this.mouseScrollEvent.startEvent(),this.dragEvent&&this.dragEvent.startEvent()):(this.mouseScrollEvent&&this.mouseScrollEvent.stopEvent(),this.dragEvent&&this.dragEvent.stopEvent())},enumerable:!1,configurable:!0}),e.prototype.initDrag=function(){var t=this;if(!this.isInitDrag){this.dragEvent=new h.DragEvent(this),this.mouseScrollEvent=new l.MouseScrollEvent(this,!0),this.isInitDrag=!0;var e=this.scrollMask=new vf.Graphics;e.clear(),e.beginFill(16763904),e.drawRoundedRect(0,0,200,200,0),e.endFill(),this.container.addChild(e),this.container.mask=e,this.dragEvent.onDragStart=function(){t.scrolling||(t._containerStart.copyFrom(t._innerContainer.position),t._Position.copyFrom(t._innerContainer.position),t.scrolling=!0,t.setScrollPosition(),s.TickerShared.add(t.updateScrollPosition,t))},this.dragEvent.onDragMove=function(e,i){t.scrollX&&(t._targetPosition.x=t._containerStart.x+i.x),t.scrollY&&(t._targetPosition.y=t._containerStart.y+i.y)},this.dragEvent.onDragEnd=function(){t.scrolling&&(t.scrolling=!1,s.TickerShared.remove(t.updateScrollPosition,t))};var i=new vf.Point;this.mouseScrollEvent.onMouseScroll=function(e,n){i.set(.2*-n.x,.2*-n.y),t.setScrollPosition(i)}}},e.prototype.updateDisplayList=function(e,i){if(this._lastWidth!=e||this._lastHeight!=i){t.prototype.updateDisplayList.call(this,e,i),this._lastWidth=this._innerContainer.width,this._lastHeight=this._innerContainer.height;var n=this.scrollMask;!this._dragScrolling||n.width===e&&n.height===i||(n.x=n.y=this.expandMask,n.width=e,n.height=i),this.setScrollPosition(),this.emit(c.ComponentEvent.RESIZE,this)}},e.prototype.setScrollPosition=function(t){t&&(this._Speed=t),this.animating||(this.animating=!0,this._lastPosition.copyFrom(this._innerContainer.position),this._targetPosition.copyFrom(this._innerContainer.position),this.updateScrollPosition(0))},Object.defineProperty(e.prototype,"innerContainer",{get:function(){return this._innerContainer},enumerable:!1,configurable:!0}),e.prototype.addChild=function(t){return this._innerContainer.children.length!==this.uiChildren.length?this.addChildAt(t,this._innerContainer.children.length):this.addChildAt(t,this.uiChildren.length)},e.prototype.addChildAt=function(t,e){return t.parent&&t.parent.removeChild(t),t.parent=this,t.$nestLevel=this.$nestLevel+1,t.initialized||(t.initialized=!0,t.$onInit()),this.emit(c.ComponentEvent.ADD,this),t instanceof d.ScrollBar?this.container.addChild(t.container):(e=Math.min(this._innerContainer.children.length,e),this.uiChildren.splice(e,0,t),this._innerContainer.addChildAt(t.container,e)),this.getInnerBounds(!0),t},e.prototype.getInnerBounds=function(t){return(t||u.now()-this._boundCached>1e3)&&(this._innerContainer.getLocalBounds(this.innerBounds),this.innerBounds.height=this.innerBounds.y+this._innerContainer.height,this.innerBounds.width=this.innerBounds.x+this._innerContainer.width,this._boundCached=u.now()),this.innerBounds},e.prototype.$onInit=function(){t.prototype.$onInit.call(this),this.initScrolling()},e.prototype.initScrolling=function(){this._isInitScrolling=!0,this.updateScrollBars()},e.prototype.updateScrollBars=function(){this.emit(c.ComponentEvent.CHANGE,this)},e.prototype.forcePctPosition=function(t,e){var i=this.getInnerBounds();this.scrollX&&"x"==t&&(this._innerContainer.position[t]=-(i.width-this.explicitWidth)*e),this.scrollY&&"y"==t&&(this._innerContainer[t]=-(i.height-this.explicitHeight)*e),this._Position[t]=this._targetPosition[t]=this._innerContainer.position[t]},e.prototype.focusPosition=function(t){var e,i=this.getInnerBounds();if(this.scrollX){var n=Math.max(0,Math.min(i.width,t.x));n+this._innerContainer.x>this.explicitWidth?(e=n-this.explicitWidth,this._innerContainer.x=-e):n+this._innerContainer.x<0&&(e=n+this._innerContainer.x,this._innerContainer.x-=e)}if(this.scrollY){var r=Math.max(0,Math.min(i.height,t.y));r+this._innerContainer.y>this.explicitHeight?(e=r-this.explicitHeight,this._innerContainer.y=-e):r+this._innerContainer.y<0&&(e=r+this._innerContainer.y,this._innerContainer.y-=e)}this._lastPosition.copyFrom(this._innerContainer.position),this._targetPosition.copyFrom(this._innerContainer.position),this._Position.copyFrom(this._innerContainer.position),this.updateScrollBars()},e.prototype.updateScrollPosition=function(t){this._stop=!0,this.scrollX&&this.updateDirection("x",t),this.scrollY&&this.updateDirection("y",t),this.animating=!1},e.prototype.updateDirection=function(t,e){e*=.001;var i,n=this.getInnerBounds();if(i="y"==t?Math.round(Math.min(0,this.explicitHeight-n.height)):Math.round(Math.min(0,this.explicitWidth-n.width)),this.scrolling||0===Math.round(this._Speed[t])||(this._targetPosition[t]+=this._Speed[t],this._Speed[t]=a.Lerp(this._Speed[t],0,(5+2.5/Math.max(this.softness,.01))*e),this._targetPosition[t]>0?this._targetPosition[t]=0:this._targetPosition[t]<i&&(this._targetPosition[t]=i)),!this.scrolling&&0===Math.round(this._Speed[t])&&(this._innerContainer[t]>0||this._innerContainer[t]<i)){var r=this._Position[t]>0?0:i;this._Position[t]=a.Lerp(this._Position[t],r,(40-30*this.softness)*e),this._stop=!1}else(this.scrolling||0!==Math.round(this._Speed[t]))&&(this.scrolling&&(this._Speed[t]=this._Position[t]-this._lastPosition[t],this._lastPosition.copyFrom(this._Position)),this._targetPosition[t]>0?(this._Speed[t]=0,this._Position[t]=100*this.softness*(1-Math.exp(this._targetPosition[t]/-200))):this._targetPosition[t]<i?(this._Speed[t]=0,this._Position[t]=i-100*this.softness*(1-Math.exp((i-this._targetPosition[t])/-200))):this._Position[t]=this._targetPosition[t],this._stop=!1);this._innerContainer.position[t]=Math.round(this._Position[t]),this.updateScrollBars()},e.prototype.release=function(){t.prototype.release.call(this),s.TickerShared.remove(this.updateScrollPosition,this),this.dragEvent&&this.dragEvent.remove(),this.mouseScrollEvent&&this.mouseScrollEvent.remove()},e}(o.Container);e.ScrollingContainer=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GifSequence=void 0;var n=i(37),r=function(){function t(t,e,i,n){this.sprite=t,this.name=e,this.frames=i,this.loopCount=n,this._playing=!1,this._nextFrameTime=0,this._loopedCount=0,this._speedScale=1,this._timeDistance=33}return t.prototype.setEndlessLoop=function(){this.loopCount=0},Object.defineProperty(t.prototype,"speedScale",{get:function(){return this._speedScale},set:function(t){this._speedScale=t||1e-7},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){for(var t=0,e=0,i=this.frames;e<i.length;e++){t+=i[e].delayTime}return t/this._speedScale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),t.prototype.stop=function(t){this._playing=!1,vf.gui.TickerShared.remove(this.update,this),t||this.sprite.emit(n.GifSprite.EVENT.STOP,this.sprite)},t.prototype.play=function(){this._playing=!0,this._loopedCount=0;var t=this.frames[this.currentFrameIndex];return this.sprite.texture!=t.texture&&this.sprite.setGifFrame(t),this.frames.length>1&&(vf.gui.TickerShared.add(this.update,this),this._nextFrameTime=vf.gui.Utils.now()+t.delayTime,this.sprite.emit(n.GifSprite.EVENT.PLAY,this.sprite),!0)},Object.defineProperty(t.prototype,"currentFrameIndex",{get:function(){var t=this.frames.indexOf(this.sprite.currentGifFrame);return-1==t&&(t=0),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loopedCount",{get:function(){return this._loopedCount},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(vf.gui.Utils.now()>=this._nextFrameTime){var t=this.currentFrameIndex+1;if(t>=this.frames.length&&(t=0,this._loopedCount++,this.sprite.emit(n.GifSprite.EVENT.END,this.sprite),this.loopCount&&this._loopedCount>=this.loopCount))return this.stop(),void this.sprite.emit(n.GifSprite.EVENT.COMPLETE,this.sprite);var e=this.frames[t];this.sprite.setGifFrame(e),this._nextFrameTime+=this.sprite.currentGifFrame.delayTime}},t}();e.GifSequence=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpriteAnimated=void 0;var o=i(2),s=i(0),a=i(1),h=function(t){function e(){var e=t.call(this)||this;return e._lastAnimatedName="",e._curFrameNumber=0,e._setTimeoutId=-1,e._animationName="default",e._animationSpeed=.1,e._loop=!1,e._playCount=0,e._loopCount=0,e._playing=!1,e._animatedSprites=new Map,e}return r(e,t),Object.defineProperty(e.prototype,"animationName",{get:function(){return this._animationName},set:function(t){this._animationName!=t&&(this._animationName=t,this.animatedNameSystem())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(t){this._src=t,void 0===t?this.releaseAnimate():this.srcSystem()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animationSpeed",{get:function(){return this._animationSpeed},set:function(t){this._animationSpeed=t,this.attribSystem()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.attribSystem()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopCount",{get:function(){return this._loopCount},set:function(t){this._loopCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){this._anchorX=t,this.attribSystem()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this._anchorY=t,this.attribSystem()},enumerable:!1,configurable:!0}),e.prototype.gotoAndPlay=function(t){this._curFrameNumber=t,this._playing=!0,this.playSystem()},e.prototype.gotoAndStop=function(t){this._curFrameNumber=t,this._playing=!1,this.playSystem()},e.prototype.stop=function(){this._playCount=0,this._curFrameNumber=0,this._playing=!1,this.playSystem()},e.prototype.play=function(){this._playCount=0,this._curFrameNumber=0,this._playing=!0,this.playSystem()},Object.defineProperty(e.prototype,"autoPlay",{get:function(){return this._playing},set:function(t){this._playing=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlay",{set:function(t){t?this.play():this.stop()},enumerable:!1,configurable:!0}),e.prototype.addAnimated=function(t,e){var i=this._animatedSprites.get(t);i&&(i.parent&&i.parent.removeChild(i),i.removeAllListeners(),i.destroy()),this._animatedSprites.set(t,new vf.AnimatedSprite(e))},e.prototype.release=function(){this._setTimeoutId&&clearTimeout(this._setTimeoutId),t.prototype.release.call(this),this.releaseAnimate(),this.src=void 0},e.prototype.releaseAnimate=function(){this._lastAnimatedName="",this._animatedSprites.forEach((function(t){t.parent&&t.parent.removeChild(t),t.removeAllListeners(),t.destroy()})),this._animatedSprites.clear()},e.prototype.srcSystem=function(){this.releaseAnimate();var t=s.getSheet(this.src);if(t){if(Array.isArray(t)){var e=[];t.forEach((function(t){t.time?(t.texture=s.getTexture(t.texture),e.push(t)):e.push(s.getTexture(t))})),this.addAnimated("default",e)}else for(var i in t.animations)this.addAnimated(i,t.animations[i]);this.animatedNameSystem()}},e.prototype.animatedNameSystem=function(){var t=this;if(0!=this._animatedSprites.size&&this.animationName!==this._lastAnimatedName){var e=this._animatedSprites.get(this.animationName);if(null!=e){var i=this._animatedSprites.get(this._lastAnimatedName);e.onLoop=function(){t.emit(a.ComponentEvent.LOOP,t),t._playCount++,0!==t._loopCount&&t._playCount>=t._loopCount&&t.stop()},e.onComplete=function(){t.emit(a.ComponentEvent.COMPLETE,t)},null==e.parent&&(clearTimeout(this._setTimeoutId),this._setTimeoutId=setTimeout((function(){t.container.addChild(e)}),0)),i&&i.parent&&(i.stop(),i.parent.removeChild(i)),this._lastAnimatedName=this.animationName,this._curFrameNumber=0,this.emit(a.ComponentEvent.CHANGE,this,this.animationName),this.attribSystem(),this.playSystem()}else s.log("Warning SpriteAnimated -> _animatedSprites["+this.animationName+"] == undefined")}},e.prototype.playSystem=function(){var t=this._animatedSprites.get(this.animationName);t&&(this.playing?t.gotoAndPlay(this._curFrameNumber):t.gotoAndStop(this._curFrameNumber))},e.prototype.attribSystem=function(){var t=this._animatedSprites.get(this.animationName);t&&(t.loop=this.loop,t.animationSpeed=this.animationSpeed,t.anchor.set(this.anchorX,this.anchorY))},e}(o.DisplayObject);e.SpriteAnimated=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.TextInput=void 0;var o=i(73),s=i(0),a=i(38),h=i(9),l=i(1),u=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._oldState="",i._resolution=1,i._previous={},i.placeholderColor=11119017,i._domVisible=!0,i.state="DEFAULT",i._placeholder="",i._maxLength=99999,i.img=new h.Image,i.container.interactiveChildren=!0,i._inputStyle=Object.assign({position:"absolute",background:"none",border:"none",outline:"none",transformOrigin:"0 0",padding:"5px 8px",color:"#26272e",lineHeight:"1",fontSize:"25px"},{multiline:e}),i.htmlInputShared=new o.default(i._inputStyle.multiline),i.htmlInputShared.setStyle(i._inputStyle),i.htmlInputShared.on("input",i._onInputInput,i),i.htmlInputShared.on("focus",i._onFocused,i),i.htmlInputShared.on("blur",i._onBlurred,i),i.img.fillMode="scale",i.img.scale9Grid=[3,3,3,3],i.addChild(i.img),i._textHitbox=new vf.Graphics,i._textHitbox.name="_textHitbox",i._textHitbox.alpha=0,i._textHitbox.interactive=!0,i._textHitbox.cursor="text",i._textHitbox.on("pointerdown",i._ontextFocus,i),i.container.addChild(i._textHitbox),i._textMask=new vf.Graphics,i._textMask.name="_textMask",i.container.addChild(i._textMask),i._text=new vf.Text("",{}),i._text.name="_text",i._text.visible=!1,i._text.mask=i._textMask,i.container.addChild(i._text),i._domVisible=!1,i.on(l.ComponentEvent.STATE_CHANGE,i.onStateChange,i),i.container.isEmitRender=!1,i.container.on("renderChange",i.updateSystem,i),i}return r(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text.text},set:function(t){this.container.isEmitRender=!0,this._text.text=t,this.htmlInputShared.value=t,this.stage&&this.updateSystem(this.stage.app.renderer)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.container.isEmitRender=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(t){this._maxLength=t,this.container.isEmitRender=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restrict",{get:function(){return this._restrict},set:function(t){this._restrict=t,this.container.isEmitRender=!0},enumerable:!1,configurable:!0}),e.prototype.updateSystem=function(t){if(void 0!==t){var e=this.htmlInputShared;e.maxlength=this.maxLength,e.placeholder=this.placeholder,e.disabled=!this.enabled,e.restrict=this.restrict,this.setInputStyle("fontFamily",this.style.fontFamily),this.setInputStyle("fontSize",this.style.fontSize),this.setInputStyle("color",this.style.color),this.setInputStyle("width",this.explicitWidth+"px"),this.setInputStyle("height",this.explicitHeight+"px"),this.render(t),this.onStateChange(this,this.currentState),this.container.isEmitRender=!1}},e.prototype.focus=function(){this.htmlInputShared.focus()},e.prototype.blur=function(){this.htmlInputShared.blur()},e.prototype.setInputStyle=function(t,e){"fontSize"===t&&(e+="px"),"color"===t&&(e="#"+s.componentToHex(e)),this._inputStyle[t]=e,this.htmlInputShared.setStyleValue(t,e)},e.prototype.onStateChange=function(t,e){this._oldState!=e&&(this.enabled||(this.currentState="disabled"),this._oldState=e,this.img.src=this[e])},e.prototype._onInputInput=function(){this._updateSubstitution()},e.prototype._onFocused=function(){this._setState("FOCUSED")},e.prototype._onBlurred=function(){this._setState("DEFAULT")},e.prototype._setState=function(t){this.state=t,this._updateSubstitution()},e.prototype._updateSubstitution=function(){"FOCUSED"===this.state?(this._domVisible=!0,this._text.visible=!1):(this._domVisible=!1,this._text.visible=!0),this._updateDOMInput(),this._updatetext()},e.prototype.render=function(t){this._renderInternal(t)},e.prototype._renderInternal=function(t){this._resolution=t.resolution,this._lastRenderer=t,this._canvasBounds=this._getCanvasBounds(),this._needsUpdate()&&this._updateSubstitution()},e.prototype._updateDOMInput=function(){if(this._canvasBounds){var t=this._canvasBounds,e=this._vfMatrixToCSS(this._getDOMRelativeWorldTransform());this.htmlInputShared.updatePostion(t.top,t.left,e,this.container.worldAlpha),this.htmlInputShared.visible=this.container.worldVisible&&this._domVisible,this._previous.canvasBounds=this._canvasBounds,this._previous.worldTransform=this.container.worldTransform.clone(),this._previous.worldAlpha=this.container.worldAlpha,this._previous.worldVisible=this.container.worldVisible}},e.prototype._needsUpdate=function(){return!this._comparevfMatrices(this.container.worldTransform,this._previous.worldTransform)||!this._compareClientRects(this._canvasBounds,this._previous.canvasBounds)||this.container.worldAlpha!=this._previous.worldAlpha||this.container.worldVisible!=this._previous.worldVisible},e.prototype._updatetext=function(){var t=this._derivetextPadding(),e=this.htmlInputShared.getDOMInputBounds();this._text.style=this._derivetextStyle(),this._text.style.padding=Math.max.apply(Math,t),this._text.y=this._inputStyle.multiline?t[0]:(e.height-this._text.height)/2,this._text.x=t[3],this._inputStyle.multiline&&(this._text.style.wordWrap=!0,this._text.style.wordWrapWidth=e.width,this._text.style.breakWords=!0),this._text.text=this._derivetextText(),this._textHitbox.clear(),this._textHitbox.beginFill(0),this._textHitbox.drawRect(0,0,e.width,e.height),this._textHitbox.endFill(),this._textHitbox.interactive=this.enabled,this._textMask.clear(),this._textMask.beginFill(0),this._textMask.drawRect(t[3],0,e.width-t[3]-t[1],e.height),this._textMask.endFill(),this.img.width=e.width,this.img.height=e.height},e.prototype._ontextFocus=function(){this.htmlInputShared.visible=!0,setTimeout(this._ensureFocus.bind(this),10)},e.prototype._ensureFocus=function(){this._hasFocus()||this.focus()},e.prototype._derivetextStyle=function(){var t=new vf.TextStyle;for(var e in this._inputStyle)switch(e){case"color":t.fill=this._inputStyle.color;break;case"fontFamily":case"fontSize":case"fontWeight":case"fontVariant":case"fontStyle":t[e]=this._inputStyle[e];break;case"letterSpacing":t.letterSpacing=parseFloat(this._inputStyle.letterSpacing)}return this._inputStyle.multiline&&(t.lineHeight=parseFloat(t.fontSize),t.wordWrap=!0,t.wordWrapWidth=this.htmlInputShared.getDOMInputBounds().width),0===this.htmlInputShared.value.length&&(t.fill=this.placeholderColor),t},e.prototype._derivetextPadding=function(){var t=this._inputStyle.textIndent?parseFloat(this._inputStyle.textIndent):0;if(this._inputStyle.padding&&this._inputStyle.padding.length>0){var e,i=this._inputStyle.padding.trim().split(" ");if(1==i.length)return[e=parseFloat(i[0]),e,e,e+t];if(2==i.length){var n=parseFloat(i[0]),r=parseFloat(i[1]);return[n,r,n,r+t]}if(4==i.length)return(e=i.map((function(t){return parseFloat(t)})))[3]+=t,e}return[0,0,0,t]},e.prototype._derivetextText=function(){return 0===this.htmlInputShared.value.length?this.placeholder:this.htmlInputShared.value},e.prototype._hasFocus=function(){return document.activeElement===this.htmlInputShared.domInput},e.prototype._getCanvasBounds=function(){if(this._lastRenderer){var t=this._lastRenderer.view.getBoundingClientRect(),e={top:t.top,left:t.left,width:t.width,height:t.height};return e.left+=window.scrollX,e.top+=window.scrollY,e}},e.prototype._getDOMRelativeWorldTransform=function(){if(this._lastRenderer){var t=this._lastRenderer.view.getBoundingClientRect(),e=this.container.worldTransform.clone();return e.scale(this._resolution,this._resolution),e.scale(t.width/this._lastRenderer.width,t.height/this._lastRenderer.height),e}},e.prototype._vfMatrixToCSS=function(t){return"matrix("+[t.a,t.b,t.c,t.d,t.tx,t.ty].join(",")+")"},e.prototype._comparevfMatrices=function(t,e){return!(!t||!e)&&(t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d&&t.tx==e.tx&&t.ty==e.ty)},e.prototype._compareClientRects=function(t,e){return!(!t||!e)&&(t.left==e.left&&t.top==e.top&&t.width==e.width&&t.height==e.height)},e.prototype.release=function(){this._text.removeAllListeners(),this.container.removeChild(this._text),this._text.destroy(),this._text=void 0,this._textHitbox.removeAllListeners(),this.container.removeChild(this._textHitbox),this._textHitbox&&this._textHitbox.destroy(),this._textHitbox=void 0,this.img&&this.img.parent&&this.img.parent.removeChild(this.img),this.img.release(),this.img=void 0,this._textMask.parent.removeChild(this._textMask),this._textMask.destroy(),this._textMask=void 0,this.htmlInputShared.release(),this.htmlInputShared=void 0,this._lastRenderer=void 0,this._inputStyle=void 0,this._fontMetrics=void 0,this.container.off("renderChange",this.updateSystem,this),this.offAll(l.ComponentEvent.STATE_CHANGE),t.prototype.release.call(this)},e}(a.InputBase);e.TextInput=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var i=t.call(this)||this;return i._selection=[0,0],i._restrictValue="",console.log("创建HtmlInput"),i._domInput=i.addDom(e),i.visible=!1,document.body.appendChild(i._domInput),i}return r(e,t),Object.defineProperty(e.prototype,"domInput",{get:function(){return this._domInput},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return"block"===this._domInput.style.display},set:function(t){this._domInput.style.display=t?"block":"none"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._domInput.value},set:function(t){this._domInput.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{set:function(t){this._domInput.placeholder=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{set:function(t){this._domInput.disabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxlength",{get:function(){return this._domInput.maxLength},set:function(t){this._domInput.maxLength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restrict",{get:function(){return this._restrictRegex},set:function(t){if(void 0!==t){if(t instanceof RegExp){var e=t.toString().slice(1,-1);"^"!==e.charAt(0)&&(e="^"+e),"$"!==e.charAt(e.length-1)&&(e+="$"),t=new RegExp(e)}else t=new RegExp("^["+t+"]*$");this._restrictRegex=t}},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t){for(var e in t)this._domInput.style[e]=t[e]},e.prototype.setStyleValue=function(t,e){this._domInput.style[t]=e},e.prototype.select=function(){this._domInput.select()},e.prototype.getDOMInputBounds=function(){var t=this._domInput.style.transform,e=this._domInput.style.display;this._domInput.style.transform="",this._domInput.style.display="block";var i=this._domInput.getBoundingClientRect();return this._domInput.style.transform=t,this._domInput.style.display=e,i},e.prototype.updatePostion=function(t,e,i,n){this._domInput.style.top=t+"px",this._domInput.style.left=e+"px",this._domInput.style.transform=i,n&&(this._domInput.style.opacity=n.toString())},e.prototype.addDom=function(t){return t?(this._domInput=document.createElement("textarea"),this._domInput.style.resize="none"):(this._domInput=document.createElement("input"),this._domInput.type="text"),this.addEvent(),document.body.appendChild(this._domInput),this._domInput},e.prototype.removeDom=function(){this._domInput&&document.body.removeChild(this._domInput)},e.prototype.release=function(){this.removeDom(),this.removeEvent(),this.removeAllListeners(),this._domInput=void 0,this._restrictRegex=void 0},e.prototype.addEvent=function(){this._onInputKeyDownBind||(this._onInputKeyDownBind=this._onInputKeyDown.bind(this),this._onInputInputBind=this._onInputInput.bind(this),this._onInputKeyUpBind=this._onInputKeyUp.bind(this),this._onFocusedBind=this._onFocused.bind(this),this._onBlurredBind=this._onBlurred.bind(this),this._domInput.addEventListener("keydown",this._onInputKeyDownBind,{passive:!1}),this._domInput.addEventListener("input",this._onInputInputBind,{passive:!1}),this._domInput.addEventListener("keyup",this._onInputKeyUpBind,{passive:!1}),this._domInput.addEventListener("focus",this._onFocusedBind,{passive:!1}),this._domInput.addEventListener("blur",this._onBlurredBind,{passive:!1}))},e.prototype.removeEvent=function(){this._onInputKeyDownBind&&(this._domInput.removeEventListener("keydown",this._onInputKeyDownBind),this._domInput.removeEventListener("input",this._onInputInputBind),this._domInput.removeEventListener("keyup",this._onInputKeyUpBind),this._domInput.removeEventListener("focus",this._onFocusedBind),this._domInput.removeEventListener("blur",this._onBlurredBind),this._onInputKeyDownBind=void 0,this._onInputInputBind=void 0,this._onInputKeyUpBind=void 0,this._onFocusedBind=void 0,this._onBlurredBind=void 0)},e.prototype._applyRestriction=function(){this._restrictRegex&&(this._restrictRegex.test(this.value)?this._restrictValue=this.value:(this.value=this._restrictValue,this._domInput.setSelectionRange(this._selection[0],this._selection[1])))},e.prototype._onInputKeyDown=function(t){this._selection=[this._domInput.selectionStart||0,this._domInput.selectionEnd||0],this.emit("keydown",this,t.keyCode)},e.prototype._onInputInput=function(t){null!=t.data&&this._restrictRegex&&this._applyRestriction(),this.emit("input",this.value),t.preventDefault()},e.prototype._onInputKeyUp=function(t){this.emit("keyup",this.value),t.preventDefault()},e.prototype._onFocused=function(t){this.emit("focus"),t.preventDefault()},e.prototype._onBlurred=function(t){this.emit("blur"),t.preventDefault()},e.prototype.focus=function(){document.body.removeChild(this._domInput),document.body.appendChild(this._domInput),this._domInput.focus()},e.prototype.blur=function(){this._domInput.blur()},e}(vf.utils.EventEmitter);e.default=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CheckBox=void 0;var o=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._value="",e._checked=!1,e}return r(e,t),Object.defineProperty(e.prototype,"selectedValue",{get:function(){if(this.checkGroup)return o.InputController.getCheckGroupSelectedValue(this.checkGroup)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkGroup",{get:function(){return this._groupName},set:function(t){void 0===t&&o.InputController.unRegistrerCheckGroup(this),this._groupName!=t&&(this._groupName=t,o.InputController.registrerCheckGroup(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t!==this._value&&(this._value=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){t!==this._checked&&(this.checkGroup&&o.InputController.updateCheckGroupSelected(this),this._checked=t,this.setSelected(t),this._oldState="")},enumerable:!1,configurable:!0}),e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.checkGroup&&this.checked||(this.checked=!this.checked)},e.prototype.onLabelChange=function(t){t.style.left=this.width,t.style.top=this.height-t.height>>1},e.prototype.release=function(){o.InputController.unRegistrerCheckGroup(this),t.prototype.release.call(this)},e}(i(39).Button);e.CheckBox=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;var o=i(4),s=function(t){function e(){var e=t.call(this)||this;return e.path=[],e.PI_2=2*Math.PI,e._triangleNum=5,e.RADIUS_V=1,e}return r(e,t),e.prototype.drawGraph=function(){var t=this.graphics;t.clear(),this.path=[],this._triangleNum<=1||this._lineWidth<0?console.log("属性错误，线宽小于0或者角数错误"):(t.lineStyle(this._lineWidth,this._lineColor,this._lineAlpha,.5,!1,this.lineType),this.setStarPath(),this.color?t.beginFill(this._color,this._fillAlpha):o.updateTextureFill(this.graphics,this),t.drawPolygonOne(this.path),t.endFill())},Object.defineProperty(e.prototype,"triangleNum",{get:function(){return this._triangleNum},set:function(t){this._triangleNum=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),e.prototype.setStarPath=function(){for(var t=this.RADIUS_V,e=this._triangleNum,i=this.PI_2,n=-1*Math.PI/2,r=e,o=i/r,s=this.width>0?this.width/(2*t):1,a=this.height>0?this.height/(2*t):1,h=this._anchorX?this._anchorX:0,l=this._anchorY?this._anchorY:0,u=0;u<r;u++){var c=u*o+n,p=(t*Math.cos(c)+h+t)*s,d=(t*Math.sin(c)+l+t)*a,f=new vf.Point(p,d);this.path.push(f)}},e}(i(5).GraphBase);e.Polygon=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Arrow=void 0;var o=i(4),s=function(t){function e(){var e=t.call(this)||this;return e._angle=Math.PI/6,e}return r(e,t),e.prototype.drawGraph=function(){var t=this.graphics;if(t.clear(),this._lineWidth<0)console.log("属性错误，线宽需要大于0");else if(t.lineStyle(this._lineWidth,this._lineColor,this._lineAlpha,.5,!1,this.lineType),this.width>0&&this.height>0){var e=this._anchorX?this.width*this._anchorX:0,i=this._anchorY?this.height*this._anchorY:0;t.moveTo(0-e,.5*this.height-i),t.lineTo(this.width-e,.5*this.height-i);var n=this.getArrowPath(),r=!1;this.color?(t.beginFill(this._color,this._fillAlpha),r=!0):o.updateTextureFill(this.graphics,this)&&(r=!0),t.drawPolygonOne(n,r),t.endFill()}},e.prototype.getArrowPath=function(){var t=this._anchorX?this.width*this._anchorX:0,e=this._anchorY?this.height*this._anchorY:0,i=[],n=this._angle,r=this.height,o=this.width,s=.5*r,a=o-.5*r*Math.tan(Math.PI/2-n),h=new vf.Point(a-t,0-e),l=new vf.Point(o-t,s-e),u=new vf.Point(a-t,2*s-e);return i.push(h,l,u),i},e}(i(5).GraphBase);e.Arrow=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Ellipse=void 0;var o=i(4),s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.drawGraph=function(){var t=this.graphics;if(t.clear(),this._lineWidth<0)console.log("属性错误，线宽小于0");else{t.lineStyle(this._lineWidth,this._lineColor,this._lineAlpha,.5,!1,this.lineType),this.color?t.beginFill(this._color,this._fillAlpha):o.updateTextureFill(this.graphics,this);var e=(this._anchorX?-this._anchorX*this.width:0)+.5*this.width,i=(this._anchorY?-this._anchorY*this.height:0)+.5*this.height;t.drawEllipse(e,i,.5*this.width,.5*this.height),t.endFill()}},e}(i(5).GraphBase);e.Ellipse=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Isosceles=void 0;var o=i(4),s=function(t){function e(){var e=t.call(this)||this;return e._upLine=0,e._downLine=0,e._path=[],e}return r(e,t),Object.defineProperty(e.prototype,"upLine",{get:function(){return this._upLine},set:function(t){this._upLine=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"downLine",{get:function(){return this._downLine},set:function(t){this._downLine=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),e.prototype.drawGraph=function(){var t=this.graphics;t.clear(),this._lineWidth<0?console.log("属性错误，线宽小于0"):(t.lineStyle(this._lineWidth,this._lineColor,this._lineAlpha,.5,!1,this.lineType),this.color?t.beginFill(this._color,this._fillAlpha):o.updateTextureFill(this.graphics,this),this.setIsosPath(),t.drawPolygonOne(this._path),t.endFill())},e.prototype.setIsosPath=function(){this._path=[];var t=this._upLine,e=this._downLine,i=Math.max(t,e),n=this.height>0?this.height:i,r=this.width>0?this.width/i:1,o=this._anchorX?this.width*this._anchorX:0,s=this._anchorY?this.height*this._anchorY:0,a=0-s,h=n-s,l=new vf.Point(.5*(i-t)*r-o,a),u=new vf.Point(.5*(i-e)*r-o,h),c=new vf.Point((.5*i+.5*e)*r-o,h),p=new vf.Point((.5*i+.5*t)*r-o,a);this._path.push(l,u,c,p)},e}(i(5).GraphBase);e.Isosceles=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.FollowLine=void 0;var o=i(2),s=i(1),a=i(0),h=i(24),l=i(80),u=new vf.Rectangle,c="$%&()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_abcdefghijklmnopqrstuvwxyz{}";function p(t,e){t=Math.min(Math.max(0,t),1500),e=Math.min(Math.max(0,e),1500);var i=Math.floor(t/2),n=Math.floor(e/2),r=i%87,o=n%87,s=10*Math.floor(i/87)+Math.floor(n/87);return c[r]+c[o]+c[s]}function d(t,e,i){for(var n=[],r=e;r<i;r+=3){var o=c.indexOf(t[r]),s=c.indexOf(t[r+1]),a=c.indexOf(t[r+2]),h=2*(o+87*Math.floor(a/10)),l=2*(s+87*(a%10));n.push(h),n.push(l)}return n}var f=function(t){function e(){var e=t.call(this)||this;return e._touchId=-1,e._posCache=[],e._lineKeys=[],e._curLineIndex=0,e._messageCache=[],e.lineColor=16711680,e.lineWidth=3,e.isPause=!1,e.lineType="full",e.isErasing=!1,e.role="T",e._lastPos=new vf.Point,e._mouseOffset=new vf.Point,e._lines=new Map,e.addEvent(),e.addSelectedBound(),e}return r(e,t),Object.defineProperty(e.prototype,"eraseLine",{get:function(){return this._eraseLine},set:function(t){var e,i;if(this._eraseLine=t,t){var n=t.getLocalBounds();n.x+=t.x,n.y+=t.y,null===(e=this._selectedBounds)||void 0===e||e.show(this,n,t.scale.x,t.scale.y,t.angle,!1)}else null===(i=this._selectedBounds)||void 0===i||i.hide()},enumerable:!1,configurable:!0}),e.prototype.commitProperties=function(){this.onMessage(),this.getCurLineByPos()},e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i),this.container.hitArea=new vf.Rectangle(0,0,e,i)},e.prototype.addSelectedBound=function(){this._selectedBounds=new l.SelectedBounds},e.prototype.onMessage=function(){var t=this._messageCache;if(t.length>0)for(var e=void 0,i=void 0,n=void 0,r=void 0,o=void 0;t.length>0;){var s=t.shift().split("|");switch(r=s[0],n=s[1],i=s[2],o=s[3],this.lineWidth=parseInt(s[4]),this.lineColor=parseInt(s[5]),this.lineType=s[6],e=s[7],n){case"1":var a=this.getGraphics(o,i),h=d(e,0,e.length);"0"==r&&this.drawLine(a,h);break;case"2":this.removeLine(i+o);break;case"3":this.clear()}}},e.prototype.addEvent=function(){this.on(s.TouchMouseEvent.onPress,this.onPress),this.on(s.TouchMouseEvent.onMove,this.onMove)},e.prototype.removeEvent=function(){this.off(s.TouchMouseEvent.onPress,this.onPress),this.off(s.TouchMouseEvent.onMove,this.onMove)},e.prototype.onPress=function(t,e,i){if(!this.isPause)if(t.stopPropagation(),t.local=this.container.toLocal(t.data.global),i){if(void 0===this.parent)return;if(this.isErasing)return;if(-1!==this._touchId)return;this._touchId=t.data.identifier;var n=this.container.toLocal(t.data.global);this._lastPos.copyFrom(n),this._curLineIndex=Date.now(),this._posCache=[this._lastPos.clone()]}else{if(this.isErasing&&this.eraseLine){var r=this.eraseLine.name;return this.removeLine(r),this.emitMsg("2",r.charAt(0),r.substr(1)),void(this.eraseLine=void 0)}if(-1===this._touchId||this._touchId!=t.data.identifier)return;if(this._touchId=-1,this._posCache.length<=1)return void this._posCache.pop();this.emitMsg("1",this.role,this._curLineIndex.toString(),this.getDataStrByPosCache())}},e.prototype.onMove=function(t){if(t.stopPropagation(),t.local=this.container.toLocal(t.data.global),this._mouseOffset=t.local,this.isErasing)"T"==this.role&&this.invalidateProperties();else if(-1!==this._touchId&&this._lastPos&&this._touchId==t.data.identifier){var e=this._lastPos,i=this._posCache;if(!(a.pointDistance(e,this._mouseOffset)<7)){var n=this.getGraphics(this._curLineIndex.toString(),this.role);n.moveTo(e.x,e.y),n.lineTo(this._mouseOffset.x,this._mouseOffset.y),e.copyFrom(this._mouseOffset),i.push(e.clone())}}},e.prototype.emitMsg=function(t,e,i,n){void 0===n&&(n="");var r="0|"+t+"|"+e+"|"+i+"|"+this.lineWidth+"|"+this.lineColor+"|"+this.lineType+"|"+n;this.emit(s.ComponentEvent.COMPLETE,this,r),"1"==t&&(this.removeLine(e+i),this.setData(r))},e.prototype.getGraphics=function(t,e){var i=e+t;if(this._lines.has(i))return this._lines.get(i);this._lines.size>200&&this.removeLine(this._lineKeys.shift());var n=new h.Graphics;n.id=i,this.addChild(n);var r=n.graphics;return r.interactive=!1,r.interactiveChildren=!1,r.name=i,this._lineKeys.push(i),this._lines.set(i,r),r.lineStyle(this.lineWidth,this.lineColor,void 0,void 0,void 0,this.lineType),r},e.prototype.getCurLineByPos=function(){var t=this,e=this._lines,i=this._mouseOffset;if(this.eraseLine&&(this.eraseLine=void 0),this.isErasing){var n=1e4;e.forEach((function(e){if(e.getLocalBounds(u),u.x+=e.x,u.y+=e.y,u.contains(i.x,i.y)){var r=a.pointDistance(i,{x:u.x+.5*u.width,y:u.y+.5*u.height});r<n&&(n=r,t.eraseLine=e)}}))}},e.prototype.getDataStrByPosCache=function(){var t=this._posCache;if(0!=t.length){for(var e=[t[0].x],i=[t[0].y],n=t[0],r=t[1],o=0,s=2;s<t.length;s++){var h=t[s],l=a.pointSub(r,n),u=a.pointSub(h,r),c=a.pointSignAngle(l,u);c>.09||c<-.09||o>.09||o<-.09?(e.push(r.x),i.push(r.y),o=0):o+=c,n=r,r=h}e.push(t[t.length-1].x),i.push(t[t.length-1].y);var d=[];for(s=0;s<e.length;s++){var f=p(e[s]+0,i[s]+0);d.push(f)}return d.join("")}},e.prototype.drawLine=function(t,e){var i=e[0]-0,n=e[1]-0;t.moveTo(i,n);for(var r=[],o=2;o<e.length;o+=2){var s=i+.5*((u=e[o]-0)-i),a=n+.5*((c=e[o+1]-0)-n);r.push(s,a,u,c),i=u,n=c}t.lineTo(r[0],r[1]);for(o=2;o<r.length-2;o+=4){var h=r[o],l=r[o+1],u=r[o+2],c=r[o+3];t.quadraticCurveTo(h,l,u,c)}t.lineTo(r[r.length-2],r[r.length-1])},e.prototype.removeLine=function(t){var e=this._lineKeys.indexOf(t);-1!==e&&this._lineKeys.splice(e,1);var i=this._lines.get(t);if(i){this._lines.delete(t),i.parent&&(i.parent.removeChild(i),i.destroy());var n=this._getChildById(t);n&&n.release()}},e.prototype.clear=function(){this._lines.forEach((function(t,e){t.parent&&t.parent.removeChild(t).destroy()})),this._lines.clear(),this._posCache=[],this._lineKeys=[]},e.prototype.setData=function(t){"string"==typeof t?this._messageCache.push(t):this._messageCache=this._messageCache.concat(t),this.onMessage()},e.prototype.reset=function(){this.emitMsg("3",this.role,""),this.clear()},e.prototype.release=function(){var e;this.removeEvent(),null===(e=this._selectedBounds)||void 0===e||e.release(),t.prototype.release.call(this)},e}(o.DisplayObject);e.FollowLine=f},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.SelectedBounds=e.BoundsEventType=void 0;var o,s=i(2),a=i(15),h=i(7),l=i(24),u=i(14);!function(t){t.boundsScale="boundsScale",t.boundsAngle="boundsAngle",t.selectedBoundsClicked="selectedBoundsClicked"}(o=e.BoundsEventType||(e.BoundsEventType={}));var c=function(t){function e(){var e=t.call(this)||this;return e._bounds=new vf.Rectangle,e.addSelectedShapeRect(),e.interactabled=!0,e.container.hitArea=new vf.Rectangle(0,0,2e3,2e3),e.on("move",e.onMove),e._lastPos=new vf.Point,e}return r(e,t),e.prototype.onMove=function(t){var e,i;if(this._selectedRect&&this._boundsRect){var n=this.container.toLocal(t.data.global);if(a.Utils.pointDistance(this._lastPos,n)<10)return;var r=this._lastPos.x-n.x,s=this._lastPos.y-n.y;switch(parseInt(this._selectedRect.id)){case 0:var h=(this._bounds.width+r)/this._bounds.width,l=(this._bounds.height+s)/this._bounds.height;this.emit(o.boundsScale,h,l);break;case 1:l=(this._bounds.height+s)/this._bounds.height;this.emit(o.boundsScale,1,l);break;case 2:h=(this._bounds.width-r)/this._bounds.width,l=(this._bounds.height+s)/this._bounds.height;this.emit(o.boundsScale,h,l);break;case 3:h=(this._bounds.width-r)/this._bounds.width;this.emit(o.boundsScale,h,1);break;case 4:h=(this._bounds.width-r)/this._bounds.width,l=(this._bounds.height-s)/this._bounds.height;this.emit(o.boundsScale,h,l);break;case 5:l=(this._bounds.height-s)/this._bounds.height;this.emit(o.boundsScale,1,l);break;case 6:h=(this._bounds.width+r)/this._bounds.width,l=(this._bounds.height-s)/this._bounds.height;this.emit(o.boundsScale,h,l);break;case 7:h=(this._bounds.width+r)/this._bounds.width;this.emit(o.boundsScale,h,1);break;case 8:var u=new vf.Point(null===(e=this._uiContainer)||void 0===e?void 0:e.x,null===(i=this._uiContainer)||void 0===i?void 0:i.y),c=this.measureAngle(u,this._lastPos,n);this.emit(o.boundsAngle,c)}this._lastPos=n}},e.prototype.measureAngle=function(t,e,i){var n=t.x-e.x,r=t.y-e.y,o=t.x-i.x,s=t.y-i.y,a=(n*o+r*s)/(Math.sqrt(Math.pow(n,2)+Math.pow(r,2))*Math.sqrt(Math.pow(o,2)+Math.pow(s,2))),h=180*Math.acos(a)/Math.PI;return i.y>t.y?i.x>e.x&&(h=0-h):i.x<e.x&&(h=0-h),h},e.prototype.addSelectedShapeRect=function(){var t=this,e=new h.Container;this._uiContainer=e,this.addChild(e);var i=new l.Graphics;this._boundsRect=i,e.addChild(i);var n=new h.Container;e.addChild(n),this._cornerContainer=n;for(var r=function(e){var i=new u.Rect;i.width=i.height=10,i.anchorX=i.anchorY=.5,i.id=e.toString(),i.lineWidth=1,i.lineColor=136,i.color=16777215,n.addChild(i),i.interactabled=!0,i.syncabled=!1,i.on("down",(function(e){t._selectedRect=i,t._lastPos=t.container.toLocal(e.data.global),t.emit(o.selectedBoundsClicked,!0)})),i.on("up",(function(){t._selectedRect=void 0,t.emit(o.selectedBoundsClicked,!1)}))},s=0;s<9;++s)r(s)},e.prototype.getBoundsPosList=function(t){var e=[];return e.push(t.x),e.push(t.y),e.push(t.x+.5*t.width),e.push(t.y),e.push(t.x+t.width),e.push(t.y),e.push(t.x+t.width),e.push(t.y+.5*t.height),e.push(t.x+t.width),e.push(t.y+t.height),e.push(t.x+.5*t.width),e.push(t.y+t.height),e.push(t.x),e.push(t.y+t.height),e.push(t.x),e.push(t.y+.5*t.height),e.push(t.x+.5*t.width),e.push(t.y-30),e},e.prototype.show=function(t,e,i,n,r,o){void 0===i&&(i=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===o&&(o=!0),t.addChild(this),this.update(t,e,i,n,r,o)},e.prototype.update=function(t,e,i,n,r,o){var s;if(void 0===i&&(i=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===o&&(o=!0),this.parent!==t&&(this.parent&&this.parent.removeChild(this),t.addChild(this)),e.x-=e.width*(i-1)*.5,e.y-=e.height*(n-1)*.5,e.width*=i,e.height*=n,this._uiContainer&&(this._uiContainer.x=e.x+.5*e.width,this._uiContainer.y=e.y+.5*e.height),e.x=.5*-e.width,e.y=.5*-e.height,this._bounds=e,this._boundsRect){var a=this._boundsRect.graphics;a.clear(),a.lineStyle(1,136,1,void 0,void 0,"dash"),a.moveTo(e.x,e.y),a.lineTo(e.x+e.width,e.y),a.lineTo(e.x+e.width,e.y+e.height),a.lineTo(e.x,e.y+e.height),a.lineTo(e.x,e.y)}if(o){this._cornerContainer&&(this._cornerContainer.visible=!0);for(var h=this.getBoundsPosList(e),l=0;l<h.length;l+=2){var u=null===(s=this._cornerContainer)||void 0===s?void 0:s._getChildById(.5*l+"");u.x=h[l],u.y=h[l+1]}}else this._cornerContainer&&(this._cornerContainer.visible=!1);this._uiContainer&&(this._uiContainer.rotation=r)},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e}(s.DisplayObject);e.SelectedBounds=c},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Video=void 0;var o=i(2),s=i(0),a=i(1),h=i(82),l=function(t){function e(){var e=t.call(this)||this;return e._videoHasEvent=!1,e._resolution=1,e._autoplay=!1,e._canPlayFirst=!1,e._poster="",e._firstLoad=!1,e._muted=!1,e._loop=!1,e._controls=!0,e._volume=1,e._currentTime=0,e._oldPoster="",e._oldSrc="",e._canPlay=!1,e._visibleStatus=!0,e._elemDraw=!1,e._isplaying=!1,e.forceElementDraw=!1,e._lastPostion=new vf.Rectangle,e._oldX=0,e._oldY=0,e._fullStates="noFull",e._sprite=new vf.Sprite,e.container.addChildAt(e._sprite,0),e.videoGroup="",e._video=document.createElement("video"),vf.utils.deprecation("1.0.0","在互动课件环境，Video组件仅支持最基础的播放、暂停功能。并且需要配置无声视频源：silentSrc以及对应的声音源：soundSrc"),e}return r(e,t),e.prototype.createVideoBtn=function(){this._videoBtn||(this._videoBtn=new h.VideoBtn,this._videoBtn.width=50,this._videoBtn.height=50,this._videoBtn.interactabled=!0,this._videoBtn.on(vf.gui.Interaction.TouchMouseEvent.onClick,this.clickAudio,this),this.addChild(this._videoBtn),this._videoBtn.visible=this._controls)},e.prototype.clickAudio=function(t,e){!0===this._isplaying?this.pause():this.play()},e.prototype.createVideoSource=function(){var t;if(!this.useNativeAudio()){this._sprite||(this._sprite=new vf.Sprite,this.container.addChildAt(this._sprite,0)),this._video||(this._video=document.createElement("video"));var e=this._video;window.MediaStream&&this._src instanceof MediaStream?(e.srcObject=this._src||"",this._autoplay=!0):e.src=this._src||"",e.setAttribute("preload","auto"),e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),e.setAttribute("x5-video-player-type","h5"),e.setAttribute("x5-video-player-fullscreen","true"),e.setAttribute("playsinline","true"),e.crossOrigin="anonymous",this._videoTextrue=vf.Texture.from(e,{resourceOptions:{autoPlay:this._autoplay,autoLoad:!0,crossorigin:!0}});var i=this._videoTextrue;this._video.onseeked=function(){i.baseTexture&&i.baseTexture.resource&&i.update()},this._sprite.texture=this._videoTextrue,e.muted=this._muted,e.loop=this._loop,e.currentTime=this._currentTime,e.volume=this._volume,e.autoplay=this._autoplay,e.controls=this._controls;var n=this._poster;if(this._poster&&""!==this._poster){var r=s.getSource(this._poster);"object"==typeof r&&r.baseTexture&&r.baseTexture.resource&&r.baseTexture.resource.url&&(n=r.baseTexture.resource.url)}if(e.poster=n,this._autoplay&&this.useNativeAudio()){if((null===(t=this.stage)||void 0===t?void 0:t.syncManager)&&this.stage.syncManager.resumeStatusFlag)return;this.nativeEmit(this._audio,"playAudio")}this.clearVideoEvent(),this._videoHasEvent||(this._videoHasEvent=!0,this._canplayFun=this.canplayFun.bind(this),this._canplaythroughFun=this.canplaythroughFun.bind(this),this._completeFun=this.completeFun.bind(this),this._endedFun=this.endedFun.bind(this),this._loadeddataFun=this.loadeddataFun.bind(this),this._durationchangeFun=this.durationchangeFun.bind(this),this._pauseFun=this.pauseFun.bind(this),this._playFun=this.playFun.bind(this),e.addEventListener("canplay",this._canplayFun),e.addEventListener("canplaythrough",this._canplaythroughFun),e.addEventListener("complete",this._completeFun),e.addEventListener("play",this._playFun),e.addEventListener("pause",this._pauseFun),e.addEventListener("ended",this._endedFun),e.addEventListener("loadeddata",this._loadeddataFun),e.addEventListener("durationchange",this._durationchangeFun))}},e.prototype.canplayFun=function(t){!1===this._canPlayFirst&&(this._canPlayFirst=!0,this.emit("canplay",t,this))},e.prototype.canplaythroughFun=function(t){this.emit("canplaythrough",t,this)},e.prototype.completeFun=function(t){this.emit("complete",t,this)},e.prototype.pauseFun=function(t){this._videoBtn&&this._videoBtn.setStates("pause"),this._isplaying=!1,this.emit("paused",t,this)},e.prototype.playFun=function(t){this._videoBtn&&this._videoBtn.setStates("play"),this._isplaying=!0,a.VideoGroupController.updateVideoGroupStates(this),this.emit("play",t,this)},e.prototype.endedFun=function(t){this._isplaying=!1,this.emit("ended",t,this)},e.prototype.loadeddataFun=function(t){var e=this._video;if(0==this._canPlay&&e.videoWidth<=0||!0===this.checkComatibility()){if(this._canPlay=!0,this._elemDraw=!0,console.log("视频不支持纹理"),this.clearSprite(),!e.parentElement&&this.stage&&this.stage.app){var i=this.stage.app.view;i&&i.parentElement&&(i.parentElement.appendChild(this._video),this.setPos(),this.invalidateDisplayList())}}else this._posterImg&&(this._posterImg.visible=!0),this.createVideoBtn();this._firstLoad=!0,"fulling"==this._fullStates&&this.fullScreen(),this.emit("loadeddata",t,this)},e.prototype.checkComatibility=function(){if(!0===this.forceElementDraw)return!0;var t=navigator.userAgent;if(t){if(t.indexOf("HUAWEICMR-W09")>-1)return!0;var e=vf.utils.getSystemInfo(),i=e.browser,n=i.name,r=i.version,o=e.device.type,s=Number.MAX_VALUE.toString();if("chrome"===n.toLocaleLowerCase()&&(s=r.split(".")[0]),Number(s)<=62&&("tablet"===o||"mobile"===o))return!0}return!1},e.prototype.durationchangeFun=function(t){this.emit("durationchange",t,this)},e.prototype.checkVideoPlay=function(){var t=this._video;this.updateSystem(),this._sprite&&(this._sprite.texture&&this._sprite.texture.destroy(),this._sprite.destroy()),this._sprite=void 0,t.width=this.width,t.height=this.height,t.style.position="absolute",this.setPos()},Object.defineProperty(e.prototype,"x",{get:function(){return this.container.x},set:function(t){this.container.position.x=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.container.y},set:function(t){this.container.position.y=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),e.prototype.setPos=function(){this._canvasBounds=this._getCanvasBounds();var t=this._canvasBounds;this.stage&&this.container.updateTransform();var e=this.container.worldTransform.clone(),i="matrix("+[e.a,e.b,e.c,e.d,0,0].join(",")+")";if(t){var n=t.left+e.tx+this.width*(e.a-1)*.5,r=t.top+e.ty+this.height*(e.d-1)*.5;this.updatePostion(r,n,i,this.container.worldAlpha)}},e.prototype._getCanvasBounds=function(){if(this._lastRenderer){var t=this._lastRenderer.view.getBoundingClientRect(),e={top:t.top,left:t.left,width:t.width,height:t.height};return e.left+=window.scrollX,e.top+=window.scrollY,e}},e.prototype.updateSystem=function(){if(this.stage){var t=this.stage.app.renderer;this._resolution=t.resolution,this._lastRenderer=t}},e.prototype.updatePostion=function(t,e,i,n){this._video.style.top=Number(t)+"px",this._video.style.left=Number(e)+"px",this._video.style.transform=i,n&&(this._video.style.opacity=n.toString())},e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i);var n=this._lastPostion;if(n.x===this.x&&n.y===this.y&&n.width===this.width&&n.height===this.height||(this._lastPostion.x=this.x,this._lastPostion.y=this.y,this._lastPostion.width=this.width,this._lastPostion.height=this.height,this.validateDisplayList()),this.useNativeAudio()){if(!this._silent)return void console.warn("课件环境需要配置silent参数！");this._src=this._silent}0===e&&0===i||(this._src&&void 0!==this._src&&""!==this._src&&this._src==this._oldSrc||(this._oldSrc=this._src,this.clearSource(),this._src&&""!=this._src&&this.createVideoSource()),this._canPlay&&this.checkVideoPlay(),this._sprite&&"noFull"===this._fullStates&&(this._sprite.width=e,this._sprite.height=i),this.updataPoster())},e.prototype.updataPoster=function(){if(this._poster&&this._poster!==this._oldPoster){if(!this._posterImg){this._posterImg=new vf.Sprite;var t=this.container.getChildIndex(this._sprite);this.container.addChildAt(this._posterImg,t+1)}this._posterImg.texture=s.getTexture(this._poster),this._oldPoster=this._poster,this._posterImg.width=this.width,this._posterImg.height=this.height,this._posterImg.visible=!1}},e.prototype.clearPoster=function(){this._posterImg&&(this._posterImg.parent&&this._posterImg.parent.removeChild(this._posterImg),this._posterImg.destroy(),this._posterImg=void 0),this._oldPoster=""},Object.defineProperty(e.prototype,"silent",{get:function(){return this._silent},set:function(t){t=s.getSource(t),this._silent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audio",{get:function(){return this._audio},set:function(t){t=s.getSource(t),this._audio=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(t){var e,i=s.getSource(t);e="string"==typeof t&&-1!==t.indexOf("//");var n=t;if(!i&&!e)return this._src=null,this._oldSrc=void 0,this.clearSource(),this.clearVideoBtn(),this.clearPoster(),this.clearSprite(),void this.clearVideo();i&&"object"==typeof i&&i.url&&(n=i.url,i.audio&&(this._audio=i.audio),i.silent&&(this._silent=i.silent)),this._src!=n&&(n instanceof HTMLVideoElement?(this._video=n,this._src=this._video.src):this._src=n,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"srcObject",{get:function(){if(this._src&&window.MediaStream&&this._src instanceof MediaStream)return this._src;window.MediaStream||console.log("当前不支持 mediaStream")},set:function(t){this._src!==t&&(this._src=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoplay",{get:function(){return this._autoplay},set:function(t){this._autoplay=t,this._video&&(this._video.autoplay=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._video&&(this._video.loop=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"poster",{get:function(){return this._poster},set:function(t){this._poster!==t&&(this._poster=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this._video&&(this._video.muted=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this._controls},set:function(t){this._controls=t,this._video&&(this._video.controls=t),this._videoBtn&&(this._videoBtn.visible=this._controls&&!this._elemDraw)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){t=(t=t>1?1:t)<0?0:t,this._volume=t,this._video&&(this._video.volume=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visibleStatus},set:function(t){this._visibleStatus!==t&&(this._visibleStatus=t,!0===t&&this.validateNow(),this.container.visible=t,this._video&&(this._video.style.visibility=this.visible?"visible":"hidden"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoElement",{get:function(){return this._video},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._currentTime},set:function(t){this._currentTime=t,this._video&&(this._video.currentTime=this._currentTime)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoGroup",{get:function(){return this._groupName},set:function(t){void 0===t&&a.VideoGroupController.unRegistrerVideoGroup(this),this._groupName!=t&&(this._groupName=t,a.VideoGroupController.registrerVideoGroup(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._video?this._video.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isplaying},enumerable:!1,configurable:!0}),e.prototype.play=function(){var t;if(!((null===(t=this.stage)||void 0===t?void 0:t.syncManager)&&this.stage.syncManager.resumeStatusFlag))if(this.useNativeAudio()&&(this._audio||console.warn("课件环境需要配置audio参数！"),this.nativeEmit(this._audio,"playAudio")),this._video){this.clearPoster();try{this._video.play()}catch(t){console.log(t)}}else this.autoplay=!0},e.prototype.pause=function(){var t;(null===(t=this.stage)||void 0===t?void 0:t.syncManager)&&this.stage.syncManager.resumeStatusFlag||(this.useNativeAudio()&&this.nativeEmit(this._audio,"pauseAudio"),this._video&&this._video.pause())},e.prototype.requestFullScreen=function(){1!=this._elemDraw?"full"!=this._fullStates&&(this.stage&&0!=this._firstLoad?this.fullScreen():this._fullStates="fulling"):this.requestFullScreenDom()},e.prototype.fullScreen=function(){var t=this.stage;if(t&&this._sprite){this._fullStates="full",this._oldX=this.x,this._oldY=this.y;var e=t.width,i=t.height,n=Math.min(e/this.width,i/this.height),r=this.width*n,o=this.height*n;this._sprite.width=r,this._sprite.height=o,this._posterImg&&(this._posterImg.width=r,this._posterImg.height=o);var s=0,a=0;if(this.container.parent){var h=this.container.parent.toLocal(new vf.Point(0,0));s=h.x,a=h.y}this.x=.5*(e-this._sprite.width)+s,this.y=.5*(i-this._sprite.height)+a}},e.prototype.requestFullScreenDom=function(){var t=this._video;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.webkitEnterFullScreen&&t.webkitEnterFullScreen()},e.prototype.exitFullscreen=function(){1!=this._elemDraw?"noFull"!=this._fullStates&&this._sprite&&(this._fullStates="noFull",this._sprite.width=this.width,this._sprite.height=this.height,this._posterImg&&(this._posterImg.width=this.width,this._posterImg.height=this.height),this.x=this._oldX,this.y=this._oldY):this.exitFullscreenDom()},e.prototype.exitFullscreenDom=function(){var t=this._video;t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.webkitExitFullScreen&&t.webkitExitFullScreen()},e.prototype.clearSource=function(){var t=this._videoTextrue;t&&(this.exitFullscreen(),t.baseTexture&&t.baseTexture.resource.source&&(t.baseTexture.resource.source.onseeked=null),t.destroy())},e.prototype.clearVideoBtn=function(){this._videoBtn&&(this._videoBtn.parent&&this._videoBtn.parent.removeChild(this._videoBtn),this._videoBtn.off(vf.gui.Interaction.TouchMouseEvent.onClick,this.clickAudio,this),this._videoBtn.release(),this._videoBtn=void 0)},e.prototype.clearVideoEvent=function(){if(this._video){var t=this._video;t.removeEventListener("canplay",this._canplayFun),t.removeEventListener("canplaythrough",this._canplaythroughFun),t.removeEventListener("complete",this._completeFun),t.removeEventListener("ended",this._endedFun),t.removeEventListener("loadeddata",this._loadeddataFun),t.removeEventListener("durationchange",this._durationchangeFun),t.removeEventListener("pause",this._pauseFun),t.removeEventListener("play",this._playFun)}this._videoHasEvent=!1},e.prototype.clearVideo=function(){if(this._video){var t=this._video;this.clearVideoEvent(),t.parentElement&&t.parentElement.removeChild(this._video)}this._video&&this._video.pause(),this._video=null,this._isplaying=!1},e.prototype.clearSprite=function(){this._sprite&&(this._sprite.parent&&this._sprite.parent.removeChild(this._sprite),this._sprite.texture&&this._sprite.texture.destroy(),this._sprite.destroy(),this._sprite=void 0)},e.prototype.useNativeAudio=function(){var t,e;return null===(e=null===(t=this.stage)||void 0===t?void 0:t.config)||void 0===e?void 0:e.vfvars.useNativeAudio},e.prototype.nativeEmit=function(t,e){var i;null===(i=this.stage)||void 0===i||i.getSystemEvent().emit("message",{code:"native",type:"native",level:"command",target:this,data:{type:e,src:t,mode:"sound",signalling:!1}})},e.prototype.release=function(){t.prototype.release.call(this),this.useNativeAudio()&&this.nativeEmit(this._audio,"pauseAudio"),this._src=null,this._oldSrc=null,this._canvasBounds=void 0,this._lastRenderer=void 0,this._resolution=1,this._poster=this._oldPoster="",a.VideoGroupController.unRegistrerVideoGroup(this),this._canplayFun=null,this.clearSource(),this.clearPoster(),this.clearSprite(),this.clearVideo(),this.clearVideoBtn(),this._canplaythroughFun=null,this._completeFun=null,this._endedFun=null,this._loadeddataFun=null,this._durationchangeFun=null,this._firstLoad=!1,this._fullStates="noFull",this._canPlay=!1,this._elemDraw=!1,this._canPlayFirst=!1},e}(o.DisplayObject);e.Video=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoBtn=void 0;var o=i(7),s=i(40),a=i(41),h=i(14),l=i(1),u=function(t){function e(){var e=t.call(this)||this;return e._states="pause",e.updateDisplayList(),e}return r(e,t),e.prototype.setStates=function(t){this._states=t,this.updateDisplayList()},e.prototype.updateDisplayList=function(){switch(this.initBgCircle(),this.initTrangle(),this.initLine(),this._states){case"play":this.refreshPlay();break;case"pause":this.refreshPause()}},e.prototype.refreshPlay=function(){this._rect1&&(this._rect1.visible=!0),this._rect2&&(this._rect2.visible=!0)},e.prototype.refreshPause=function(){this._thumbTriangle&&(this._thumbTriangle.visible=!0)},e.prototype.initBgCircle=function(){this._bgCircle||(this._bgCircle=new s.Circle,this._bgCircle.color=15695697,this.on(l.TouchMouseEvent.onHover,this.onHover,this),this.addChild(this._bgCircle)),this._bgCircle.width=this.width,this._bgCircle.height=this.height},e.prototype.onHover=function(t,e,i){e.style.cursor=i?"pointer":""},e.prototype.initTrangle=function(){this._thumbTriangle||(this._thumbTriangle=new a.Star,this._thumbTriangle.color=16777215,this._thumbTriangle.triangleNum=3,this._thumbTriangle.rotation=90,this._thumbTriangle.anchorX=.5,this._thumbTriangle.anchorY=.5,this.addChild(this._thumbTriangle)),this._thumbTriangle.visible=!1,this._thumbTriangle.x=.87*this.width,this._thumbTriangle.y=.13*this.width,this._thumbTriangle.width=this._thumbTriangle.height=.5*this.width},e.prototype.initLine=function(){this._rect1||(this._rect1=new h.Rect,this._rect1.color="0xffffff",this.addChild(this._rect1)),this._rect1.width=.1*this.width,this._rect1.height=.3*this.width,this._rect1.x=.35*this.width,this._rect1.y=.35*this.width,this._rect1.visible=!1,this._rect2||(this._rect2=new h.Rect,this._rect2.color="0xffffff",this.addChild(this._rect2)),this._rect2.width=.1*this.width,this._rect2.height=.3*this.width,this._rect2.x=.55*this.width,this._rect2.y=.35*this.width,this._rect2.visible=!1},e.prototype.release=function(){this._bgCircle&&(this._bgCircle.parent&&this._bgCircle.parent.removeChild(this._bgCircle),this._bgCircle.release(),this._bgCircle=void 0),this._thumbTriangle&&(this._thumbTriangle.parent&&this._thumbTriangle.parent.removeChild(this._thumbTriangle),this._thumbTriangle.release(),this._thumbTriangle=void 0),this._rect1&&(this._rect1.parent&&this._rect1.parent.removeChild(this._rect1),this._rect1.release(),this._rect1=void 0),this._rect2&&(this._rect2.parent&&this._rect2.parent.removeChild(this._rect2),this._rect2.release(),this._rect2=void 0),this.off(l.TouchMouseEvent.onHover,this.onHover,this),t.prototype.release.call(this)},e}(o.Container);e.VideoBtn=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectLine=e.play=void 0;var o=i(2),s=i(1),a=i(0),h=i(6);e.play=Symbol("play");var l=function(t){function i(){var e=t.call(this)||this;return e._lastStartPos={x:NaN,y:NaN},e._lastEndPos={x:NaN,y:NaN},e._play=1,e._autoPlay=!0,e._sourcePostion=[0,0],e._targetPostion=[0,0],e._lineColor=16777215,e._lineWidth=1,e._isAnimation=!1,e._speed=500,e.line=new vf.Graphics,e.container.addChild(e.line),e}return r(i,t),Object.defineProperty(i.prototype,"play",{get:function(){return this._play},set:function(t){this.$values[e.play]=!0,this._play=t,this.invalidateDisplayList()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoPlay",{get:function(){return this._autoPlay},set:function(t){this._autoPlay=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(t){this._source!==a.getDisplayObject(t,this)&&(this._source=a.getDisplayObject(t,this),this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sourcePostion",{get:function(){return this._sourcePostion},set:function(t){this._sourcePostion!==t&&(this._sourcePostion=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"target",{get:function(){return this._target},set:function(t){this._target!==a.getDisplayObject(t,this)&&(this._target=a.getDisplayObject(t,this),this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"targetPostion",{get:function(){return this._targetPostion},set:function(t){this._targetPostion!==t&&(this._targetPostion=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineColor",{get:function(){return this._lineColor},set:function(t){if(this._lineColor!==t){var e=16777215;e=a.hexToInt(t,e),this._lineColor=e,this.invalidateProperties(),this.invalidateDisplayList()}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth!==t&&(this._lineWidth=t,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isAnimation",{get:function(){return this._isAnimation},set:function(t){this._isAnimation!==t&&(this._isAnimation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed!==t&&(this._speed=t)},enumerable:!1,configurable:!0}),i.prototype.commitProperties=function(){this.line.lineStyle(this.lineWidth,this.lineColor,this.alpha)},i.prototype.getLocalPos=function(t,e){var i={x:0,y:0};if(e){0===e.container.position.x&&0===e.container.position.y&&e.validateNow();var n=this.container.parent.toLocal(e.container.position,e.container.parent);switch(t){case"leftTop":i=a.pointPlus(n,{x:0,y:0});break;case"leftCenter":i=a.pointPlus(n,{x:0,y:e.height>>1});break;case"leftBottom":i=a.pointPlus(n,{x:0,y:e.height});break;case"centerTop":i=a.pointPlus(n,{x:e.width>>1,y:0});break;case"center":i=a.pointPlus(n,{x:e.width>>1,y:e.height>>1});break;case"centerBottom":i=a.pointPlus(n,{x:e.width>>1,y:e.height});break;case"rightTop":i=a.pointPlus(n,{x:e.width,y:0});break;case"rightCenter":i=a.pointPlus(n,{x:e.width,y:e.height>>1});break;case"rightBottom":i=a.pointPlus(n,{x:e.width,y:e.height});break;default:i.x=n.x+t[0],i.y=n.y+t[1]}}else Array.isArray(t)&&(i.x=t[0],i.y=t[1]);return i},i.prototype.updateDisplayList=function(t,i){var n=this,r=n._source,o=n._target,s=n._sourcePostion,a=n._targetPostion,h=n._lastStartPos,l=n._lastEndPos,u=(n.line,this.getLocalPos(s,r)),c=this.getLocalPos(a,o);h.x===u.x&&h.y===u.y&&l.x===c.x&&l.y===c.y||(this._lastStartPos=u,this._lastEndPos=c,this._autoPlay&&this.animation()),!0!==this.$values[e.play]||this._autoPlay||(this.$values[e.play]=!1,this.animation())},i.prototype.animation=function(){var t=this,e=this._play,i=this.line,n=1===e?this._lastStartPos:this._lastEndPos,r=1===e?this._lastEndPos:this._lastStartPos;if(i.removeChildren(),!this.isAnimation)return i.moveTo(n.x,n.y),i.lineTo(r.x,r.y),void this.emit(s.ComponentEvent.COMPLETE,this);var o=a.pointDistance(n,r),l={x:n.x,y:n.y},u={dt:o},c=new h.Tween({dt:0}).to(u,this._speed).on(h.Tween.Event.update,(function(t){var e=Math.ceil(t.dt),s=e*(r.x-n.x)/o+n.x,a=e*(r.y-n.y)/o+n.y;i.moveTo(l.x,l.y),i.lineTo(s,a),l.x=s,l.y=a})).once(h.Tween.Event.complete,(function(e){c.removeAllListeners(),c.release(),t.emit(s.ComponentEvent.COMPLETE,t)})).start();this._tw=c},Object.defineProperty(i.prototype,"isClear",{set:function(t){this.clear()},enumerable:!1,configurable:!0}),i.prototype.clear=function(){var t=this.line;t&&t.clear(),this.commitProperties()},i.prototype.release=function(){t.prototype.release.call(this),this._tw&&this._tw.release(),this._tw=void 0,this._source=void 0,this._target=void 0;var e=this.line;e&&e.clear&&(e.clear(),e.parent&&e.parent.removeChild(e).destroy()),this.offAll(s.ComponentEvent.COMPLETE)},i}(o.DisplayObject);e.ConnectLine=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Tracing=void 0;var o=i(2),s=i(1),a=i(0),h=i(0),l=i(6),u="$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}";function c(t,e){t=Math.min(Math.max(0,t),1500),e=Math.min(Math.max(0,e),1500);var i=Math.floor(t/2),n=Math.floor(e/2),r=i%90,o=n%90,s=10*Math.floor(i/90)+Math.floor(n/90);return u[r]+u[o]+u[s]}var p=function(t){function e(){var e=t.call(this)||this;return e._renderMode=0,e._realTraceIndexArr=[],e._tempTraceIndexArr=[],e._lineStyle={},e._posCache=[],e._drawing=!1,e._lastLocalPos=new vf.Point,e._curLocalPos=new vf.Point,e._autoComplete=!1,e._curIndex=-1,e._tracePointObjArr=[],e._result=0,e._groupStatusArr=[],e._lineId=0,e._newLineFlag=!0,e._pointId=0,e._messageCache=[],e._strictFlag=!0,e._fillIndex=0,e._debug=!1,e._mode=0,e._tracePoints=[],e._lineWidth=10,e._lineColor=16711680,e._precision=20,e._posLength=2,e._lines=new Map,e.clickEvent=new s.ClickEvent(e,!0),e.clickEvent.isOpenLocalPoint=!0,vf.utils.deprecation("1.0.0","组件已废弃，请使用插件TracingPlug"),e}return r(e,t),Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(t){if(this._debug=t,this._tracePointObjArr.length>0){var e=new vf.Graphics;this.container.addChild(e),this._tracePointObjArr.forEach((function(t){e.beginFill(65280),e.drawCircle(t.point.x,t.point.y,5),e.endFill()}))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode!==t&&(this._mode=t,3!=t&&1!=t||(this._renderMode=0,this.removeRenderBgSprite()),this.clear())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"traceSprite",{get:function(){return this._traceSprite},set:function(t){this._traceSprite=t,this.setTraceSprite()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderBgSprite",{get:function(){return this._renderBgSprite},set:function(t){this._renderBgSprite=t,3!==this.mode&&1!==this.mode&&(this._renderMode=1,this.setRenderBgSprite())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tracePoints",{get:function(){return this._tracePoints},set:function(t){var e=this;this._tracePoints=t;var i=0;if(this._groupStatusArr=[],this._tracePoints.forEach((function(t,n){var r={flag:!1,points:[]};e._groupStatusArr.push(r),t.forEach((function(t){r.points.push(i++),e._tracePointObjArr.push({flag:!1,point:new vf.Point(t.x,t.y)})}))})),this.debug){var n=new vf.Graphics;this.container.addChild(n),this._tracePointObjArr.forEach((function(t){n.beginFill(65280),n.drawCircle(t.point.x,t.point.y,5),n.endFill()}))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.setLineStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineColor",{get:function(){return this._lineColor},set:function(t){this._lineColor=t,this.setLineStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"precision",{get:function(){return this._precision},set:function(t){this._precision=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineTexture",{get:function(){return this._lineTexture},set:function(t){this._lineTexture=t,this.setLineStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineOpacity",{get:function(){return this._lineOpacity},set:function(t){this._lineOpacity=t,this.setLineStyle()},enumerable:!1,configurable:!0}),e.prototype.setLineStyle=function(){this._lineStyle={width:this.lineWidth,color:this.lineColor,texture:this.lineTexture,alpha:this.lineOpacity}},e.prototype.setTraceSprite=function(){var t,e=this.container,i=this.traceSprite,n=h.getTexture(i);try{t=new vf.Sprite(n)}catch(e){t=vf.Sprite.from(n)}t&&null==t.parent&&e.addChild(t)},e.prototype.setRenderBgSprite=function(){var t,e=this.container,i=this.renderBgSprite,n=h.getTexture(i);try{t=new vf.Sprite(n)}catch(e){t=vf.Sprite.from(n)}t&&null==t.parent&&(e.addChild(t),this._bgSprite=t);var r=this.getGraphics("mask",this._lineStyle);this._bgSprite.mask=r},e.prototype.removeRenderBgSprite=function(){this._bgSprite&&this.container.removeChild(this._bgSprite)},e.prototype.start=function(){var t=this;2===this.mode?setTimeout((function(){t.auto()}),1e3):1===this.mode&&(this._guideSprite||(this._guideSprite=vf.Sprite.from("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAyCAYAAADImlLUAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAClpJREFUeJzdmQdU1FcWxmWGYUDqUKUFESlDFxAECxiNgg1EjYghUYMaNW7QjRvbYhTLYpSQ2HBtRDREsMW2rEYRD0SjxFiiRowr0hQEpA11xrv3vmEIZWAGs8I5+855B5hh3vu97333vvv+06fP/0NTUVVVNRrk6WjsOdjfyMNrqKHbIJs+KhyV3uaS21S4XBVDV3dnhE028fIutho2QmzpN7ze2Ms7z9jDa5OBq7tJbzN2aASMsE/Mh/hB3IGDcO3WHbhyPRsWfb4eTAb7AC4mA1U3723OloYqcxDqG4I7lZ4B7dvW/Yky8GQ9OzuN3uZlTc9eaIU2ePRR9DqobnjVAZpa4vETYDXcX4Jqx/U2L2t6dg5OaI282D2JUCKSgDzsapEIZv1tBSlepe/s6tu7xCocjnZ/a2dU+vGnsVuhsFoMtU3y1b7zMAdcx00gm2Ry1dXVehNala9vYIkgv4yc+T6DLq2VgFgOt1gigVVx8czfAgfHYb2XChEaA9HI0N1jO8GcybrBwCvrJXLVluBiRkXMIrWzDFxcbVsPpWlmbo25PQzHWYn9c9y9KPpb4OhkTe9rW1kZ42LdBQ5CZ76+vuGfgVbpw+Fooq+DcKKaeaujGfSzGjE0yJMb26mL6UxtBNrKUVPjCeyFNvj7KXqtn/cQsPQbBgP8R4KF71D2N77ehAt4Ru+37rjwm0bug6YauroZdxeag9Aaanp6A/AQuUST3fpPIQOvqJcflA2NTRA4+0OaON/I3SMOgZ64jZsIC/6+BlLOpcGNO3fg1v0HcP32bTh16TIsXhsDtiNHg5mPL3z2RRzEJybB8i+2QOCsD2mBDfj5bDwnJncvnSI4WsQAt9cfQepXxH0Nj19UQxGqXdUg3ybns66C+4RJBC6hn4+e5sv9P2q19Q2wLekwU3fSvAVQ+rKCvV4tqoWjaedh+PRweq8Sy4ct3bIIQutg3WGJyqWQ2kcuZLTYpEkO9yvcgtjdexkIqf5KvpP+2J0mMYyPnMf+P2bHLoyNPz5QUFwCoQsWsff0nVzClAfncNQQ3FjD2MSNvB04ey78XlLFwCl3y2svyl/C6IgP2GT/PJLaNTW2opIX4BM6jVnlMpYIrVtxaRksiF5LY9UYKH0OSAOyL6pthkF10sb/bfGZrGwGTZ1OyvZiklgHjp1gQecVHIoWyVMIfi4jExzHBELQnLlQWSNqM9bDJ0/Zexiglw2cXZQo0Aha6m09nQED38EP3otYtqJF7SLsNY0dPVBTWwfbDh5mWSJgxkycOLdLaAnmzAPHTsLgkFC4cfdeh/f3owiothj9/SlVnkoKztVAtS3Q29tdgsZDyoUrLWoXo00kcrxbhQHlN206swllh0axuEtwUV0dXMUqknzevpVUiliAU0YRCB31lbUJjzIJHu3DsB4ppCCTQVN/LhLLDTraWprMDEvbDbt2dwndvtFwVDrQSUxzfJ/xo6w4W6octFRtTebtQZ7fknrpN++1Aa/o5LS8m/MYPCaGMMXTf7qhFDBlprI6SZvxc8trYdL8haR2jbaVta6y1JRJBHjkTscPlixcu6HNoJS/6+QUVbQDmT//AjM+WQoZ17uGpsOWgvt5jbjN2LK+PfkomHr7Aqo9qztqa/Q1NXPFTHIatwoe5Be3tQlOVt9JNSiWZ/xWjQKabCYPVtav/fYEKKaoPCAY5agxb+O9MAq3upG2e3HMJiiobOwA3thJfSKvUS1TVivpElbW8yrqIXThX1jexl3XUqqi1DS31Me0d91t/ESWnuxGvQOXfv61w+AE3ln9LWuNqHx5nXKwrXvSmX9LT0lHp9GsRlLgDRV9R2e66BZFroyG2L2JLA+v27VH7uAETlve/rinTaDXixVYobP+qKiMVYyYfqP6cLg8RdA8rJWDrEcEiL86nMIOmNFYQ/tNC4PbucWdTkLwlLYou5CyBFv0GrCte0D4e+hrz0Pab1kpOCERWl/oNM1h9BhIPJ3GPnwQt4qOa/r5ZyC628OiltKxfkUgdLJTBM03dHOf6zgmCA796yL7MKlNRRQtJOd5ZY9BL163kaDv6dkLvbv2NWYOzNFhFHz7Tp5tGWDnd8eYtymH9hT08q3xdMj8jke6ryJodYQebz7Erz4mYV/LANmP8sAzeDJWaJE9Br1kYywp/RvyDOkaGj2ta2vnSbXH+1jpyQYoqGqCHajy3FXRPQb93l8/Y57WtbF1VgTNVzcwNKc87Tg2CAqrGnoMsn0fERZOKS8JeSwVKk2VHl42N1Fyb12e9mS/eON28xXM+WPiUQTNweNeS2AvDMYgyJ8fva7HgXPL62ARFmoErWdnH0x32K6PcunVS52no2uN9UcsFUwn0rNwsKYeg05OuwT9hwewbIU2vYO7HqS4/pA9VrCw9KaiZcwHc+B+QWmPAD98XgHBH0lv53NWrGLPSxD8Et7UBYqgZRddU0NXt+U0QPjSZWzANwn8oLAMD7FIVnPE7NwNlaJ6WI8/pTcZ9yldQ0vB1dDb9DzECovxvQjeMBavXzcfF7wR4PsIHBAegcr6wbLYLVBWJWLQu79LhYEBb7/SFzpOpWePCi1C3kZoEzVdPWf01RbM3ZXeIVNg3/HTcOtJ0f8s6BJPpcHYWZHsmUjMjgTIe17KgItKX8IIvOVjQsjFXO2mGFoKzsVONumnqqnpgLXtHPTXI7rADn13Bhw+dwGeloleG/he/gtYtvlLFnT0fc+JH9IZrKyvivuaeRsF24wMhspBS8F5zeAmZBUNI2MftEsCrZ6imy4KK7/cDqczr7NLqTKwP+F1KnpbAivASIDIFash69bdFtji8krYmLCXBSHO9Y2GiYmb4rTXEZwCk9/scQsOj2eDlnHDy8ISvMelUoYhRah8DVnwMaxBoJQfrsDF7Lusn/0xG776NhWiNsSC79R3WSojoHmr10Ba5lWoqKlrAc7JK4SZGPTscbK7RzLNRYJRIac8sAxa2vnNDytJ9be4Ghp2qIKPwEE4GxWJxwVcpgMJ1Wugi6n35Kmse04KAbxUoGdHwTC01TysX5K+PwtPn71oAS6vroUzGZkwIXI+mPsOrUHgo337mQ6hDIZiaSu+cnUOz2E+57DMokW5nC2Ax7MiRVQ1tZy0LCxH6Q60jcBJD6Fa1YMxcGmrj6Nfr93+FXKLiqGilW/JCgRLDyBxpyQYMw/w6F7C09YRNgNr4XxK3siVU5/PHqVxuQI2gaqqGfmeo6ZmT943GuR5kjLC5j372wSYrF/FRazdthOcxo5r/nbA67zOAJsQ/LwtG4vDfPyaCiteAO2AGkuR5HvpDlioGxp5omXSCYiU3Jd6HHYlH4FP1v+DVXDNX2XU4uJS9WztI2ix9JycHjtTDL05YPmL4DP7oFp9Tc38ECpZFqz0VBTz/Uv0fg6msngd6wGBHD6fYK1ooc1ZQsHt+82Dm2OmcdG1GThFYO8wF6u2OQgajEHmS8piLFgzK9DuoNV6Vt3OwbXpaz/mdQzW5hTWnylLr3O5uvRlVe/Dtm5Sv/Obva7LOv0uVbXbvv0vybmCZrgGsxMAAAAASUVORK5CYII=")),setTimeout((function(){t.container.removeChild(t._guideSprite),t.container.addChild(t._guideSprite),t.guide()}),1e3))},e.prototype.guide=function(){var t=this,e=this._guideSprite;if(this._pointId>=this.tracePoints[this._lineId].length)return this._newLineFlag=!0,e.visible=!1,this._pointId=0,clearTimeout(this._guideTime),void(this._guideTime=setTimeout((function(){t.guide()}),3e3));var i=this.tracePoints[this._lineId][this._pointId++];this._newLineFlag&&(e.visible=!0,this._newLineFlag=!1,this._lastLocalPos.set(i.x,i.y),i=this.tracePoints[this._lineId][this._pointId++]),this._curLocalPos.set(i.x,i.y),this.playGuideAnimal()},e.prototype.playGuideAnimal=function(){var t=this,e=a.pointDistance(this._lastLocalPos,this._curLocalPos),i=this._lastLocalPos.clone(),n=this._curLocalPos.clone(),r=this._curLocalPos.clone();this._lastLocalPos.copyFrom(this._curLocalPos);var o={dt:e};this._tween=new l.Tween({dt:0}).to(o,500).on(l.Tween.Event.update,(function(o){var s=Math.ceil(o.dt),a=s*(n.x-i.x)/e+i.x,h=s*(n.y-i.y)/e+i.y;r.set(a,h),t._guideSprite.x=a,t._guideSprite.y=h})).once(l.Tween.Event.complete,(function(e){t._tween&&(t._tween.removeAllListeners(),t._tween.release()),t.guide()})).start()},e.prototype.clearGuide=function(){clearTimeout(this._guideTime);var t=this._guideSprite;t&&(t.visible=!1),this._newLineFlag=!0,this._pointId=0,this._tween&&this._tween.release()},e.prototype.auto=function(){var t=this.autoNextPoint();this._newLineFlag&&(this._newLineFlag=!1,this._lastLocalPos.set(t.x,t.y),this._posCache=[],this._posCache.push(this._lastLocalPos.clone()),t=this.autoNextPoint()),this._curLocalPos.set(t.x,t.y),this._autoComplete?this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:3}):this.drawWithAnimation()},e.prototype.drawWithAnimation=function(){var t=this,e=a.pointDistance(this._lastLocalPos,this._curLocalPos),i=this._lastLocalPos.clone(),n=this._curLocalPos.clone(),r=this._curLocalPos.clone();this._lastLocalPos.copyFrom(this._curLocalPos);var o={dt:e};this._tween=new l.Tween({dt:0}).to(o,500).on(l.Tween.Event.update,(function(o){var s=Math.ceil(o.dt),a=s*(n.x-i.x)/e+i.x,h=s*(n.y-i.y)/e+i.y;r.set(a,h),t._posCache.push(r.clone());var l=t.getGraphics(t._lineId.toString(),t._lineStyle);t.localDraw(l)})).once(l.Tween.Event.complete,(function(e){t._tween.removeAllListeners(),t._tween.release();var i=t._posCache.length;i>t._posLength&&(t._posCache=t._posCache.slice(i-t._posLength,i-1)),t.auto()})).start()},e.prototype.autoNextPoint=function(){if(this._pointId>=this.tracePoints[this._lineId].length&&(this._newLineFlag=!0,this._lineId++,this._pointId=0,this._lineId>=this.tracePoints.length))return this._autoComplete=!0,this._pointId=0,this._lineId=0,{x:0,y:0};var t=this.tracePoints[this._lineId][this._pointId];return this._pointId++,t},e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i),this.container.hitArea=new vf.Rectangle(0,0,this.width,this.height)},e.prototype.$onInit=function(){this.clickEvent.getTarget().on(s.TouchMouseEvent.onPress,this.onPress,this),this.clickEvent.getTarget().on(s.TouchMouseEvent.onMove,this.onMove,this),this.setLineStyle()},e.prototype.$onRelease=function(){this.clickEvent.getTarget().off(s.TouchMouseEvent.onPress,this.onPress,this),this.clickEvent.getTarget().off(s.TouchMouseEvent.onMove,this.onMove,this),this.clickEvent.remove()},e.prototype.checkTrace=function(t){var e=this;if(0!=this.tracePoints.length){this._curIndex=-1;for(var i=0;i<this._tracePointObjArr.length;++i)if(!this._tracePointObjArr[i].flag&&a.pointDistance(t,this._tracePointObjArr[i].point)<this.precision){this._tracePointObjArr[i].flag=!0,this._curIndex=i;break}-1!==this._curIndex&&(0!==this._realTraceIndexArr.length||0!==this._curIndex?(this._curIndex===this._realTraceIndexArr[this._realTraceIndexArr.length-1]+1?(this._realTraceIndexArr.push(this._curIndex),this._tempTraceIndexArr.forEach((function(t){e._tracePointObjArr[t].flag=!1})),this._tempTraceIndexArr=[]):(this._tempTraceIndexArr.push(this._curIndex),this._tempTraceIndexArr.length>3&&(this._realTraceIndexArr=this._realTraceIndexArr.concat(this._tempTraceIndexArr),this._tempTraceIndexArr=[])),this.debug&&console.log("实际轨迹：",this._realTraceIndexArr,"暂存区：",this._tempTraceIndexArr,"result:",this._result)):this._realTraceIndexArr.push(this._curIndex))}else this._result=1},e.prototype.checkTemp=function(){var t=this;if(!(this._tempTraceIndexArr.length<2)){var e=[];this._tempTraceIndexArr.forEach((function(i){t._groupStatusArr.forEach((function(t,n){-1!==t.points.indexOf(i)&&e.push(n)}))})),1===new Set(e).size?(this._realTraceIndexArr=this._realTraceIndexArr.concat(this._tempTraceIndexArr),this._tempTraceIndexArr=[]):(this._tempTraceIndexArr.forEach((function(e){t._tracePointObjArr[e].flag=!1})),this._tempTraceIndexArr=[])}},e.prototype.checkResult=function(){var t=this;if(0!==this._realTraceIndexArr.length)if(this._realTraceIndexArr.length+this._tempTraceIndexArr.length==this._tracePointObjArr.length){this._realTraceIndexArr=this._realTraceIndexArr.concat(this._tempTraceIndexArr),this._tempTraceIndexArr=[],this._result=1;var e=-1;this._realTraceIndexArr.forEach((function(i){i>e?e=i:t._result=2})),this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:this._result})}else{if(this._result=0,0!=this._realTraceIndexArr[0])this._result=2;else{var i=-1;this._realTraceIndexArr.forEach((function(e){e<i?t._result=2:i=e}))}0!=this._result&&this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:this._result})}},e.prototype.checkStrictFirstPoint=function(t){var e=this._groupStatusArr[this._lineId].points[0];return a.pointDistance(t,this._tracePointObjArr[e].point)<=this.precision},e.prototype.checkStrict=function(){var t=this,e=!0;if(1!=this._lineId&&this._realTraceIndexArr.shift(),this._realTraceIndexArr.length!=this._groupStatusArr[this._lineId-1].points.length)e=!1;else for(var i=0;i<this._groupStatusArr[this._lineId-1].points.length;++i)if(this._realTraceIndexArr[i]!=this._groupStatusArr[this._lineId-1].points[i]){e=!1;break}if(e||(this._lineId--,this._realTraceIndexArr.forEach((function(e){t._tracePointObjArr[e].flag=!1})),this.removeLine(this._lineId.toString())),this._lineId<this._groupStatusArr.length){if(this._realTraceIndexArr=[],0!=this._lineId){var n=this._groupStatusArr[this._lineId].points[0]-1;this._realTraceIndexArr.push(n)}}else this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:3});return e},e.prototype.checkFill=function(t,e){if(void 0===e&&(e=!1),!(this._fillIndex>=this._tracePointObjArr.length)){var i=this._tracePointObjArr[this._fillIndex].point;if(a.pointDistance(t,i)<=this.precision){if(!e){var n={mode:this.mode,fillIndex:this._fillIndex,lineIndex:this._lineId,pointIndex:this._pointId,complete:!1};this.emit(s.ComponentEvent.CHANGE,this,JSON.stringify(n))}this._fillIndex++,this._fillIndex>=this._tracePointObjArr.length?this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,complete:!0}):this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,complete:!1,fillIndex:this._fillIndex-1,lineIndex:this._lineId,pointIndex:this._pointId}),this._posCache.push(i);var r=this.getGraphics(this._lineId.toString(),this._lineStyle);this.localDraw(r),this._pointId>=this._groupStatusArr[this._lineId].points.length-1?(this._pointId=0,this._lineId++,this._posCache=[]):this._pointId++}}},e.prototype.checkTeach=function(){var t=this,e=!0;if(1!=this._lineId&&this._realTraceIndexArr.shift(),this._realTraceIndexArr.length!=this._groupStatusArr[this._lineId-1].points.length)e=!1;else for(var i=0;i<this._groupStatusArr[this._lineId-1].points.length;++i)if(this._realTraceIndexArr[i]!=this._groupStatusArr[this._lineId-1].points[i]){e=!1;break}if(e||(this._lineId--,this._realTraceIndexArr.forEach((function(e){t._tracePointObjArr[e].flag=!1})),this.removeLine(this._lineId.toString())),this._lineId<this._groupStatusArr.length){if(this._realTraceIndexArr=[],0!=this._lineId){var n=this._groupStatusArr[this._lineId].points[0]-1;this._realTraceIndexArr.push(n)}this.guide()}else this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:3});return e},e.prototype.drawLine=function(t,e,i,n,r){console.log("drawLine----",t);var o=this.getGraphics(t,r),s=function(t,e,i){for(var n=[],r=e;r<i;r+=3){var o=t.charCodeAt(r)-36,s=t.charCodeAt(r+1)-36,a=t.charCodeAt(r+2)-36,h=2*(o+90*Math.floor(a/10)),l=2*(s+90*(a%10));n.push(h),n.push(l)}return n}(e,i,n);this.draw(o,s)},e.prototype.draw=function(t,e){var i=e[0]-750,n=e[1]-750;t.moveTo(i,n);for(var r=[],o=2;o<e.length;o+=2){var s=i+.5*((u=e[o]-750)-i),a=n+.5*((c=e[o+1]-750)-n);r.push(s,a,u,c),i=u,n=c}t.lineTo(r[0],r[1]);for(o=2;o<r.length-2;o+=4){var h=r[o],l=r[o+1],u=r[o+2],c=r[o+3];t.quadraticCurveTo(h,l,u,c)}t.lineTo(r[r.length-2],r[r.length-1])},e.prototype.localDraw=function(t){var e=this._posCache,i=e.length;i<2||(t.moveTo(e[i-2].x,e[i-2].y),t.lineTo(e[i-1].x,e[i-1].y))},e.prototype.onPress=function(t,e,i){if(t.stopPropagation(),2!==this.mode){var n=this.container.toLocal(t.local,e.container);if(i){if(3===this.mode){if(!this.checkStrictFirstPoint(n))return void(this._strictFlag=!1);this._strictFlag=!0}else if(1===this.mode)this.clearGuide();else if(4===this.mode)return void(this._drawing=!0);this._drawing=!0,this._lastLocalPos.copyFrom(n),this._posCache=[this._lastLocalPos.clone()],this.checkTrace(this._lastLocalPos)}else{if(4===this.mode)return void(this._drawing=!1);if(3===this.mode&&!this._strictFlag)return;if(1===this._posCache.length){var r=this._lastLocalPos.clone();r.set(r.x,r.y-7),this._posCache.push(r);var o=this.getGraphics(this._lineId.toString(),this._lineStyle);this.localDraw(o)}this._drawing=!1,this.checkTemp(),0===this.mode&&this.checkResult(),this.emitTracingMsg(0,this._lineId.toString(),this.getDataStrByPosCache(),this._lineStyle,this._realTraceIndexArr,this._tempTraceIndexArr,this._result),++this._lineId,1===this.mode?this.checkTeach():3===this.mode&&this.checkStrict()}}},e.prototype.onMove=function(t,e){if(t.stopPropagation(),4===this.mode&&this._drawing){var i=this.container.toLocal(t.local,e.container);this.checkFill(i)}else if(2!=this.mode&&this._drawing){i=this.container.toLocal(t.local,e.container);if(a.pointDistance(i,this._lastLocalPos)>=7){this._lastLocalPos.copyFrom(i),this._posCache.push(this._lastLocalPos.clone());var n=this.getGraphics(this._lineId.toString(),this._lineStyle);this.localDraw(n),this.checkTrace(this._lastLocalPos)}}},e.prototype.getGraphics=function(t,e){void 0===e&&(e={}),1===this._renderMode&&(t="mask");var i="line_"+t;if(this._lines.has(i))return this._lines.get(i);var n=new vf.Graphics;return n.interactive=!1,n.interactiveChildren=!1,n.name=i,this.container.addChild(n),this._lines.set(i,n),(e=a.deepCopy(e)).color=e.texture?16777215:e.color,e.texture=e.texture?h.getTexture(this.lineTexture):vf.Texture.WHITE,e.alpha=e.alpha?e.alpha:1,e.cap="round",e.join="round",0===this._renderMode?n.lineTextureStyle(e):n.lineTextureStyle({width:e.width,color:16711680}),n},e.prototype.getDataStrByPosCache=function(){var t=this._posCache;if(0==t.length)return"";for(var e=[t[0].x],i=[t[0].y],n=t[0],r=t[1],o=0,s=2;s<t.length;s++){var h=t[s],l=a.pointSub(r,n),u=a.pointSub(h,r),p=a.pointSignAngle(l,u);p>.09||p<-.09||o>.09||o<-.09?(e.push(r.x),i.push(r.y),o=0):o+=p,n=r,r=h}e.push(t[t.length-1].x),i.push(t[t.length-1].y);var d=[];for(s=0;s<e.length;s++){var f=c(e[s]+750,i[s]+750);d.push(f)}return d.join("")},e.prototype.emitTracingMsg=function(t,e,i,n,r,o,a){void 0===t&&(t=0),void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n={}),void 0===r&&(r=[]),void 0===o&&(o=[]),void 0===a&&(a=0);var h={operate:t,lineId:e,data:i,lineStyle:n,realTraceIndexArr:r,tempTraceIndexArr:o,result:a};this.emit(s.ComponentEvent.CHANGE,this,JSON.stringify(h))},e.prototype.onMessage=function(){var t=this._messageCache;if(t.length>0)for(;t.length>0;){var e=t.shift();if(4!=this.mode){var i=JSON.parse(e),n=i.operate,r=i.lineId,o=i.data,a=i.lineStyle,h=i.realTraceIndexArr,l=i.tempTraceIndexArr,u=i.result;switch(this._realTraceIndexArr=h,this._tempTraceIndexArr=l,this._lineId=parseInt(r),this._result=u,++this._lineId,1==this.mode?(this.clearGuide(),this.checkTeach()):3==this.mode?this.checkStrict():0!=this._result&&this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:this._result}),n){case 0:this.drawLine(r,o,0,o.length,a);break;case 1:this.clear();break;case 2:this.removeLine(r)}}else{var c=JSON.parse(e).fillIndex;if(c<this._tracePointObjArr.length){var p=this._tracePointObjArr[c].point;this.checkFill(p,!0)}}}},e.prototype.removeLine=function(t){console.log("removeLine----",t);var e=this.getGraphics(t);if(e.parent){e.parent.removeChild(e),e.destroy();var i="line_"+t;this._lines.delete(i)}},e.prototype.clear=function(){if(this._lines.forEach((function(t,e){t.parent&&(t.parent.removeChild(t),t.destroy())})),this._lines.clear(),1==this._renderMode){var t=this.getGraphics("mask",this._lineStyle);this._bgSprite.mask=t}this._fillIndex=0,this._lineId=0,this._pointId=0,this._realTraceIndexArr=[],this._tempTraceIndexArr=[],this._posCache=[],this._autoComplete=!1,this._newLineFlag=!0,this._result=0,this._tracePointObjArr.forEach((function(t){t.flag=!1})),this._tween&&this._tween.release(),this.clearGuide(),this.start()},e.prototype.commitProperties=function(){this.onMessage()},e.prototype.setData=function(t){"string"==typeof t?this._messageCache.push(t):this._messageCache=this._messageCache.concat(t),this.invalidateProperties()},Object.defineProperty(e.prototype,"source",{set:function(t){this.setData(t)},enumerable:!1,configurable:!0}),e}(o.DisplayObject);e.Tracing=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Animation=void 0;var n=i(42),r=i(86),o=function(){function t(){}return t.play=function(e,i,o,s,a){var h;switch(e){case"jitter":h=n.AnimationJitter;break;case"path":h=r.AnimationPath}var l=new h(i,o,s);return t._aniList.push(l),l&&(l.on("complete",(function(){t.removeItem(l),l.release(),a&&a()})),l.on("release",(function(){t.removeItem(l)})),l.play()),l},t.removeItem=function(e){if(t._aniList)for(var i=0;i<t._aniList.length;i++)if(t._aniList[i]===e)return void t._aniList.splice(i,1)},t.releaseAll=function(){if(t._aniList)for(var e=0;e<t._aniList.length;e++)t._aniList[e]&&t._aniList[e].release();t._aniList=[]},t._aniList=[],t}();e.Animation=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationPath=void 0;var o=i(43),s=i(87),a=i(3),h=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r.pathTimeline=new s.PathTimeline(i.path),r.pathTimeline.frames=i.frames,i.frames&&i.frames.length&&(r.pathTimeline.totalTime=i.frames[i.frames.length-1].time),r.pathTimeline.loop=!!i.loop,r}return r(e,t),e.prototype.play=function(e){void 0===e&&(e=0),!0!==this.playing&&t.prototype.play.call(this,e)},e.prototype.gotoAndStop=function(e){t.prototype.gotoAndStop.call(this,e)},e.prototype.updata=function(t){if(!1!==this.playing){this._currenTimer+=a.TickerShared.deltaMS;var e=this.pathTimeline,i=this.sprite;if(e){if(e.globalTime=this._currenTimer,i&&i.stage&&!i.stage.resumeStatusFlag){var n=e.curPos;i.x=n[0],i.y=n[1]}if(!e.loop&&this._currenTimer>=e.totalTime){n=e.curPos;i.x=n[0],i.y=n[1],this.complete()}}}},e.prototype.release=function(){this.pathTimeline&&(this.pathTimeline.release(),this.pathTimeline=null),t.prototype.release.call(this)},e}(o.AnimationBase);e.AnimationPath=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PathTimeline=void 0;var o=function(t){function e(e){var i=t.call(this)||this;return i.length=0,i.path=document.createElementNS("http://www.w3.org/2000/svg","path"),i.path.setAttribute("d",e),i.length=i.path.getTotalLength(),i}return r(e,t),Object.defineProperty(e.prototype,"curPos",{get:function(){if(this.path){var t=this.path.getPointAtLength(this._curValue*this.length);return[t.x,t.y]}return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){var t=this.path.getPointAtLength(this._curValue*this.length-1),e=this.path.getPointAtLength(this._curValue*this.length+1);return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},enumerable:!1,configurable:!0}),e.prototype.release=function(){this.path&&this.path.parentElement&&this.path.parentElement.removeChild(this.path),this.path=null,t.prototype.release.call(this)},e}(i(44).Timeline);e.PathTimeline=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateAudioGroupStates=e.unRegistrerAudioGroup=e.registrerAudioGroup=e._audioGroupObject=void 0;var n=i(45);e._audioGroupObject={groups:{},values:{}},e.registrerAudioGroup=function(t){var i=t.audioGroup;if(i||""===i){var n=e._audioGroupObject.groups[i];n||(n=e._audioGroupObject.groups[i]={}),n[t.uuid.toString()]=t,e._audioGroupObject.values[i]=t.uuid.toString()}},e.unRegistrerAudioGroup=function(t){if((t.audioGroup||""===t.audioGroup)&&e._audioGroupObject.groups[t.audioGroup]){delete e._audioGroupObject.groups[t.audioGroup][t.uuid.toString()];var i=!1;for(var n in e._audioGroupObject.groups[t.audioGroup]){n&&(i=!0);break}i||delete e._audioGroupObject.groups[t.audioGroup],e._audioGroupObject.values[t.audioGroup]=void 0}},e.updateAudioGroupStates=function(t){if(t.audioGroup||""===t.audioGroup){var i=e._audioGroupObject.groups[t.audioGroup];for(var r in i){var o=i[r];o!==t&&o.groupName===t.groupName&&o&&o.playerStates===n.PlayerStates.play&&o.stop()}e._audioGroupObject.values[t.audioGroup]=t.uuid.toString()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TweenEvent=e.TouchMouseEvent=e.InteractionEvent=e.ComponentEvent=void 0;var n=i(27);e.ComponentEvent=n;var r=i(17);Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return r.InteractionEvent}});var o=i(16);Object.defineProperty(e,"TouchMouseEvent",{enumerable:!0,get:function(){return o.TouchMouseEvent}});var s=i(12);Object.defineProperty(e,"TweenEvent",{enumerable:!0,get:function(){return s.TweenEvent}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TracingEnum=e.FollowLineEnum=void 0;var n=i(91);e.FollowLineEnum=n;var r=i(92);e.TracingEnum=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PathGraphics=e.ArrowType=void 0;var o,s=i(5),a=i(23),h=i(0);!function(t){t[t.None=0]="None",t[t.HollowCircle=1]="HollowCircle",t[t.FullCircle=2]="FullCircle",t[t.HollowRect=3]="HollowRect",t[t.FullRect=4]="FullRect",t[t.HollowArrow=5]="HollowArrow",t[t.FullArrow=6]="FullArrow",t[t.line=7]="line"}(o=e.ArrowType||(e.ArrowType={}));var l=function(t){function e(){var e=t.call(this)||this;return e._path="",e._pathData=[],e._beginPort=o.None,e._endPort=o.None,e._beginRotation=NaN,e._endRotation=NaN,e._isSvgPath=!0,e._graphicsBegin=new a.GraphicsCore,e.container.addChild(e._graphicsBegin),e._graphicsEnd=new a.GraphicsCore,e.container.addChild(e._graphicsEnd),e}return r(e,t),Object.defineProperty(e.prototype,"path",{get:function(){return this._path},set:function(t){this._path!==t&&(this._path=t,Array.isArray(t)?(this._isSvgPath=!1,this._pathData=t):(this._isSvgPath=!0,this._pathData=h.path2shapes(t)),this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beginPort",{get:function(){return this._beginPort},set:function(t){this._beginPort!==t&&(this._beginPort=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endPort",{get:function(){return this._endPort},set:function(t){this._endPort!==t&&(this._endPort=t,this.invalidateDisplayList())},enumerable:!1,configurable:!0}),e.prototype.drawGraph=function(){var t=this.graphics,e=this._graphicsBegin,i=this._graphicsEnd;if(t.clear(),e.clear(),i.clear(),this._lineWidth<0)console.log("属性错误，线宽小于0");else if(t.lineStyle(this._lineWidth,this._lineColor,this._lineAlpha,.5,!1,this.lineType),e.lineStyle(this._lineWidth,this._lineColor,this._lineAlpha),i.lineStyle(this._lineWidth,this._lineColor,this._lineAlpha),!(this._pathData.length<=0)){if(void 0!==this._color&&t.beginFill(this._color,this._fillAlpha),this.drawInfoData(),t.endFill(),this._beginPort!==o.None){var n=this._pathData[0][0];this._beginRotation=t.getLineRotation(this.getType(n),!0,n[0],n[1],n[6],n[7],n[2],n[3],n[4],n[5]),this.drawBeginPort()}if(this._endPort!==o.None){var r=this._pathData[this._pathData.length-1],s=r[r.length-1];this._endRotation=t.getLineRotation(this.getType(s),!1,s[0],s[1],s[6],s[7],s[2],s[3],s[4],s[5]),this.drawEndPort()}}},e.prototype.getType=function(t){return t[2]===t[4]&&t[3]===t[5]?"Q":"C"},e.prototype.drawInfoData=function(){var t=this,e=this.graphics,i={};this._pathData.map((function(n){n.forEach((function(n,r){r||(e.moveTo(Math.ceil(n[0]),Math.ceil(n[1])),i.x=Math.ceil(n[0]),i.y=Math.ceil(n[1])),"Q"===t.getType(n)?e.quadraticCurveTo(n[2],n[3],Math.ceil(n[6]),Math.ceil(n[7])):e.bezierCurveTo(n[2],n[3],n[4],n[5],Math.ceil(n[6]),Math.ceil(n[7])),i.x=Math.ceil(n[6]),i.y=Math.ceil(n[7])}))}))},e.prototype.drawBeginPort=function(){this.drawShape(this.beginPort,!0)},e.prototype.drawEndPort=function(){this.drawShape(this.endPort,!1)},e.prototype.drawShape=function(t,e){void 0===e&&(e=!0);var i=e?this._graphicsBegin:this._graphicsEnd,n=this._pathData,r=this._lineWidth,s=n[0],a=s[0];e||(a=(s=n[n.length-1])[s.length-1]);var h=e?new vf.Point(a[0],a[1]):new vf.Point(a[6],a[7]);i.x=h.x,i.y=h.y;var l,u,c,p=e?this._beginRotation:this._endRotation;switch(i.rotation=p,t){case o.FullRect:case o.HollowRect:t===o.FullRect&&i.beginFill(this.lineColor,this._fillAlpha),i.drawRect(5*-r,0,10*r,10*r),i.endFill();break;case o.FullCircle:case o.HollowCircle:t===o.FullCircle&&i.beginFill(this.lineColor,this._fillAlpha),i.drawCircle(5*-r,0,5*r),i.endFill(),i.rotation-=.5*Math.PI;break;case o.FullArrow:case o.HollowArrow:t===o.FullArrow&&i.beginFill(this.lineColor,this._fillAlpha),l=new vf.Point(5*-r,5*-r),u=new vf.Point(0,0),c=new vf.Point(5*r,5*-r),i.drawPolygonOne([l,u,c],!1),i.endFill();break;case o.line:i.moveTo(5*-r,0),i.lineTo(5*r,0)}},e.prototype.release=function(){this._path="",this._pathData=[],this._beginPort=o.None,this._endPort=o.None,this._beginRotation=NaN,this._endRotation=NaN,this._graphicsBegin.parent&&this._graphicsBegin.parent.removeChild(this._graphicsBegin).destroy(),this._graphicsEnd.parent&&this._graphicsEnd.parent.removeChild(this._graphicsEnd).destroy(),t.prototype.release.call(this)},e}(s.GraphBase);e.PathGraphics=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.Alert=void 0;var o=i(22),s=i(2),a=i(9),h=i(14),l=i(13),u=i(1),c=i(7),p=function(t){function e(){var e=t.call(this)||this;return e._title="",e._content="",e._buttons=[],e._imgButtons=[],e.autoShow=!1,e.autoRelease=!1,e.duration=0,e.textAlign="left",e.buttonWidth=80,e.buttonHeight=30,e.maskColor=0,e.maskOpacity=.1,e.backgroundColor=15658734,e.titleColor=0,e.contentColor=3355443,e.btnColors=[1071061,14540253,13697091,14540253],e.btnTextColors=[15658734,3355443,15658734,3355443],e._isShowing=!1,e._buttonsDisplays=[],e.visible=!1,e.scaleX=e.scaleY=.01,e.width=300,e.height=100,e}return r(e,t),e.show=function(t,i,n,r,o,s,a,h,l){void 0===n&&(n="center"),void 0===r&&(r=2e3);var u=new e;return u.title=s||"",u.content=i||"",u.buttons=a||[],u.duration=r||0,u.icon=o,u.autoShow=!0,u.textAlign=n,u.x=h||t.width/2,u.y=l||t.height/2,t.addChild(u),u},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t,this.invalidateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t,this.invalidateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buttons",{get:function(){return this._buttons},set:function(t){this._buttons=t,this.invalidateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imgButtons",{get:function(){return this._imgButtons},set:function(t){this._imgButtons=t,this.invalidateProperties()},enumerable:!1,configurable:!0}),e.prototype.commitProperties=function(){this.initDisplay(),this.autoShow&&this.show()},e.prototype.initDisplay=function(){var t=this,e=new h.Rect;e.color=this.maskColor,e.alpha=this.maskOpacity,e.width=e.height=2e3,e.anchorX=e.anchorY=.5,e.interactabled=!0,e.on(u.TouchMouseEvent.onPress,(function(){})),this.addChild(e),void 0!==this.background&&""!==this.background?(this._bgDisplay=new a.Image,this._bgDisplay.src=this.background):(this._bgDisplay=new h.Rect,this._bgDisplay.color=this.backgroundColor,this._bgDisplay.radius=10),this._bgDisplay.anchorX=.5,this._bgDisplay.anchorY=.5,this.addChild(this._bgDisplay),void 0!==this.icon&&""!==this.icon&&(this._iconDisplay=new a.Image,this._iconDisplay.src=this.icon,this._iconDisplay.anchorX=this._iconDisplay.anchorY=.5,this._iconDisplay.width=50,this._iconDisplay.height=50,this.addChild(this._iconDisplay)),this.title&&(this._titleDisplay=new o.Label,this._titleDisplay.text=this.title,this.addChild(this._titleDisplay),this._titleDisplay.style.fontSize=20,this._titleDisplay.color=this.titleColor,this._lineDisplay=new h.Rect,this._lineDisplay.width=this.width-40,this._lineDisplay.height=2,this._lineDisplay.color=this.titleColor,this._lineDisplay.anchorY=this._lineDisplay._anchorX=.5,this._lineDisplay.alpha=.2,this.addChild(this._lineDisplay)),this.content&&(this._contentDisplay=new o.Label,this._contentDisplay.text=this.content,this._contentDisplay.color=this.contentColor,this._contentDisplay.style.fontSize=19,this._iconDisplay?(this._contentDisplay.style.wordWrap=!0,this._contentDisplay.style.wordWrapWidth=this.width-60-80):(this._contentDisplay.style.wordWrap=!0,this._contentDisplay.style.wordWrapWidth=this.width-60),this.addChild(this._contentDisplay)),this.imgButtons.length>0?this.imgButtons.forEach((function(e,i){var n=new c.Container;t.addChild(n);var r=new a.Image;if(r.src=e.btnNormal,n.addChild(r),r.id=i+"_imgButton",r.interactabled=!0,r.anchorY=r.anchorX=.5,r.width=t.buttonWidth,r.height=t.buttonHeight,t._buttonsDisplays.push(r),r.on(u.TouchMouseEvent.onHover,t.onHover,t),r.on(u.TouchMouseEvent.onPress,t.onPress,t),r.on(u.TouchMouseEvent.onClick,t.onClick,t),e.text){var s=new o.Label;s.text=e.text,s.style.fontSize=20,s.color=t.btnTextColors[i],n.addChild(s),s.pivotX=s.width/2,s.pivotY=s.height/2,r.width<s.width+20&&(r.width=s.width+20)}r.height=35})):this.buttons.length>0&&this.buttons.forEach((function(e,i){var n=new c.Container;t.addChild(n);var r=null;void 0!==t.btnNormal&&""!==t.btnNormal?((r=new a.Image).src=t.btnNormal,r.id=i+"_image"):(r=new h.Rect,t.btnColors.length>i&&(r.color=t.btnColors[i]),r.radius=5,r.lineWidth=1,r.lineColor=8947848,r.id=i+"_rect"),r.interactabled=!0,r.anchorY=r.anchorX=.5,n.addChild(r),t._buttonsDisplays.push(r),r.on(u.TouchMouseEvent.onHover,t.onHover,t),r.on(u.TouchMouseEvent.onPress,t.onPress,t),r.on(u.TouchMouseEvent.onClick,t.onClick,t);var s=new o.Label;s.text=e,s.style.fontSize=20,s.color=t.btnTextColors[i],n.addChild(s),s.pivotX=s.width/2,s.pivotY=s.height/2,r.height=30,r.width=s.width+20})),this._updateDisplayList()},e.prototype._updateDisplayList=function(){var t=0;(this._titleDisplay&&(t+=40),t+=90,this._contentDisplay)&&(t+=i=this._contentDisplay.height-50>0?this._contentDisplay.height-50:0);this._buttonsDisplays.length>0&&(t+=40),this.height=t,this._bgDisplay&&(this._bgDisplay.width=this.width,this._bgDisplay.height=this.height);var e=-this.height/2;if(this._titleDisplay&&(this._titleDisplay.pivotX=this._titleDisplay.width/2,this._titleDisplay.pivotY=this._titleDisplay.height/2,this._titleDisplay.x=0,this._titleDisplay.y=e+25,e+=40,this._lineDisplay&&(this._lineDisplay.y=e)),this._iconDisplay&&(this._iconDisplay.x=-this.width/2+60,this._contentDisplay)){var i=this._contentDisplay.height-50>0?this._contentDisplay.height-50:0;this._iconDisplay.y=e+45+i/2}if(this._contentDisplay){this._contentDisplay.pivotX=this._contentDisplay.width/2,this._contentDisplay.pivotY=this._contentDisplay.height/2;i=this._contentDisplay.height-50>0?this._contentDisplay.height-50:0;this._contentDisplay.y=e+45+i/2,this._iconDisplay?this._contentDisplay.x=-this.width/2+80+30+this._contentDisplay.width/2:"left"==this.textAlign?this._contentDisplay.x=-this.width/2+30+this._contentDisplay.width/2:this._contentDisplay.x=0,e+=i}e+=90;for(var n=0,r=0;r<this._buttonsDisplays.length;++r){(s=this._buttonsDisplays[r]).width>n&&(n=s.width)}var o=-(this._buttonsDisplays.length*(n+20)-20)/2;for(r=0;r<this._buttonsDisplays.length;++r){var s,a=(s=this._buttonsDisplays[r]).parent;s.width=n,a.x=o+n/2,o+=n+20,a.y=e+s.height/2}this.scaleX=this.scaleY=1},e.prototype.show=function(){var t=this;this._isShowing||(this.emit("SHOWED",this),this._isShowing=!0,this.visible=!0,this.scaleX=this.scaleY=1,this.duration>0&&l.Scheduler.setTimeout(this.duration,(function(){t.close()})))},e.prototype.close=function(){this._isShowing&&(this.emit("CLOSED",this),this._isShowing=!1,this.visible=!1,this.autoRelease&&this.releaseAll())},e.prototype.release=function(){t.prototype.release.call(this)},e.prototype.onHover=function(t,e,i){var n=e.id.split("_"),r=parseInt(n[0]),o=n[1];i?(e.style.cursor="pointer","rect"==o?e.alpha=.9:e.src="image"==o?this.btnHover:this.imgButtons[r].btnHover):(e.style.cursor="","rect"==o?e.alpha=1:e.src="image"==o?this.btnNormal:this.imgButtons[r].btnNormal)},e.prototype.onPress=function(t,e,i){var n=e.id.split("_"),r=parseInt(n[0]),o=n[1];i?"rect"==o?e.alpha=.8:e.src="image"==o?this.btnPressed:this.imgButtons[r].btnPressed:"rect"==o?e.alpha=1:e.src="image"==o?this.btnNormal:this.imgButtons[r].btnNormal},e.prototype.onClick=function(t,e){var i=e.id.split("_"),n=parseInt(i[0]);this.emit("CLICKBUTTON",this,n)},e}(s.DisplayObject);e.Alert=p},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AutoContainer=void 0;var o=i(13),s=i(20),a=i(6),h=i(0),l=function(t){function e(){var e=t.call(this)||this;return e.idCountDict={},e.timeLineList=[],e.tweenList=[],e.schedulerList=[],e}return r(e,t),e.prototype.createDisplayObject=function(t,e,i){return i||(i=this),e.id||(this.idCountDict[t]=this.idCountDict[t]||1,e.id=t+"_"+this.idCountDict[t]++),h.createDisplayObject(t,e,i)},e.prototype.createTimeLine=function(t){var e=new s.TimeLine(t);return this.timeLineList.push(e),e},e.prototype.createTween=function(t){var e=new a.Tween(t);return this.tweenList.push(e),e},e.prototype.setTimeout=function(t,e){var i=o.Scheduler.setTimeout(t,e);return this.schedulerList.push(i),i},e.prototype.setInterval=function(t,e){var i=o.Scheduler.setInterval(t,e);return this.schedulerList.push(i),i},e.prototype.setEnterFrame=function(t){var e=o.Scheduler.setEnterFrame(t);return this.schedulerList.push(e),e},e.prototype.release=function(){this.idCountDict={};for(var e=0;e<this.timeLineList.length;++e)this.timeLineList[e]&&this.timeLineList[e].release();this.timeLineList=[];for(e=0;e<this.tweenList.length;++e)this.tweenList[e]&&this.tweenList[e].release();this.tweenList=[];for(e=0;e<this.schedulerList.length;++e)this.schedulerList[e]&&this.schedulerList[e].stop();this.schedulerList=[],t.prototype.release.call(this)},e}(i(7).Container);e.AutoContainer=l}])}));